import{d as Ne,_ as xe,u as Ce,i as bt,k as be,r as l,o as u,c as r,a as e,b as s,t as n,e as P,F as ke,p as we,n as C,I as kt,av as m,h as tt,g as st,l as wt,S as Nt,q as x,f as W,y as xt,w as Y,T as w,G as Ct,s as ce,O as It,ai as $t,R as Tt,ac as Ve,aw as St,L as zt,v as ie,cl as Xe,b6 as Lt,ao as Dt,aG as Pt,P as At,Q as Vt}from"./index-7648d0ea.js";import{N as Mt}from"./index-81308b31.js";/* empty css              */import{u as Ut}from"./index-95048268.js";import{l as Ye}from"./config-f57d91a6.js";import{l as jt,a as Et,r as Ht,b as Bt,p as Rt,c as Ot,d as Ft}from"./activity.api-b42dcffb.js";import{B as ot}from"./index-142fa497.js";import{I as Me}from"./index-fb59af01.js";import{n as Gt}from"./login.api-af0f9d44.js";import{S as qt,a as Wt}from"./index-4845ca64.js";import"./index-4d9d1ef2.js";import"./index-1b0845c1.js";import"./use-id-47fe37c4.js";const Qt={class:"language-container"},Jt={class:"nation"},Kt=["src"],Xt=["onClick"],Yt=["src"],Zt=Ne({name:"LanguageChange"}),es=Object.assign(Zt,{setup(y){const{locale:L}=Ce(),U=bt(),f=be(()=>{const _=L.value||"en";return Ye.find(d=>d.key===_)}),A=be(()=>L.value||"en"),S=l(!1),R=_=>{const D=_==="ar"?"rtl":"rtr";document.documentElement.setAttribute("dir",D),U.setIsArLang(_==="ar"),U.setNotCnLang(!["cn","tw"].includes(_)),L.value=_,localStorage.setItem("lang",_),document.dispatchEvent(new CustomEvent("langChange")),S.value=!1};return(_,D)=>{const d=kt;return u(),r("div",Qt,[e("div",{class:"current",onClick:D[0]||(D[0]=b=>S.value=!S.value)},[e("div",Jt,[e("img",{src:s(f).image.href,alt:""},null,8,Kt)]),e("p",null,n(s(f).title),1),P(d,{name:"arrow-down",class:"icon"})]),e("div",{class:C([{active:S.value},"select-content"])},[(u(!0),r(ke,null,we(s(Ye),b=>(u(),r("div",{key:b.key,class:C([{active:b.key===s(A)},"item"]),onClick:Z=>R(b.key)},[e("img",{src:b.image.href,alt:""},null,8,Yt),e("p",null,n(b.title),1),P(d,{name:"success",class:"icon"})],10,Xt))),128))],2),e("div",{class:C([{active:S.value},"bg"]),onClick:D[1]||(D[1]=b=>S.value=!1)},null,2)])}}}),ts=xe(es,[["__scopeId","data-v-681eb37b"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/components/language-change/index.vue"]]),H=m("activity/turntable/block1.png"),B=m("activity/turntable/block2.png"),Ze=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ye=[0,1,2,3,4,5,6,7,8,9],et=["gmail.com","yahoo.com","hotmail.com","outllok.com","qq.com","163.com","126.com","sina.com","sohu.com","139.com","189.com","360.com","21cn.com","139.com","189.cn","wo.cn","aol.com","protonmail.com","zoho.com","icloud.com","mail.ru","t-online.de","orange.fr","yahoo.co.uk","libero.it","yandex.ru","yahoo.com.sg","naver.com","saudi.net","rediffmail.com","indiatimes.com","yahoo.co.in","sify.com","naukri.com"],X=l([{x:0,y:0,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:H,width:"100%",height:"100%",activeSrc:B}]},{x:1,y:0,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:H,width:"100%",height:"100%",activeSrc:B}]},{x:2,y:0,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:H,width:"100%",height:"100%",activeSrc:B}]},{x:2,y:1,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:H,width:"100%",height:"100%",activeSrc:B}]},{x:2,y:2,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:H,width:"100%",height:"100%",activeSrc:B}]},{x:1,y:2,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:H,width:"100%",height:"100%",activeSrc:B}]},{x:0,y:2,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:H,width:"100%",height:"100%",activeSrc:B}]},{x:0,y:1,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:H,width:"100%",height:"100%",activeSrc:B}]},{x:1,y:1,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:H,width:"100%",height:"100%",activeSrc:B}]}]);const ss={class:"login-content"},os={class:"dialog-title"},as={class:"type-tab"},ls=["onClick"],ns={class:"form-content"},is={key:0,class:"item"},cs={key:1,class:"item"},us={class:"item"},rs={class:"btn"},ds=Ne({name:"LoginDialog"}),vs=Object.assign(ds,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(y,{emit:L}){const U=y,{t:f,locale:A}=Ce(),S=tt(),R=st(),_=()=>{L("update:modelValue",!1)},D=["email","phoneNum"],d=l(0),b=l(!1),Z=localStorage.getItem("areaCode")?localStorage.getItem("areaCode"):44,V=l(Z),o=wt({username:"",password:""}),Ie=$=>{$!==d.value&&(d.value=$,o.username="",o.password="")},ue=()=>{const{hostname:$,origin:p}=window.location,Q=$==="localhost"?"https://thsjbvh.site/promote/#/":`${p}/promote/#/`;window.open(`${Q}?lang=${A.value}`)},O=()=>{const $=d.value===0?"entryEmail":"entryPhone";if(o.username==="")return w(f($)),!1;if(o.password==="")return w(f("entryPassword")),!1;b.value=!0,Gt({username:d.value==0?o.username:`${V.value} ${o.username}`,password:o.password}).then(async p=>{await S[Ct](p),w(f("loginSuc")),b.value=!1,setTimeout(()=>{_(),L("done")},1500)}).catch(p=>{b.value=!1,console.log(p)})};return Nt(()=>U.modelValue,$=>{$||(d.value=0,o.username="",o.password="")}),($,p)=>{const Q=ot;return u(),r("div",{class:C([{active:y.modelValue},"login-dialog"])},[e("div",ss,[e("div",os,n(s(f)("\u5356\u5BB6\u767B\u5F55")),1),e("div",as,[(u(),r(ke,null,we(D,(z,F)=>e("div",{key:F,class:C([{active:F===d.value},"item"]),onClick:ee=>Ie(F)},n(s(f)(z)),11,ls)),64))]),e("div",ns,[d.value===0?(u(),r("div",is,[P(Me,{modelValue:o.username,"onUpdate:modelValue":p[0]||(p[0]=z=>o.username=z),type:"text","is-turn":!0,placeholder:s(f)("entryEmail"),clear:""},null,8,["modelValue","placeholder"])])):x("v-if",!0),d.value===1?(u(),r("div",cs,[P(Me,{modelValue:o.username,"onUpdate:modelValue":p[1]||(p[1]=z=>o.username=z),codeNum:V.value,"onUpdate:codeNum":p[2]||(p[2]=z=>V.value=z),type:"tel","is-turn":!0,placeholder:s(f)("entryPhone"),clear:"","area-code":""},null,8,["modelValue","codeNum","placeholder"])])):x("v-if",!0),e("div",us,[P(Me,{modelValue:o.password,"onUpdate:modelValue":p[3]||(p[3]=z=>o.password=z),type:"password","is-turn":!0,placeholder:s(f)("entryPassword"),clear:"","show-password":""},null,8,["modelValue","placeholder"])]),e("div",{class:C(["link-content",{"is-ar":s(R)}])},[e("p",null,[W(n(s(f)("\u5982\u679C\u60A8\u6CA1\u6709\u8D26\u53F7"))+", ",1),e("span",{class:"link",onClick:ue},n(s(f)("\u70B9\u51FB\u6CE8\u518C")),1)]),e("p",{onClick:p[4]||(p[4]=z=>s(xt)(!0)),class:"link"},n(s(f)("forgetPassword")),1)],2),e("div",rs,[P(Q,{type:"custom",loading:b.value,block:"",onClick:O},{default:Y(()=>[W(n(s(f)("login")),1)]),_:1},8,["loading"])])])]),e("div",{class:"login-bg",onClick:_})],2)}}}),fs=xe(vs,[["__scopeId","data-v-88e63e2d"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/views/activityCenter/turntable/components/LoginDialog.vue"]]);const ms={class:"tips-content"},ps={class:"dialog-title"},gs={class:"info-content"},_s={class:"txt-content"},hs={key:0},ys={key:1},bs={class:"btn"},ks=Ne({name:"TipsDialog"}),ws=Object.assign(ks,{props:{modelValue:{type:Boolean,default:!1},tipsTitle:{type:String,default:""},tipsInfo:{type:String,default:""},again:{type:Boolean,default:!1},times:{type:Number,default:0}},emits:["update:modelValue","again"],setup(y,{emit:L}){const U=y,{t:f}=Ce(),A=()=>{L("update:modelValue",!1)},S=()=>{U.times?_():A()},R=()=>{U.times||A()},_=()=>{A(),L("again")};return(D,d)=>{const b=ot;return u(),r("div",{class:C([{active:y.modelValue},"tips-dialog"])},[e("div",ms,[e("div",ps,n(s(f)("\u63D0\u793A")),1),e("div",gs,[e("div",_s,[y.tipsTitle?(u(),r("p",hs,n(y.tipsTitle),1)):x("v-if",!0),y.tipsInfo?(u(),r("h2",ys,n(y.tipsInfo),1)):x("v-if",!0)]),e("div",bs,[y.again?(u(),ce(b,{key:0,type:"custom",block:"",onClick:_},{default:Y(()=>[W(n(s(f)("\u518D\u62BD\u4E00\u6B21")),1)]),_:1})):(u(),ce(b,{key:1,type:"custom",block:"",onClick:S},{default:Y(()=>[W(n(y.times?s(f)("\u786E\u5B9A"):s(f)("\u77E5\u9053\u4E86")),1)]),_:1})),y.again?(u(),ce(b,{key:2,type:"cancel",block:"",onClick:A},{default:Y(()=>[W(n(s(f)("\u53D6\u6D88")),1)]),_:1})):x("v-if",!0)])])]),e("div",{class:"tips-bg",onClick:R})],2)}}}),Ns=xe(ws,[["__scopeId","data-v-6ca20a48"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/views/activityCenter/turntable/components/TipsDialog.vue"]]);const v=y=>(At("data-v-2b7b83b6"),y=y(),Vt(),y),xs={class:"turntable-page"},Cs={class:"audio-container"},Is=["src"],$s=["src"],Ts=["src"],Ss=["src"],zs=["src"],Ls={key:0,class:"turntable-warp"},Ds={class:"language-content"},Ps={class:"play"},As=["src"],Vs={class:"img-width light-left"},Ms=["src"],Us={class:"img-width light-right"},js=["src"],Es={class:"img-width cart"},Hs=["src"],Bs={class:"img-height target"},Rs=["src"],Os={class:"img-height trumpet1"},Fs=["src"],Gs={class:"img-width trumpet2"},qs=["src"],Ws={class:"shadow-txt"},Qs={class:"title-info"},Js={class:"turntable-container"},Ks=["src"],Xs={class:"notice-content"},Ys={class:"notice-item"},Zs=v(()=>e("div",{class:"item"},null,-1)),eo=v(()=>e("div",{class:"item"},null,-1)),to=v(()=>e("div",{class:"item"},null,-1)),so=[Zs,eo,to],oo=v(()=>e("div",{class:"item"},null,-1)),ao=v(()=>e("div",{class:"item"},null,-1)),lo=v(()=>e("div",{class:"item"},null,-1)),no=[oo,ao,lo],io=v(()=>e("div",{class:"item"},null,-1)),co=v(()=>e("div",{class:"item"},null,-1)),uo=v(()=>e("div",{class:"item"},null,-1)),ro=[io,co,uo],vo=v(()=>e("div",{class:"item"},null,-1)),fo=v(()=>e("div",{class:"item"},null,-1)),mo=v(()=>e("div",{class:"item"},null,-1)),po=[vo,fo,mo],go={key:0,dir:"ltr",class:"lottery-content"},_o={dir:"ltr",class:"btn-content"},ho={key:0},yo={key:0,class:"color"},bo={class:"item"},ko={key:0},wo={class:"item"},No={class:"block-content"},xo=v(()=>e("div",{class:"block-bottom"},null,-1)),Co=v(()=>e("div",{class:"block-line left"},null,-1)),Io=v(()=>e("div",{class:"block-line right"},null,-1)),$o={class:"title"},To={class:"content my-prize"},So={class:"item"},zo={class:"item"},Lo={key:0,class:"block-content"},Do=v(()=>e("div",{class:"block-bottom"},null,-1)),Po=v(()=>e("div",{class:"block-line left"},null,-1)),Ao=v(()=>e("div",{class:"block-line right"},null,-1)),Vo={class:"title"},Mo={class:"content invite"},Uo={class:"link-content"},jo={class:"txt"},Eo={key:1,dir:"ltr",class:"block-content"},Ho=v(()=>e("div",{class:"block-bottom"},null,-1)),Bo=v(()=>e("div",{class:"block-line left"},null,-1)),Ro=v(()=>e("div",{class:"block-line right"},null,-1)),Oo={class:"title"},Fo={class:"prize"},Go=["src"],qo={key:0,class:"loading"},Wo={key:1,class:"no-data"},Qo={class:"block-content bg2"},Jo=v(()=>e("div",{class:"block-bottom"},null,-1)),Ko=v(()=>e("div",{class:"block-line left"},null,-1)),Xo=v(()=>e("div",{class:"block-line right"},null,-1)),Yo={class:"title"},Zo={class:"content intro"},ea=["innerHTML"],ta=Ne({name:"ActivityTurntable"}),sa=Object.assign(ta,{setup(y){const L=It(),{toClipboard:U}=Ut(),f=$t(),A=tt(),S=l(!1),R=be(()=>({...{username:"",email:""},...A.userInfo})),_=be(()=>R.value.username||R.value.email||""),D=st(),d=l(""),b=m("activity/turntable/default-imgs.png"),Z=m("activity/turntable/default-imgs1.png"),V=l(!1),{t:o,locale:Ie}=Ce(),ue=l(!1),O=l(!0),$=l(),p=l(),Q=l(),z=l(),F=l(),ee=l([]),re=l(""),de=l(""),J=l(!1),te=l(),I=l([]),h=l({}),Ue=async()=>{w.loading({duration:0,forbidClick:!0}),await Ot({activityId:d.value}).then(a=>{he.value=!0;let t=a.prizeList||[];if(t.length>9&&(t=t.slice(0,9)),I.value=t,h.value=a,I.value.length)for(let i=0;i<I.value.length;i++)X.value[i].id=I.value[i].id,X.value[i].prizeName=I.value[i].prizeName,X.value[i].fonts[0].text=I.value[i].prizeName,X.value[i].imgs.push({src:I.value[i].image||(Number(I.value[i].prizeType)===3?b:Z),width:"34%",top:"20%"});at(),Ve(()=>{S.value=!0,w.clear()})}).catch(()=>{he.value=!1})},at=()=>{const a=[];for(let t=0;t<50;t++){const i=Math.random()<.5;let k="";if(i){let N="",T="";const c=Math.floor(Math.random()*4),le=Math.floor(Math.random()*5),ht=Math.floor(Math.random()*et.length),yt="@"+et[ht];for(let ne=0;ne<c;ne++){const Ae=Math.floor(Math.random()*Ze.length);N+=Ze[Ae]}for(let ne=0;ne<le;ne++){const Ae=Math.floor(Math.random()*ye.length);T+=ye[Ae]}k=`${N}**${T}${yt}`}else{let N="";for(let T=0;T<4;T++){const c=Math.floor(Math.random()*ye.length);N+=ye[c]}k=`**${N}`}const g=lt();a.push(`${k} ${o("\u62BD\u4E2D\u4E86")} ${g}`)}ee.value=a},lt=()=>{const a=I.value.filter(c=>Number(c.prizeType)!==3),t=[...new Set(a.map(c=>c.odds))].sort((c,le)=>c-le),i=t.reduce((c,le)=>c+le,0),k=Math.random()*i,g=nt(k,t),N=I.value.filter(c=>c.odds===t[g]),T=Math.floor(Math.random()*N.length);return N[T].prizeName},nt=(a,t)=>{for(let i=0;i<t.length;i++)if(a<t[i])return i;return t.length-1},it=()=>{O.value=!O.value,O.value?$.value.play():$.value.pause()},ve=l(!1),M=l(!1),j=l(""),E=l(""),$e=l(!1),je=(a=!1)=>{if(V.value){if(!h.value.state)return j.value="",E.value=o("\u6D3B\u52A8\u672A\u5F00\u542F"),M.value=!0,!1;const t=new Date().getTime(),i=new Date(h.value.startTime).getTime(),k=new Date(h.value.endTime).getTime();if(i>t)return j.value=o("\u6D3B\u52A8\u5F00\u59CB\u65F6\u95F4"),E.value=h.value.startTime,M.value=!0,!1;if(!a){if(k<t)return j.value=o("\u672C\u6B21\u6D3B\u52A8\u5DF2\u7ED3\u675F"),E.value=o("\u6B22\u8FCE\u4E0B\u6B21\u518D\u6765\uFF01"),M.value=!0,!1;if(Number(G.value)<Number(h.value.pointsToNumber))return j.value="",E.value=o("\u79EF\u5206\u4E0D\u8DB3"),M.value=!0,!1}return!0}else return S.value?ve.value=!0:w(o("\u8BF7\u7A0D\u540E\u91CD\u8BD5")),!1},Ee=l(!1),He=l(0),Te=async a=>{if(Pe(),je()){if(!Je.value){w(o("\u672A\u8BA4\u8BC1\u5546\u5BB6"));return}Ee.value=a,a?Number(G.value)<Number(h.value.pointsToNumber)*5?(j.value="",E.value=o("\u79EF\u5206\u4E0D\u8DB3"),M.value=!0):Re(!0):Re(!1)}},Be=a=>a?I.value.findIndex(t=>t.id===a):I.value.findIndex(t=>Number(t.prizeType)===3),K=l(!1),se=l([]),Re=async a=>{K.value||($e.value=!1,se.value=[],K.value=!0,te.value.play(),p.value.play(),J.value=!0,await jt({drawTimes:a?5:1,activityId:d.value}).then(t=>{let i=null;if(t){const k=a?Number(h.value.pointsToNumber)*5:Number(h.value.pointsToNumber);if(G.value=Number(G.value)-k,a){const g=I.value.find(T=>Number(T.prizeType)===3).id;se.value=t;const N=t.find(T=>T.id!==g);i=N?N.id:g}else i=t[0].id}else w(o("\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"));te.value.stop(Be(i))}).catch(t=>{te.value.stop(Be()),t==="login"&&window.location.reload()}))},ct=a=>{const t=I.value.find(i=>i.id===a.id);if(p.value.pause(),p.value.currentTime=0,J.value=!1,K.value=!1,pe(!0),se.value.length){Number(t.prizeType)===3?F.value.play():z.value.play();const i=I.value.find(g=>Number(g.prizeType)===3).id,k=se.value.filter(g=>g.id!==i);for(let g=0;g<k.length;g++){let N=I.value.find(c=>c.id===k[g].id);ee.value.push(`${Xe(_.value,!1)} ${o("\u62BD\u4E2D\u4E86")} ${N.prizeName}`);const T={...N,prizeImage:N.image,id:new Date().getTime()};q.value.unshift(T)}j.value=k.length?o("\u606D\u559C\u60A8\uFF0C\u4E2D\u5956\u4E86\uFF01"):o("\u5F88\u9057\u61BE\uFF0C\u6B64\u6B21\u672A\u80FD\u4E2D\u5956"),E.value=se.value.map(g=>g.prizeName).join(`
`),M.value=!0}else if($e.value=Number(G.value)>Number(h.value.pointsToNumber)&&!Ee.value&&!He.value,Number(t.prizeType)===3)F.value.play(),j.value=o("\u5F88\u9057\u61BE\uFF0C\u6B64\u6B21\u672A\u80FD\u4E2D\u5956"),E.value=t.prizeName,M.value=!0;else{z.value.play(),j.value=o("\u606D\u559C\u60A8\uFF0C\u4E2D\u5956\u4E86\uFF01"),E.value=t.prizeName,M.value=!0,ee.value.push(`${Xe(_.value,!1)} ${o("\u62BD\u4E2D\u4E86")} ${t.prizeName}`);const i={...t,prizeImage:t.image,id:new Date().getTime()};q.value.unshift(i)}},Oe=()=>{!ue.value&&he.value&&($.value.play(),O.value=!0,ue.value=!0)},oe=l({gutter:20,speed:20}),ut=l({borderRadius:0,lineClamp:1}),rt=l({background:"rgba(0,0,0,0)"}),Se=l(!1),ze=l(!1),Fe=a=>{a?Se.value=!0:ze.value=!0},Ge=a=>{a?Se.value=!1:ze.value=!1},G=l(0),qe=async(a=!1)=>{a&&w.loading({duration:0,forbidClick:!0}),await Ft({activityId:d.value}).then(t=>{V.value=!0,G.value=t||0}).catch(()=>{console.log("need login")})},dt=()=>{V.value=!0,Ke(),qe(!0),pe(),_e(!0),Qe()},fe=l(0),me=l(0),pe=async(a=!1)=>{a||w.loading({duration:0,forbidClick:!0}),await Et({activityId:d.value}).then(t=>{fe.value=t.amount||0,me.value=t.goodsNum||0})},We=a=>{if(Pe(),je(!0)){if(Number(a)===1){if(!me.value){w(o("\u6682\u65E0\u5956\u54C1"));return}}else if(fe.value<Number(h.value.minPoints)){w(`${o("\u6700\u5C0F\u9886\u53D6\u91D1\u989D")}\u2265${h.value.minPoints}`);return}w.loading({duration:0,forbidClick:!0}),Ht({activityId:d.value,prizeType:a}).then(async()=>{await pe(),w(o("\u9886\u53D6\u6210\u529F"))}).catch(()=>{w.clear()})}},vt=l(0),ft=l(0),ge=l(""),Qe=()=>{Lt().then(a=>{ge.value=a.download&&a.code?`${a.download}/#?usercode=${a.code}`:""}),Bt({activityId:d.value}).then(a=>{vt.value=a.number||0,ft.value=a.points||0})},mt=async()=>{Pe();try{await U(ge.value),w(o("copySuccess"))}catch(a){console.error(a)}},pt=l(),gt=l(20),Le=l(1),q=l([]),De=l(!0),ae=l(!1),_e=(a=!1)=>{a&&(Le.value=1,De.value=!0,q.value=[]),De.value&&!ae.value&&(ae.value=!0,Rt({pageNum:Le.value,pageSize:gt.value,activityId:d.value}).then(t=>{Le.value+=1,De.value=!t.pageInfo.lastPage,q.value=[...q.value,...t.pageList],ae.value=!1}).catch(()=>{ae.value=!1}))},_t=a=>{const t=a.target;Math.ceil(t.scrollLeft+t.clientWidth)>=t.scrollWidth-50&&_e()},Je=l(!1),Ke=()=>{Dt().then(a=>{Je.value=Number(a.status)===2})};Tt(()=>{document.removeEventListener("click",Oe)});const he=l(!1);Ve(async()=>{document.addEventListener("click",Oe,!1),document.addEventListener("langChange",async()=>{await Ue(),_e(!0),Ve(()=>{te.value.init()})}),L?(re.value="60vw",de.value="56vw",oe.value.gutter=5,oe.value.speed=50,X.value.forEach(k=>{k.fonts&&k.fonts.forEach(g=>{g.fontSize="2.4vw"})})):(re.value="690px",de.value="630px",oe.value.gutter=20,oe.value.speed=20),$.value.volume=.25;const{lang:a,token:t,id:i}=f.query;a&&(Ie.value=a,localStorage.setItem("lang",a)),t&&(w.loading({duration:0}),await A.getUserInfo(!0,t)),i?(d.value=i,d.value&&(await Ue(),S.value&&(await qe(!0),V.value&&(Ke(),pe(),Qe(),_e(!0))))):w(o("\u6682\u65E0\u6D3B\u52A8"))});const Pe=()=>{Q.value.play()};return(a,t)=>{const i=qt,k=Wt,g=St("LuckyGrid"),N=Mt,T=zt;return u(),r("div",xs,[e("div",Cs,[x(` <audio :src="getImg('activity/turntable/audio/bg.mp3')" autoplay loop="loop" ref="bgAudio"></audio> `),e("audio",{src:s(m)("activity/turntable/audio/bg.mp3"),loop:"loop",ref_key:"bgAudio",ref:$},null,8,Is),e("audio",{src:s(m)("activity/turntable/audio/rolling.mp3"),loop:"loop",ref_key:"rollingAudio",ref:p},null,8,$s),e("audio",{src:s(m)("activity/turntable/audio/click.mp3"),ref_key:"clickAudio",ref:Q},null,8,Ts),e("audio",{src:s(m)("activity/turntable/audio/success.mp3"),ref_key:"successAudio",ref:z},null,8,Ss),e("audio",{src:s(m)("activity/turntable/audio/fail.mp3"),ref_key:"failAudio",ref:F},null,8,zs)]),x(" \u767B\u5F55\u5F39\u7A97 "),P(fs,{modelValue:ve.value,"onUpdate:modelValue":t[0]||(t[0]=c=>ve.value=c),onDone:dt},null,8,["modelValue"]),x(" \u63D0\u793A\u5F39\u7A97 "),P(Ns,{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=c=>M.value=c),"tips-title":j.value,"tips-info":E.value,again:$e.value,times:He.value,onAgain:t[2]||(t[2]=c=>Te(!1))},null,8,["modelValue","tips-title","tips-info","again","times"]),he.value?(u(),r("div",Ls,[e("div",Ds,[P(ts)]),e("div",{class:"play-content",onClick:it},[e("div",Ps,[e("img",{src:s(m)(O.value?"activity/turntable/icon1.png":"activity/turntable/icon2.png"),alt:""},null,8,As)])]),e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/page-header.png")+")"}),class:"page-header"},[e("div",Vs,[e("img",{src:s(m)("activity/turntable/light-left.png"),alt:""},null,8,Ms)]),e("div",Us,[e("img",{src:s(m)("activity/turntable/light-right.png"),alt:""},null,8,js)]),e("div",Es,[e("img",{src:s(m)("activity/turntable/cart.png"),alt:""},null,8,Hs)]),e("div",Bs,[e("img",{src:s(m)("activity/turntable/target.png"),alt:""},null,8,Rs)]),e("div",Os,[e("img",{src:s(m)("activity/turntable/trumpet1.png"),alt:""},null,8,Fs)]),e("div",Gs,[e("img",{src:s(m)("activity/turntable/trumpet2.png"),alt:""},null,8,qs)]),e("h1",null,n(s(o)("\u5F00\u5E97\u8D62\u5927\u5956")),1),e("h1",Ws,n(s(o)("\u5F00\u5E97\u8D62\u5927\u5956")),1),e("div",Qs,[e("div",null,n(s(o)("\u5E78\u8FD0\u8F6C\u4E0D\u505C")),1)])],4),e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/page-bg.png")+")"}),class:"page-content"},[e("div",Js,[e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/machine2.png")+")"}),class:"machine-content"},[e("div",{class:C([{active:K.value},"img-width rod"])},[e("img",{src:s(m)("activity/turntable/machine1.png"),alt:""},null,8,Ks)],2),e("div",Xs,[P(k,{class:"swiper",autoplay:3e3,"show-indicators":!1,vertical:""},{default:Y(()=>[(u(!0),r(ke,null,we(ee.value,c=>(u(),ce(i,{key:c},{default:Y(()=>[e("div",Ys,n(c),1)]),_:2},1024))),128))]),_:1})]),e("div",{class:C(["light-content top left",{active:J.value}])},so,2),e("div",{class:C(["light-content top right",{active:J.value}])},no,2),e("div",{class:C(["light-content bottom left",{active:J.value}])},ro,2),e("div",{class:C(["light-content bottom right",{active:J.value}])},po,2),re.value&&de.value?(u(),r("div",go,[P(g,{ref_key:"lotteryCanvas",ref:te,width:re.value,height:de.value,"default-config":oe.value,"default-style":ut.value,"active-style":rt.value,prizes:s(X),onEnd:ct},null,8,["width","height","default-config","default-style","active-style","prizes"])])):x("v-if",!0),e("div",_o,[e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/start-btn1.png")+")"}),class:C([{active:Se.value,disabled:K.value},"btn one"]),onClick:t[3]||(t[3]=c=>Te(!1)),onTouchstart:t[4]||(t[4]=c=>Fe(!0)),onTouchend:t[5]||(t[5]=c=>Ge(!0))},[e("h3",null,n(s(o)("\u62BDN\u6B21",{times:1})),1),h.value.pointsToNumber?(u(),r("p",ho,n(s(o)("\u6D88\u8017N\u79EF\u5206",{points:h.value.pointsToNumber})),1)):x("v-if",!0)],38),e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/start-btn2.png")+")"}),class:C([{active:ze.value,disabled:K.value},"btn two"]),onClick:t[6]||(t[6]=c=>Te(!0)),onTouchstart:t[7]||(t[7]=c=>Fe(!1)),onTouchend:t[8]||(t[8]=c=>Ge(!1))},[e("h3",null,n(s(o)("\u62BDN\u6B21",{times:5})),1),h.value.pointsToNumber?(u(),r("p",yo,n(s(o)("\u6D88\u8017N\u79EF\u5206",{points:h.value.pointsToNumber*5})),1)):x("v-if",!0)],38)]),V.value?(u(),r("div",{key:1,class:C([{"is-ar":s(D)},"user-content"])},[e("div",bo,[s(L)?(u(),ce(N,{key:1,color:"#ffffff",background:"rgba(0,0,0,0)",text:s(_)+" "+s(o)("\u6B22\u8FCE\u60A8\uFF01")},null,8,["text"])):(u(),r("div",ko,[e("span",null,n(s(_)),1),W(" "+n(s(o)("\u6B22\u8FCE\u60A8\uFF01")),1)]))]),e("div",wo,[W(n(s(o)("\u5269\u4F59\u79EF\u5206"))+" ",1),e("span",null,n(G.value),1)])],2)):(u(),r("div",{key:2,class:"user-content login",onClick:t[9]||(t[9]=c=>ve.value=!0)},n(s(o)("\u8BF7\u5148\u767B\u5F55")),1))],4),e("div",No,[xo,Co,Io,e("div",$o,n(s(o)("\u6211\u7684\u5956\u54C1")),1),e("div",To,[e("div",So,[e("h2",null,n(s(Pt)(fe.value)),1),e("p",null,n(s(o)("\u7D2F\u8BA1\u5F69\u91D1")),1),e("div",{class:C({active:fe.value>h.value.minPoints}),onClick:t[10]||(t[10]=c=>We(2))},n(s(o)("\u9886\u53D6")),3)]),e("div",zo,[e("h2",null,n(me.value),1),e("p",null,n(s(o)("\u83B7\u5F97\u5B9E\u7269")),1),e("div",{class:C({active:me.value}),onClick:t[11]||(t[11]=c=>We(1))},n(s(o)("\u9886\u53D6")),3)])])]),ge.value?(u(),r("div",Lo,[Do,Po,Ao,e("div",Vo,n(s(o)("\u9080\u8BF7\u597D\u53CB")),1),e("div",Mo,[e("div",Uo,[e("div",jo,n(ge.value),1),e("div",{class:"btn",onClick:mt},n(s(o)("\u590D\u5236\u94FE\u63A5")),1)]),x(` <p v-html="t('\u6210\u529F\u9080\u8BF7N\u4EBA\uFF0C\u83B7\u5F97N\u79EF\u5206', {num: inviteNumber, points: invitePoints})"></p>
              <p v-html="t('\u6BCF\u9080\u8BF7N\u4E2A\u597D\u53CB\u5F00\u5E97\u53EF\u83B7\u5F97N\u79EF\u5206', {num: 1, points: activityInfo.invitePoints})"></p> `)])])):x("v-if",!0),V.value?(u(),r("div",Eo,[Ho,Bo,Ro,e("div",Oo,n(s(o)("\u6211\u7684\u4E2D\u5956")),1),e("div",{class:"content record",onScroll:t[12]||(t[12]=c=>_t(c))},[q.value.length?(u(),r("div",{key:0,class:"record-content",ref_key:"recordContent",ref:pt},[(u(!0),r(ke,null,we(q.value,c=>(u(),r("div",{key:c.id,class:"item"},[e("div",Fo,[e("img",{src:c.prizeImage||s(Z),alt:""},null,8,Go)]),e("p",null,n(c.prizeName),1)]))),128)),ae.value?(u(),r("div",qo,[P(T,{color:"#ffffff",type:"spinner"})])):x("v-if",!0)],512)):(u(),r("div",Wo,n(s(o)("\u6682\u65E0\u4E2D\u5956\u8BB0\u5F55")),1))],32)])):x("v-if",!0),e("div",Qo,[Jo,Ko,Xo,e("div",Yo,n(s(o)("\u6D3B\u52A8\u89C4\u5219")),1),e("div",Zo,[h.value.description?(u(),r("div",{key:0,innerHTML:h.value.description},null,8,ea)):x("v-if",!0)])])])],4)])):x("v-if",!0)])}}}),ga=xe(sa,[["__scopeId","data-v-2b7b83b6"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/views/activityCenter/turntable/index.vue"]]);export{ga as default};
