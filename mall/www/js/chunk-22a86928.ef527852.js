(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-22a86928"],{4165:function(t,e,a){a("b550")},9661:function(t,e,a){a.r(e);var s=a("6eef"),i=(a("4260"),a("107a"),a("49d8")),r=(i={props:{data:{type:Object,default:()=>{}},refresh:{type:Function,default:()=>{}}},mixins:[i.a],data(){return{currentOrderInfo:this.data,returnStatusText:{1:this.$t("message.home.order.refunding"),2:this.$t("message.home.order.refundSuccess"),3:this.$t("message.home.order.refundFail")}}},methods:{getStatusButtons(t){switch(t){case-1:return[this.queryButton];case 0:return[this.queryButton,this.payButton,this.cancelButton];case 1:case 2:return[this.queryButton,this.sendInfoButton,this.returnPayButton];case 3:return[this.queryButton,this.confirmButton,this.queryLogisticsButton,this.returnPayButton];case 4:return[this.queryButton,this.evaluateButton,this.queryLogisticsButton];case 5:case 6:return[this.queryButton,this.queryLogisticsButton]}}}},a("4165"),a("cea0"));i={name:"my-order",components:{OrderItem:Object(r.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"oder_item_container"},[e("div",{staticClass:"left"},[e("div",{staticClass:"item"},[e("span",[t._v(t._s(t.$t("message.home.serialNumber"))+": "+t._s(t.data.id)+" "),e("i",{staticClass:"el-icon-copy-document",staticStyle:{cursor:"pointer"},on:{click:t.copy}})]),e("span",{staticClass:"statusText"},[t._v(t._s(t.getOrderStatusLable(t.data.status)))])]),e("div",{staticClass:"item"},[e("span",[t._v(t._s(t.$t("message.home.Information"))+"ï¼š")]),e("div",{staticClass:"info"},[e("span",[t._v(" "+t._s(t.data.goodsCount)+t._s(t.$t("message.home.Item"))+" ")]),e("span",[t._v(" "+t._s(t.$t("message.home.From"))+" "+t._s(t.data.goodsFrom)+" ")])])]),e("div",{staticClass:"item"},[e("span",[t._v(t._s(t.$t("message.home.amount")))]),e("span",{staticClass:"amount"},[t._v(" $"+t._s(t.numberFormat(t.data.priceCount+t.data.fees+t.data.tax))+" ")])])]),e("div",{staticClass:"divider"}),e("div",{staticClass:"right"},t._l(t.getStatusButtons(t.data.status),(function(a){return e("div",{key:a.key,staticClass:"button",class:[a.activity?"active":""],on:{click:a.func}},[t._v(" "+t._s(a.text)+" ")])})),0),6==t.data.status?e("div",{class:3==t.data.returnStatus?"fail return_button":"return_button"},[t._v(" "+t._s(t.returnStatusText[t.data.returnStatus])+" ")]):t._e(),e("order-logistics-dialog",{attrs:{currentOrderInfo:t.currentOrderInfo,refresh:t.refresh},model:{value:t.logisticsDialogVisible,callback:function(e){t.logisticsDialogVisible=e},expression:"logisticsDialogVisible"}}),e("order-payment-dialog",{attrs:{currentOrderInfo:t.currentOrderInfo,refresh:t.refresh},on:{closePay:t.closePayDialog},model:{value:t.paymentDialogVisible,callback:function(e){t.paymentDialogVisible=e},expression:"paymentDialogVisible"}}),e("order-cancel-dialog",{attrs:{currentOrderInfo:t.currentOrderInfo,refresh:t.refresh},model:{value:t.cancelDialogVisible,callback:function(e){t.cancelDialogVisible=e},expression:"cancelDialogVisible"}})],1)}),[],!1,null,"5b92445e",null).exports},data(){return{tabs:[{label:this.$t("message.home.all"),value:""},{label:this.$t("message.home.pending"),value:"0"},{label:this.$t("message.home.delivered"),value:"1"},{label:this.$t("message.home.receipt"),value:"3"},{label:this.$t("message.home.comment"),value:"4"},{label:this.$t("message.home.refund"),value:"6"}],tabActive:"",loading:!1,pageNum:1,pageSize:5,total:0}},computed:{...Object(s.c)({orderList:"order/orderList"})},watch:{async tabActive(t,e){t!==e&&this.requestData(t?{status:t}:{})}},async mounted(){this.requestData()},activated(){this.requestData()},methods:{tabChange(t){this.tabActive!==t&&(this.pageNum=1,this.tabActive=t)},...Object(s.b)({requestOrderList:"order/requestOrderList"}),async requestData(t={}){this.loading||(this.loading=!0,this.requestOrderList({...t,pageNum:this.pageNum,pageSize:this.pageSize,status:this.tabActive}).then(t=>{this.total=(null==(t=t.pageInfo)?void 0:t.totalElements)||0,this.loading=!1}).catch(t=>{this.loading=!1}))},currentChange(t){this.pageNum=t,this.requestData()}}},a("ecea"),s=Object(r.a)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-order"},[e("div",{staticClass:"page-title"},[t._v(t._s(t.$t("message.home.myOrder")))]),e("div",{staticClass:"tabs"},t._l(t.tabs,(function(a){return e("div",{key:a.value,staticClass:"tab-item",class:{active:t.tabActive===a.value},on:{click:function(e){return t.tabChange(a.value)}}},[t._v(" "+t._s(a.label)+" ")])})),0),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"872px"}},[t.orderList.length?e("span",t._l(t.orderList,(function(a){return e("order-item",{key:a.id,attrs:{data:a,refresh:t.requestData}})})),1):t._e(),t.orderList.length||t.loading?t._e():e("el-empty",{attrs:{description:t.$t("message.home.noData")}})],1),t.orderList.length||t.total?e("div",{staticClass:"common-pagination"},[e("el-pagination",{staticClass:"es-pagination",attrs:{background:"",layout:"prev, pager,next","page-size":t.pageSize,"pager-count":5,"current-page":t.pageNum,total:t.total},on:{"current-change":t.currentChange}})],1):t._e()])}),[],!1,null,"3f76cdda",null);e.default=s.exports},"9e79":function(t,e,a){},b550:function(t,e,a){},ecea:function(t,e,a){a("9e79")}}]);