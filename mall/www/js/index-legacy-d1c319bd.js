System.register(["./index-legacy-feafbc7d.js","./index-legacy-99f4c28d.js","./index-legacy-82c20f05.js","./index-legacy-e4cb1343.js","./index-legacy-a8e8a5aa.js","./index-legacy-df5c3ae5.js","./index-legacy-d4badcca.js","./search-icon-legacy-91a4d779.js","./more-legacy-4ed4bf86.js","./editProfit-legacy-d18aa37c.js","./product.api-legacy-8c897ca6.js","./index-legacy-a0e14b19.js","./use-id-legacy-c2676cf6.js","./index-legacy-6ad7b90e.js","./index-legacy-14433eff.js","./index-legacy-d9d1f466.js","./index-legacy-8caf4737.js","./index-legacy-453e8e9c.js","./function-call-legacy-a81f3fc9.js","./index-legacy-0dd90213.js","./stringify-legacy-e0bf8929.js","./___vite-browser-external_commonjs-proxy-legacy-588142fe.js"],(function(e,t){"use strict";var a,i,l,n,s,o,c,r,d,p,f,g,v,u,h,b,x,m,y,k,w,A,j,_,C,L,S,z,U,N,O,E,F,J,G,T,I,B,H,V,M,P,Y,R=document.createElement("style");return R.textContent="[data-v-77847b5f] .van-field__body{padding-right:10px}.search-container[data-v-77847b5f]{padding-top:50px}.search-container.is-ar[data-v-77847b5f] .van-field__left-icon{margin-right:0;margin-left:8px}.search-container.is-ar[data-v-77847b5f] .van-search__content{padding-left:0;padding-right:12px}.search-container.is-ar[data-v-77847b5f] .van-field__control{text-align:right}.search-container.is-ar .search-history>.title>.clear>img[data-v-77847b5f]{margin-right:0;margin-left:5px}.search-container.is-ar .product-info[data-v-77847b5f]{padding-left:0;padding-right:10px}.search-container[data-v-77847b5f] .van-field__left-icon{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:16px;margin-right:8px}.search-container[data-v-77847b5f] .van-field__left-icon>img{width:100%;height:auto}.search-container[data-v-77847b5f] .van-nav-bar__left{padding-right:10px!important}.search-container[data-v-77847b5f] .van-nav-bar__title{width:73.6%!important;max-width:73.6%!important;position:relative}.search-container[data-v-77847b5f] .van-search{padding:0!important}.search-container[data-v-77847b5f] .van-search .van-search__content{background-color:#fff}.search-container .search-btn[data-v-77847b5f]{font-size:12px;color:#333}.search-container .search-history[data-v-77847b5f]{padding:0 15px}.search-container .search-history>.title[data-v-77847b5f]{padding:25px 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:14px;color:#000}.search-container .search-history>.title>.clear[data-v-77847b5f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.search-container .search-history>.title>.clear>img[data-v-77847b5f]{width:14px;height:auto;margin-right:5px}.search-container .search-history>.title>.clear>p[data-v-77847b5f]{font-size:14px;color:#333}.search-container .search-history>.content[data-v-77847b5f]{overflow:hidden}.search-container .search-history>.content.no[data-v-77847b5f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:14px;color:#999}.search-container .search-history>.content>.item[data-v-77847b5f]{float:left;padding:4px 15px;background-color:#fff;border-radius:5px;color:#999;font-size:12px;margin-right:14px;margin-bottom:22px}.search-container .search-tips-content>.item[data-v-77847b5f]{padding:23px 15px;border-bottom:1px solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.search-container .search-tips-content>.item .van-icon[data-v-77847b5f]{margin-right:5px}.search-container .search-tips-content>.item>p[data-v-77847b5f]{color:#333;font-size:12px}.search-container .shop-list-content[data-v-77847b5f]{padding:20px 15px}.search-container .shop-list-content>.tips[data-v-77847b5f]{font-size:12px;color:#333}.search-container .shop-list-content>.tips>span[data-v-77847b5f]{color:#f89900}[data-v-77847b5f] .van-icon{font-size:18px;color:#1f2025}.delete-icon[data-v-77847b5f]{width:15px}.list .item[data-v-77847b5f]{background:#FFFFFF;border-radius:4px;margin-bottom:20px}.list .item .more-icon[data-v-77847b5f]{width:20px}.list .item .product-img[data-v-77847b5f]{width:100px}.list .item .left[data-v-77847b5f]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list .item .left .product-info[data-v-77847b5f]{padding-left:10px;-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1}.list .item .left .product-info .name[data-v-77847b5f]{font-size:14px;color:#333;height:50px;font-weight:700;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.list .item .left .product-info .Specification[data-v-77847b5f]{font-size:12px;color:#999}.list .item .left .product-info .money[data-v-77847b5f]{color:var(--site-main-color);font-weight:700}.list .product-img-wrap[data-v-77847b5f]{position:relative}.list .delete-wrap[data-v-77847b5f]{padding:0 15px;background:rgba(0,0,0,.6);position:absolute;left:0;top:0;font-size:12px;color:#fff}.result-list[data-v-77847b5f]{position:fixed;top:46px;left:0;width:100%;background:#fff;z-index:2;font-size:14px}.result-list .result-list-item[data-v-77847b5f]{border-bottom:1px solid #EFF2F6}.item-more-content[data-v-77847b5f]{width:40px;position:relative}.item-more-content>.more[data-v-77847b5f]{width:40px;height:40px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding-top:5px}\n",document.head.appendChild(R),{setters:[e=>{a=e._,i=e.g,l=e.u,n=e.j,s=e.ai,o=e.r,c=e.aY,r=e.m,d=e.cF,p=e.I,f=e.a$,g=e.c,v=e.e,u=e.w,h=e.F,b=e.p,x=e.q,m=e.a,y=e.t,k=e.M,w=e.aT,A=e.b,j=e.s,_=e.n,C=e.cG,L=e.T,S=e.o,z=e.aW,U=e.aG,N=e.U,O=e.P,E=e.Q,F=e.cH},e=>{J=e.P},e=>{G=e.L},e=>{T=e.E},()=>{},()=>{},e=>{I=e.S},e=>{B=e._},e=>{H=e._},e=>{V=e.e},e=>{M=e.f,P=e.g},e=>{Y=e.c},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{}],execute:function(){const t=e=>(O("data-v-77847b5f"),e=e(),E(),e),R=t((()=>m("img",{class:"search-icon",src:B},null,-1))),q={key:0,class:"result-list pl-4 pr-4"},K=["onClick"],D={key:1,class:"search-history"},Q={class:"title"},X=t((()=>m("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAwCAYAAABqkJjhAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgB7Zk9btswFMefZHu0obGeqt7AtT14q3qC+gZtTpD4BE5u0Gzd7J6g6tipymbAH0lOEGXyGO2G7fwZUAmT6ItiqMAAf4BASnoE/6RIPurRIkU6nY6LxC1oHl0BUsCikvR6vSGSMa6OTLn9fh8iOVutVlMqQY1K0O12x5Zl/UL2A0mCcg6uYbvddtbr9T+SRLqHIfYHKpwIjyL02i1L88qi3EcShg/KjdDTP0mCMoJvULHLb/1ms3kUBEGu2Jh+v38KoWN+G223208Y1oXL2yQBm2CC2KjRaIxkxDIWi8UpPX0Np16vS80BKcH0/HNez2azkMrxN87sdjuXJJAV/O4cnOCHSYex6dm27eUZYxi4sPvOb0Pc/6YSYB58o6f122fDK68Mhg7zOb7FJlKtVruhAwAN/cqGhEMHAr6E8zAkmDMgYQVAS46JNwRG51TAKbwVqHssCDwTXoXMnSc6DjQg5F6J+MIeUkVgj7KP88vl8pU+s6zpxgjWjRGsmzopAk/J1mv2uxSkLX/8v8/LsimKcg/DrU/4dcnFv67Etv9zmz+kiLJgeKPPPOtQipsXNv1Sm/UkzKTTjRGsGyNYN0awboxg3RjBulEWjI1NkSBM9CItjbJgbB1H2LFdQPgoY697xGyYLSmivIGfz+fskMXLskF8wUfi0xtgJp1ujGDdJArGjL+L8zg0caki+N91TOISmNbDjxFxLEfHVBFCdJ/SovKJyxp6eIoCceEhwq8ThOxLHQ8UxIHYL6j3RHg2TTJMPVhEnJadUFbWuyLMySB47SW9S510WOxZa8+pevxWqzVMe5l7dDsYDNzNZnOCVisHQbLAcGBR/ylOSoMsu3tYs9QwhJVNvQAAAABJRU5ErkJggg==",alt:"",class:"delete-icon"},null,-1))),$={key:0,class:"content"},W=["onClick"],Z={key:2,class:"list ml-4 mr-4 mt-4 mb-4"},ee=["onClick"],te={class:"flex-1 flex left"},ae={class:"product-img-wrap w-20 h-20",style:{overflow:"hidden"}},ie=["src"],le={class:"product-info"},ne={class:"name"},se={class:"Specification"},oe={key:0,style:{"margin-right":"20px"}},ce={key:1},re={class:"money"},de={class:"item-more-content"},pe=["onClick"],fe=[t((()=>m("img",{class:"more-icon",src:H},null,-1)))],ge={__name:"index",setup(e){const t=i(),{t:a}=l(),O=n(),E=s(),B=o(E.query.id);let H=o(""),ge=o(1),ve=o(""),ue=o(!1);o({});const he=o([]),be=o([]),xe=o(!1),me=o(!1),ye=o(!1);let ke=o([]);const we=()=>{},Ae=new URL("/www/png/name-20d65991.png",self.location),je=o(null);c((()=>{je.value&&console.log(je.value)})),r((()=>{B.value/1==1?d("searchOne")&&(ke.value=d("searchOne")):d("searchTwo")&&(ke.value=d("searchTwo"))}));const _e=F((()=>{H.value.trim()?(ge.value=1,he.value=[],L.loading({forbidClick:!0,loadingType:"spinner"}),Fe(),Ce()):L({message:a("请输入搜索关键字"),duration:2e3})}),500),Ce=()=>{const e=H.value.trim(),t=B.value/1==1?"searchOne":"searchTwo";if(""!=e)if(0==ke.value.length)ke.value.push(e),C(t,ke.value);else{const a=Y(ke.value);a.unshift(e);const i=[...new Set(a)];ke.value=i,C(t,i)}},Le=()=>{B.value/1==1?C("searchOne",[]):C("searchTwo",[])},Se=()=>{H.value=""},ze=e=>{ke.value=[],B.value/1==1?C("searchOne",""):C("searchTwo","")},Ue=()=>{xe.value=!1,_e()},Ne=()=>{let e={pageNum:ge.value,pageSize:20,keyword:H.value};M(e).then((e=>{console.log(e),L.clear(),ge.value++;for(let t=0;t<e.pageList.length;t++)e.pageList[t].check=!1,he.value.push(e.pageList[t]);me.value=!1,e.pageList.length<20?(ge.value>1&&L(a("没有更多数据")),ye.value=!0):ge.value++}))},Oe=()=>{let e={name:H.value,categoryId:"",pageNum:ge.value,pageSize:20};P(e).then((e=>{L.clear(),console.log("商家自己的商品",e);for(let t=0;t<e.pageList.length;t++)he.value.push(e.pageList[t]);me.value=!1,e.pageList.length<20?(ge.value>1&&L(a("没有更多数据")),ye.value=!0):ge.value++}))},Ee=o(null);B.value/1==2?Ee.value=Oe:Ee.value=Ne;const Fe=()=>{console.log(123),Ee.value()};let Je=o([]);const Ge=(e,t)=>{e.sellingPrice=t},Te=()=>{ue.value=!1};return(e,i)=>{const l=p,n=I,s=f,o=T,c=G,r=J;return S(),g("div",{class:_(["search-container",{"is-ar":A(t)}])},[v(s,{fixed:"","left-arrow":"",onClickLeft:i[2]||(i[2]=()=>e.$router.back())},{title:u((()=>[x('        <van-search v-model="keyword" shape="round" @blur="record" @update:model-value="search" :clearable="false"'),x('          placeholder="请输入商品" @input="inputHandle">'),v(n,{modelValue:A(H),"onUpdate:modelValue":i[0]||(i[0]=e=>z(H)?H.value=e:H=e),shape:"round",clearable:!1,placeholder:e.$t("请输入商品"),onInput:we},{"left-icon":u((()=>[R])),"right-icon":u((()=>[A(H)?(S(),j(l,{key:0,name:"cross",onClick:Se,size:"14",color:"#333333"})):x("v-if",!0)])),_:1},8,["modelValue","placeholder"])])),right:u((()=>[m("div",{onClick:i[1]||(i[1]=(...e)=>A(_e)&&A(_e)(...e))},y(e.$t("搜索")),1)])),_:1}),be.value.length>0?(S(),g("div",q,[(S(!0),g(h,null,b(be.value,((e,t)=>(S(),g("div",{class:"result-list-item pt-2 pb-2",onClick:t=>(e=>{console.log("ssss",e),H.value="",be.value=[],ve.value=e.goodsId,ge.value=1,he.value=[],Fe()})(e),key:t},y(e.name),9,K)))),128))])):x("v-if",!0),0==he.value.length?(S(),g("div",D,[m("div",Q,[m("p",null,y(e.$t("历史搜索")),1),k(m("div",{class:"clear",onClick:Le},[X,m("p",{onClick:ze},y(e.$t("清空")),1)],512),[[w,A(ke).length>0]])]),A(ke).length>0?(S(),g("div",$,[(S(!0),g(h,null,b(A(ke),((e,t)=>(S(),g("div",{key:t,class:"item",onClick:t=>(e=>{H.value=e,_e()})(e)},y(e),9,W)))),128))])):x("v-if",!0),A(ke).length?x("v-if",!0):(S(),j(o,{key:1,image:A(Ae).href,description:A(a)("noData")},null,8,["image","description"]))])):x("v-if",!0),he.value.length>0?(S(),g("div",Z,[v(r,{"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新"),modelValue:me.value,"onUpdate:modelValue":i[4]||(i[4]=e=>me.value=e),onRefresh:Ue},{default:u((()=>[v(c,{ref_key:"checkEl",ref:je,loading:me.value,"onUpdate:loading":i[3]||(i[3]=e=>me.value=e),finished:ye.value,"finished-text":e.$t("没有更多了"),onLoad:Fe},{default:u((()=>[(S(!0),g(h,null,b(he.value,((e,t)=>(S(),g("div",{class:"item pl-3 pr-3 pb-3 pt-3 flex",onClick:t=>(e=>{B.value/1==1&&O.push({path:"/productPage/details",query:{item:JSON.stringify(e)}})})(e),key:t},[m("div",te,[m("div",ae,[m("img",{class:"product-img",src:e.imgUrl1},null,8,ie),x('                <div class="delete-wrap" @click.stop="deleteGood(item)">删除</div>')]),m("div",le,[m("div",ne,y(e.name),1),m("div",se,[e.categoryName?(S(),g("span",oe,y(e.categoryName),1)):x("v-if",!0),x(" <span>{{t('product.4')}}: {{ item.unit || '-' }}</span> "),B.value/1==1?(S(),g("span",ce,y(A(a)("sales"))+": "+y(e.soldNum),1)):x("v-if",!0)]),m("div",re,"$"+y(B.value/1==1?A(U)(e.sellingPrice):A(U)(e.systemPrice)),1)])]),m("div",de,[m("div",{class:"more",onClick:N((t=>(e=>{B.value/1==1?O.push({path:"/productPage/productEdit",query:{item:JSON.stringify(e)}}):(Je.value=[],Je.value.push(e.id),ue.value=!0)})(e)),["stop"])},fe,8,pe),B.value/1==1?(S(),j(l,{key:0,name:"arrow",size:"20px",style:{top:"50%",right:"0",position:"absolute","margin-top":"-10px"}})):x("v-if",!0)])],8,ee)))),128))])),_:1},8,["loading","finished","finished-text"])])),_:1},8,["loading-text","loosing-text","pulling-text","modelValue"])])):x("v-if",!0),v(V,{isEdit:A(ue),onUpdate:Ge,productArry:A(Je),onClose:Te},null,8,["isEdit","productArry"])],2)}}};e("default",a(ge,[["__scopeId","data-v-77847b5f"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/views/search/index.vue"]]))}}}));
