System.register(["./index-legacy-4ff5d500.js"],(function(o,r){"use strict";var e,a,i,l,n,t,s,c,d,u,v,g,f,h,m,y,S,p,w,z;return{setters:[o=>{e=o.z,a=o.D,i=o.Y,l=o.C,n=o.d,t=o.r,s=o.aj,c=o.k,d=o.a8,u=o.$,v=o.S,g=o.ba,f=o.aO,h=o.e,m=o.M,y=o.c4,S=o.ag,p=o.ac,w=o.I,z=o.K}],execute:function(){const[r,b]=e("image"),x={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:a,height:a,radius:a,lazyLoad:Boolean,iconSize:a,showError:i,errorIcon:l("photo-fail"),iconPrefix:String,showLoading:i,loadingIcon:l("photo")};var I=n({name:r,props:x,emits:["load","error"],setup(o,{emit:r,slots:e}){const a=t(!1),i=t(!0),l=t(),{$Lazyload:n}=s().proxy,z=c((()=>{const r={width:d(o.width),height:d(o.height)};return u(o.radius)&&(r.overflow="hidden",r.borderRadius=d(o.radius)),r}));v((()=>o.src),(()=>{a.value=!1,i.value=!0}));const x=o=>{i.value=!1,r("load",o)},I=o=>{a.value=!0,i.value=!1,r("error",o)},L=(r,e,a)=>a?a():h(w,{name:r,size:o.iconSize,class:e,classPrefix:o.iconPrefix},null),$=()=>{if(a.value||!o.src)return;const r={alt:o.alt,class:b("img"),style:{objectFit:o.fit,objectPosition:o.position}};return o.lazyLoad?m(h("img",S({ref:l},r),null),[[y("lazy"),o.src]]):h("img",S({src:o.src,onLoad:x,onError:I},r),null)},j=({el:o})=>{const r=()=>{o===l.value&&i.value&&x()};l.value?r():p(r)},k=({el:o})=>{o!==l.value||a.value||I()};return n&&g&&(n.$on("loaded",j),n.$on("error",k),f((()=>{n.$off("loaded",j),n.$off("error",k)}))),()=>{var r;return h("div",{class:b({round:o.round,block:o.block}),style:z.value},[$(),i.value&&o.showLoading?h("div",{class:b("loading")},[L(o.loadingIcon,b("loading-icon"),e.loading)]):a.value&&o.showError?h("div",{class:b("error")},[L(o.errorIcon,b("error-icon"),e.error)]):void 0,null==(r=e.default)?void 0:r.call(e)])}}});o("I",z(I))}}}));
