System.register(["./index-legacy-4ff5d500.js","./index-legacy-d37987b5.js","./index-legacy-c8e815c0.js","./index-legacy-4c4adf54.js","./config-legacy-88f3c05a.js","./use-id-legacy-b9563b17.js"],(function(e,t){"use strict";var i,n,a,l,s,o,d,c,r,u,p,f,b,v,g,x,y,m,h,k,w,T,_,z,L,S,M,j,H,A=document.createElement("style");return A.textContent='@charset "UTF-8";.van-pull-refresh[data-v-8d741b7f]{background-color:#eff2f6}.list-content .item-list[data-v-8d741b7f]{padding:15px;border-bottom:1px solid #eee;background-color:#fff}.list-content .item-list>.title-content[data-v-8d741b7f]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.list-content .item-list>.title-content>.title[data-v-8d741b7f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:calc(100% - 120px)}.list-content .item-list>.title-content>.title>.tips[data-v-8d741b7f]{width:8px;height:8px;border-radius:50%;background:#ff3e3e;margin-right:8px}.list-content .item-list>.title-content>.title>.tips.is-ar[data-v-8d741b7f]{margin-right:0;margin-left:8px}.list-content .item-list>.title-content>.title>p[data-v-8d741b7f]{font-size:14px;color:#000;-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.list-content .item-list>.title-content>p[data-v-8d741b7f]{font-size:10px;color:#999}.list-content .item-list>.txt[data-v-8d741b7f]{font-size:12px;margin-top:5px;word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden}\n',document.head.appendChild(A),{setters:[e=>{i=e._,n=e.d,a=e.u,l=e.g,s=e.r,o=e.c,d=e.e,c=e.w,r=e.b1,u=e.o,p=e.f,f=e.t,b=e.b,v=e.F,g=e.p,x=e.a,y=e.n,m=e.q,h=e.s,k=e.P,w=e.Q,T=e.cN,_=e.cO,z=e.al,L=e.cP},e=>{S=e.P},e=>{M=e.L},e=>{j=e.E},e=>{H=e.m},()=>{}],execute:function(){const t={class:"page-main-content"},A=(e=>(k("data-v-8d741b7f"),e=e(),w(),e))((()=>x("div",{style:{height:"46px"}},null,-1))),I={key:0,class:"list-content"},U=["onClick"],C={class:"title-content"},O={class:"title"},P={key:0,class:"txt"},$=["innerHTML"],E=["innerHTML"],F=["innerHTML"],N=["innerHTML"],V=["innerHTML"],q={key:0},J={key:1,class:"txt"},R=n({name:"MessageSystem"});e("default",i(Object.assign(R,{setup(e){const{t:i}=a(),n=l(),k=new URL("/www/png/name-20d65991.png",self.location),w=s([]),R=s(!1),D=s(!0),Q=s(!1),B=s({pageSize:20,lastLocation:0}),G=()=>{const e={...B.value,type:3,status:0,module:0};T(e).then((e=>{const t=e||[];t.forEach((e=>{e.timeStr=_(e.sendTime,!0)})),w.value=0===B.value.lastLocation?t:[...w.value,...t],t.length&&(B.value.lastLocation=t[t.length-1].location),D.value=!1,R.value=!1,t.length<B.value.pageSize&&(Q.value=!0)})).catch((()=>{Q.value=!0,D.value=!1,R.value=!1}))},K=()=>{Q.value=!1,D.value=!0,B.value.lastLocation=0,G()},W=(e,t)=>{const i=(e.varInfo?JSON.parse(e.varInfo):[]).find((e=>e.code===t));return i?i.value:"0"},X=(e,t)=>{const i=(e.varInfo?JSON.parse(e.varInfo):[]).find((e=>e.code===t));return i?i.value:""};return(e,a)=>{const l=r,s=j,T=M,_=S;return u(),o("div",t,[d(l,{fixed:!0},{title:c((()=>[p(f(e.$t("系统消息")),1)])),_:1}),A,d(_,{modelValue:R.value,"onUpdate:modelValue":a[1]||(a[1]=e=>R.value=e),"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新"),onRefresh:K},{default:c((()=>[d(T,{loading:D.value,"onUpdate:loading":a[0]||(a[0]=e=>D.value=e),finished:Q.value,"loading-text":b(i)("loading"),"finished-text":b(i)("product.3"),onLoad:G},{default:c((()=>[w.value.length?(u(),o("div",I,[(u(!0),o(v,null,g(w.value,(e=>(u(),o("div",{key:e.id,class:"item-list",onClick:t=>{return z({path:"/message/details",query:{id:(i=e).id}}),void(2!==i.status&&L({ids:i.id}).then((()=>{i.status=2})));var i}},[x("div",C,[x("div",O,[1===e.status?(u(),o("div",{key:0,class:y(["tips",{"is-ar":b(n)}])},null,2)):m("v-if",!0),x("p",null,f(b(i)(b(H)[e.bizType].title)),1)]),x("p",null,f(e.timeStr),1)]),b(H)[e.bizType].key?(u(),o("p",P,["creditScore"===b(H)[e.bizType].key?(u(),o("span",{key:0,innerHTML:b(i)("systemMsgScore",{creditScore:W(e,b(H)[e.bizType].key)})},null,8,$)):"inbox_recharge_success"===e.bizType?(u(),o("span",{key:1,innerHTML:b(i)("rechargeSuccessTips",{orderAmount:W(e,"orderAmount")})},null,8,E)):"inbox_withdraw_success"===e.bizType?(u(),o("span",{key:2,innerHTML:b(i)("withdrawalSuccessTips",{orderAmount:W(e,"orderAmount")})},null,8,F)):"inbox_store_audit_fail"===e.bizType?(u(),o("span",{key:3,innerHTML:b(i)("storeAuthenticationFailedTips",{shop_name:X(e,"shop_name"),reason:X(e,"reason")})},null,8,N)):"inbox_store_audit_success"===e.bizType?(u(),o("span",{key:4,innerHTML:b(i)("storeAuthenticationPassedTips",{shop_name:X(e,"shop_name")})},null,8,V)):(u(),o(v,{key:5},[x("span",null,f(b(i)(b(H)[e.bizType].txt)),1),x("span",null,f(W(e,b(H)[e.bizType].key)),1),b(H)[e.bizType].txt1?(u(),o("span",q,f(b(i)(b(H)[e.bizType].txt1)),1)):m("v-if",!0)],64))])):(u(),o("p",J,f(b(i)(b(H)[e.bizType].txt)),1))],8,U)))),128))])):m("v-if",!0),w.value.length||D.value?m("v-if",!0):(u(),h(s,{key:1,image:b(k).href},null,8,["image"]))])),_:1},8,["loading","finished","loading-text","finished-text"])])),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"])])}}}),[["__scopeId","data-v-8d741b7f"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/views/message/system/index.vue"]]))}}}));
