System.register(["./index-legacy-4ff5d500.js"],(function(e,t){"use strict";var a,s,n,r,i,l,o,u,d,h,c,p,f,v,g,m,x=document.createElement("style");return x.textContent=":root{--van-pull-refresh-head-height: 50px;--van-pull-refresh-head-font-size: var(--van-font-size-md);--van-pull-refresh-head-text-color: var(--van-text-color-2);--van-pull-refresh-loading-icon-size: 16px }.van-pull-refresh{overflow:hidden}.van-pull-refresh__track{position:relative;height:100%;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.van-pull-refresh__head{position:absolute;left:0;width:100%;height:var(--van-pull-refresh-head-height);overflow:hidden;color:var(--van-pull-refresh-head-text-color);font-size:var(--van-pull-refresh-head-font-size);line-height:var(--van-pull-refresh-head-height);text-align:center;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.van-pull-refresh__loading .van-loading__spinner{width:var(--van-pull-refresh-loading-icon-size);height:var(--van-pull-refresh-loading-icon-size)}\n",document.head.appendChild(x),{setters:[e=>{a=e.z,s=e.a5,n=e.D,r=e.d,i=e.r,l=e.aC,o=e.l,u=e.aD,d=e.S,h=e.ad,c=e.e,p=e.L,f=e.ac,v=e.aE,g=e.J,m=e.K}],execute:function(){const[t,x,D]=a("pull-refresh"),T=["pulling","loosing","success"],w={disabled:Boolean,modelValue:Boolean,headHeight:s(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:n,successDuration:s(500),animationDuration:s(300)};var y=r({name:t,props:w,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:a}){let s;const n=i(),r=i(),m=l(n),w=o({status:"normal",distance:0,duration:0}),y=u(),b=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},z=()=>"loading"!==w.status&&"success"!==w.status&&!e.disabled,_=(a,s)=>{const n=+(e.pullDistance||e.headHeight);w.distance=a,w.status=s?"loading":0===a?"normal":a<n?"pulling":"loosing",t("change",{status:w.status,distance:a})},k=()=>{const{status:t}=w;return"normal"===t?"":e[`${t}Text`]||D(t)},H=()=>{const{status:e,distance:t}=w;if(a[e])return a[e]({distance:t});const s=[];return T.includes(e)&&s.push(c("div",{class:x("text")},[k()])),"loading"===e&&s.push(c(p,{class:x("loading")},{default:k})),s},S=e=>{s=0===v(m.value),s&&(w.duration=0,y.start(e))},V=e=>{z()&&S(e)},Y=()=>{s&&y.deltaY.value&&z()&&(w.duration=+e.animationDuration,"loosing"===w.status?(_(+e.headHeight,!0),t("update:modelValue",!0),f((()=>t("refresh")))):_(0))};return d((()=>e.modelValue),(t=>{w.duration=+e.animationDuration,t?_(+e.headHeight,!0):a.success||e.successText?(w.status="success",setTimeout((()=>{_(0)}),+e.successDuration)):_(0,!1)})),h("touchmove",(t=>{if(z()){s||S(t);const{deltaY:a}=y;y.move(t),s&&a.value>=0&&y.isVertical()&&(g(t),_((t=>{const a=+(e.pullDistance||e.headHeight);return t>a&&(t=t<2*a?a+(t-a)/2:1.5*a+(t-2*a)/4),Math.round(t)})(a.value)))}}),{target:r}),()=>{var e;const t={transitionDuration:`${w.duration}ms`,transform:w.distance?`translate3d(0,${w.distance}px, 0)`:""};return c("div",{ref:n,class:x()},[c("div",{ref:r,class:x("track"),style:t,onTouchstartPassive:V,onTouchend:Y,onTouchcancel:Y},[c("div",{class:x("head"),style:b()},[H()]),null==(e=a.default)?void 0:e.call(a)])])}}});e("P",m(y))}}}));
