import{_ as R,g as V,u as E,c5 as T,T as P,I as U,bq as j,aw as B,c as d,e as u,w as h,a as i,t as p,s as c,n as q,o as n,F as m,p as v,f as w,q as S,P as D,Q as J}from"./index-6bb60bad.js";import{E as A}from"./index-3f3c5bb2.js";import{P as F}from"./index-dd7de244.js";import{L as M}from"./index-f2d82977.js";import"./index-92cd0e41.js";import"./index-a7667e82.js";import{S as z}from"./index-d3101fd3.js";import{T as Q,a as G}from"./index-037b1e56.js";/* empty css              */import{o as H,a as K}from"./orderItem-5aca959d.js";import"./stringify-05940d23.js";import"./use-id-bee8f2c8.js";import"./index-52375f0d.js";import"./use-refs-51ae1acc.js";import"./config-22c2c72a.js";import"./index-9eb7b80c.js";import"./___vite-browser-external_commonjs-proxy-4a6196ef.js";const W=V(),X={name:"Order",beforeRouteEnter(e,s,r){console.log("beforeRouteEnter"),r(l=>{const t=JSON.parse(window.sessionStorage.getItem("position"));document.querySelector(".main-list").scrollTop=t})},beforeRouteLeave(e,s,r){const l=document.querySelector(".main-list").scrollTop;window.sessionStorage.setItem("position",JSON.stringify(l)),r()},components:{orderItem:H},data(){return{loading:!1,refreshing:!1,finished:!1,showCenter:!1,showCenter2:!1,t:E().t,activeName:"",payStatus:"-1",showSeach:!1,list:[],option1:[],option2:[],title1:"",title2:"",orderId:"",purchStatus:"",status:"-2",pageNum:1,isArLang:W}},activated(){},created(){const e="tiktokMall";window.sessionStorage.setItem("position",JSON.stringify(0)),this.title1="\u652F\u4ED8\u72B6\u6001",this.title2="\u7269\u6D41\u72B6\u6001",this.option1=[{text:"\u5168\u90E8",value:-1,isCurrent:!0},{text:"\u672A\u652F\u4ED8",value:0,isCurrent:!1},{text:"\u5DF2\u652F\u4ED8",value:1,isCurrent:!1}],this.option2=[{text:"\u5168\u90E8",value:-2,isCurrent:!0},{text:"\u8BA2\u5355\u5DF2\u53D6\u6D88",value:-1,isCurrent:!1},{text:"\u7B49\u5F85\u4E70\u5BB6\u4ED8\u6B3E",value:0,isCurrent:!1},{text:"\u4E70\u5BB6\u5DF2\u4ED8\u6B3E",value:1,isCurrent:!1},{text:"\u4F9B\u5E94\u5546\u5DF2\u63A5\u5355",value:2,isCurrent:!1},{text:"\u7269\u6D41\u8FD0\u8F93\u4E2D",value:3,isCurrent:!1},{text:"\u4E70\u5BB6\u5DF2\u7B7E\u6536",value:4,isCurrent:!1},{text:"\u8BA2\u5355\u5DF2\u5B8C\u6210",value:5,isCurrent:!1},{text:"\u5DF2\u9000\u6B3E",value:6,isCurrent:!1}],["argos"].includes(e)&&this.option2.forEach(s=>{s.value===4&&(s.text="\u8BA2\u5355\u5DF2\u5B8C\u6210"),s.value===5&&(s.text="\u4E70\u5BB6\u5DF2\u7B7E\u6536")}),this.onRefresh(),document.addEventListener("reloadOrderList",()=>{this.onRefresh()},!1)},computed:{hasNoPushNum:()=>{const e=T();return Boolean(e.num)}},methods:{onLoad(){},onRefresh(){this.init(),this.getOrderList()},handleChoose(e){let s=this.payStatus/1,r=this.option1.findIndex(t=>t.value===s);this.option1.splice(r,1,{...this.option1[r],isCurrent:!1});let l=this.option1.findIndex(t=>t.value===e.value);this.option1.splice(l,1,{...this.option1[l],isCurrent:!0}),this.payStatus=e.value,this.title1=e.text,this.showCenter=!1,this.init(),this.getOrderList()},handleChoose2(e){let s=this.status/1,r=this.option2.findIndex(t=>t.value===s);this.option2.splice(r,1,{...this.option2[r],isCurrent:!1});let l=this.option2.findIndex(t=>t.value===e.value);this.option2.splice(l,1,{...this.option2[l],isCurrent:!0}),this.status=e.value,this.title2=e.text,this.showCenter2=!1,this.init(),this.getOrderList()},handleShow(e){e===1?this.showCenter=!0:this.showCenter2=!0},init(){this.pageNum=1,this.list=[],this.loading=!1,this.refreshing=!1,this.finished=!1},getOrderList(){const e={orderId:this.orderId,payStatus:this.payStatus,purchStatus:this.activeName,status:this.status,begin:"",end:"",pageNum:this.pageNum};console.log(e.end),console.log(e),Object.keys(e).forEach(s=>{!e[s]&&e[s]!==0&&delete e[s]}),e.payStatus/1===-1&&delete e.payStatus,e.status/1===-2&&delete e.status,console.log("data",e),P.loading({message:this.t("\u52A0\u8F7D\u4E2D"),forbidClick:!0,duration:0}),console.log("\u8BF7\u6C42\u53C2\u6570",e),K(e).then(s=>{this.refreshing&&(this.refreshing=!1),this.pageNum++,this.loading=!1,s.pageList.length==0&&(this.finished=!0),this.list=this.list.concat(s.pageList)}).catch(s=>{console.log(s)})},tab(e,s){this.activeName=e,console.log(this.activeName,"activeName"),this.onRefresh()},onSearch(){this.showSeach=!0,this.$router.push("/order_search")},change(e){this.value=e,this.showSeach=!1},onConfirm2(e){this.title2=this.option2[e].text,this.getOrderList()}}},g=e=>(D("data-v-69fb50eb"),e=e(),J(),e),Y={class:"main"},Z={class:"seach",style:{"border-radius":"25px"}},$={class:"dropdown"},ee={class:"p-2.5 bg-white flex justify-between items-center w-full h-full"},te={class:"text-xs"},se=g(()=>i("div",{class:"triangle"},null,-1)),oe={class:"p-2.5 bg-white flex justify-between items-center w-full h-full"},ie={class:"text-xs"},ne=g(()=>i("div",{class:"triangle"},null,-1)),re=["onClick"],le=["onClick"],ae={class:"main-list"},ue={class:"goods"},de=g(()=>i("div",{class:"safe-area-inset-bottom"},null,-1));function he(e,s,r,l,t,a){const f=Q,b=G,y=z,_=U,x=j,I=B("orderItem"),N=M,k=F,L=A;return n(),d("div",{id:"order",class:q({"is-ar":t.isArLang})},[u(b,{active:t.activeName,"onUpdate:active":s[0]||(s[0]=o=>t.activeName=o),onClick:a.tab},{default:h(()=>[u(f,{title:t.t("total"),name:""},null,8,["title"]),u(f,{title:t.t("\u5F85\u91C7\u8D2D"),name:"0",dot:a.hasNoPushNum},null,8,["title","dot"]),u(f,{title:t.t("\u5DF2\u91C7\u8D2D"),name:"1"},null,8,["title"])]),_:1},8,["active","onClick"]),i("div",Y,[i("div",Z,[u(y,{style:{"border-radius":"25px"},readonly:"",onClick:a.onSearch,modelValue:t.orderId,"onUpdate:modelValue":s[1]||(s[1]=o=>t.orderId=o),placeholder:t.t("\u641C\u7D22")},null,8,["onClick","modelValue","placeholder"])]),i("div",$,[i("div",{class:"dropdownitem one h-10.5",onClick:s[2]||(s[2]=o=>a.handleShow(1))},[i("div",ee,[i("span",te,p(t.t(t.title1)),1),se])]),i("div",{class:"dropdownitem one h-10.5",onClick:s[3]||(s[3]=o=>a.handleShow(2))},[i("div",oe,[i("span",ie,p(t.t(t.title2)),1),ne])])]),u(x,{show:t.showCenter,"onUpdate:show":s[4]||(s[4]=o=>t.showCenter=o),round:""},{default:h(()=>[(n(!0),d(m,null,v(t.option1,(o,C)=>(n(),d("div",{onClick:O=>a.handleChoose(o),class:"font-3.5 w-72 h-12 flex justify-center items-center border-bottom relative"},[w(p(t.t(o.text))+" ",1),o.isCurrent?(n(),c(_,{key:0,name:"success",class:"yes"})):S("v-if",!0)],8,re))),256))]),_:1},8,["show"]),u(x,{show:t.showCenter2,"onUpdate:show":s[5]||(s[5]=o=>t.showCenter2=o),round:""},{default:h(()=>[(n(!0),d(m,null,v(t.option2,(o,C)=>(n(),d("div",{onClick:O=>a.handleChoose2(o),class:"text-xs w-72 h-12 flex justify-center items-center border-bottom relative",key:C+"option2"},[w(p(t.t(o.text))+" ",1),o.isCurrent?(n(),c(_,{key:0,name:"success",class:"yes"})):S("v-if",!0)],8,le))),128))]),_:1},8,["show"]),i("div",ae,[t.list.length>0?(n(),c(k,{key:0,modelValue:t.refreshing,"onUpdate:modelValue":s[7]||(s[7]=o=>t.refreshing=o),onRefresh:a.onRefresh,"loading-text":e.$t("\u52A0\u8F7D\u4E2D"),"loosing-text":e.$t("\u91CA\u653E\u4EE5\u5237\u65B0"),"pulling-text":e.$t("\u4E0B\u62C9\u4EE5\u5237\u65B0")},{default:h(()=>[u(N,{"immediate-check":!1,loading:t.loading,"onUpdate:loading":s[6]||(s[6]=o=>t.loading=o),"loading-text":e.$t("\u52A0\u8F7D\u4E2D"),finished:t.finished,"finished-text":e.$t("noMore"),onLoad:a.getOrderList},{default:h(()=>[i("div",ue,[(n(!0),d(m,null,v(t.list,o=>(n(),c(I,{info:o},null,8,["info"]))),256))])]),_:1},8,["loading","loading-text","finished","finished-text","onLoad"])]),_:1},8,["modelValue","onRefresh","loading-text","loosing-text","pulling-text"])):(n(),c(L,{key:1,description:e.$t("noData")},null,8,["description"])),de])])],2)}const Oe=R(X,[["render",he],["__scopeId","data-v-69fb50eb"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/views/order/index.vue"]]);export{Oe as default};
