(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-54f2dd56"],{"2c90":function(t,a,e){e.r(a),e("1a5c"),e("247d"),e("3e8e");var i=e("2650"),s=e("e5c4"),o=e("4260");i={name:"CollectGoods",components:{EsProductInfo:i.a},data(){return{listData:[],loading:!0,pageNum:1,pageSize:8,total:0,dialogVisible:!1,currentId:""}},mounted(){this.$nextTick(()=>{this.getListData()}),this.$store.state.user.currentIndex=3},methods:{goBack(){this.$router.go(-1)},numberFormatFn(t){return Object(o.f)(t)},currentChange(t){this.pageNum=t,this.getListData()},getListData(){this.loading=!0;var t={pageNum:this.pageNum,pageSize:this.pageSize};Object(s.k)(t).then(t=>{var a=t.data;this.total=(null==(t=t.data.pageInfo)?void 0:t.totalElements)||0,a.pageList.forEach(t=>{t.loading=!1}),this.listData=a.pageList,this.$Gsap.from(this.$refs.collentGoods,{delay:.5,duration:1,y:"+100",autoAlpha:0,ease:"back.out(1.7)"}),this.loading=!1}).catch(()=>{this.loading=!1})},cancelCol(t){Object(s.j)({sellerGoodsId:t.id}).then(()=>{this.pageNum=1,this.getListData()})},buyNow(t){this.currentId=t.id,setTimeout(()=>{this.dialogVisible=!0},300)},handleBuy(){this.dialogVisible=!1},gotoDetails(t){t.isShelf?this.$router.push({name:"productDetails",query:{id:t.id}}):this.$message({type:"warning",message:this.$t("message.home.productAvailable")})}}},e("95f7"),e=e("cea0"),e=Object(e.a)(i,(function(){var t=this,a=t._self._c;return a("div",{staticClass:"collect-content"},[a("el-dialog",{staticClass:"es-dialog",attrs:{visible:t.dialogVisible,center:!0,"destroy-on-close":!0},on:{"update:visible":function(a){t.dialogVisible=a}}},[a("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.$t("message.home.addCart")))])]),t.dialogVisible?a("div",{staticClass:"dialog-content"},[a("EsProductInfo",{attrs:{id:t.currentId},on:{handleBuy:t.handleBuy}})],1):t._e(),a("span",{attrs:{slot:"footer"},slot:"footer"})]),a("div",{staticClass:"page-title",staticStyle:{cursor:"pointer"},on:{click:t.goBack}},[a("i",{staticClass:"el-icon-arrow-left"}),t._v(" "+t._s(t.$t("message.home.myCommodityCollection"))+" ")]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{ref:"collentGoods",staticClass:"content"},[t.listData.length?a("div",{staticClass:"list-content"},t._l(t.listData,(function(e){return a("div",{key:e.sellerId,staticClass:"item"},[e.discountRatio?a("div",{staticClass:"discount"},[a("span",[t._v(t._s(100*t.numberFormatFn(e.discountRatio))+" %")]),a("br"),a("span",[t._v("OFF")])]):t._e(),a("div",{staticClass:"poster",on:{click:function(a){return t.gotoDetails(e)}}},[a("img",{attrs:{src:e.imgUrl1||e.imgUrl2||e.imgUrl3||e.imgUrl4,alt:"collection-item"}})]),a("div",{staticClass:"price"},[a("p",[t._v(" $"+t._s(t.numberFormatFn(e.discountPrice||e.sellingPrice))+" ")]),a("i",{staticClass:"el-icon-star-on",on:{click:function(a){return t.cancelCol(e)}}})]),a("div",{staticClass:"name"},[a("p",{on:{click:function(a){return t.gotoDetails(e)}}},[t._v(t._s(e.name||"-"))]),a("div",[a("i",{staticClass:"el-icon-shopping-cart-full"}),a("span",{staticClass:"buy-btn",on:{click:function(a){return t.buyNow(e)}}},[t._v(" "+t._s(t.$t("message.home.buyNow"))+" ")])])])])})),0):t._e()]),t.listData.length||t.loading?t._e():a("el-empty",{attrs:{description:t.$t("message.home.noData")}})],1),t.listData.length||t.total?a("div",{staticClass:"common-pagination"},[a("el-pagination",{staticClass:"es-pagination",attrs:{background:"",layout:"prev,pager, next","pager-count":5,"page-size":t.pageSize,"current-page":t.pageNum,total:t.total},on:{"current-change":t.currentChange}})],1):t._e()],1)}),[],!1,null,"7c4963b6",null);a.default=e.exports},"3b1c":function(t,a,e){},"95f7":function(t,a,e){e("3b1c")}}]);