import{_ as Q,d as T,g as W,u as H,ai as K,j as X,r as o,k as Y,au as Z,m as ee,I as se,c,a as e,e as _,w as x,b as l,aW as te,t as a,f as V,n as oe,o as d,av as ae,F as ne,p as le,q as r,U as ie,aG as P,P as ce,Q as de}from"./index-6bb60bad.js";import{P as re}from"./index-dd7de244.js";import{L as ue}from"./index-f2d82977.js";import"./index-92cd0e41.js";import"./index-a7667e82.js";import{S as me}from"./index-d3101fd3.js";import{_ as pe}from"./search-icon-8ae5f679.js";import{_ as _e}from"./more-f6d49895.js";import{s as ve,m as fe}from"./product.api-b8394c97.js";import"./use-id-bee8f2c8.js";import"./index-013a0aac.js";import"./stringify-05940d23.js";import"./___vite-browser-external_commonjs-proxy-4a6196ef.js";const N=v=>(ce("data-v-690b902b"),v=v(),de(),v),he={class:"product"},ge=N(()=>e("img",{class:"search-icon",src:pe},null,-1)),ye={class:"flex ml-4 mr-4 product-header"},ke={key:0,class:"moeny icon"},xe=["src"],Pe={key:1,class:"moeny"},Ne={class:"title"},$e={class:"moeny"},be={class:"title"},Ce={class:"hot-title ml-4 mr-4 mt-4 mb-4"},Le=["onClick"],we={class:"flex-1 flex left"},Se={class:"product-img-wrap w-20 h-20"},Ie=["src"],Me={key:0,class:"take_off"},Ve={class:"product-info flex-1"},Ge={class:"name-content"},Re=["onClick"],Ue=N(()=>e("img",{class:"more-icon",src:_e},null,-1)),Ee=[Ue],je={class:"Specification"},qe={style:{"margin-left":"20px"}},Be={class:"money-content"},De={key:0,class:"dis"},Fe=N(()=>e("div",{class:"safe-area-inset-bottom"},null,-1)),Oe=T({name:"ProductIndex"}),ze=Object.assign(Oe,{setup(v){const G=W();H(),K();const m=X();let f=o("");o(!1);let h=o(1),$=o(0),b=o(0),C=o(0),R=o({});const p=o([]),y=o(!1),g=o(!1),L=o(!1),U="tiktokMall",E=Y(()=>["int"].includes(U)),w=o(!0);Z(()=>{w.value||(h.value=1,k(!0))});const k=s=>{let i={pageNum:h.value,pageSize:20,isNew:0,isRec:0,isPrice:0};fe(i).then(n=>{if(w.value=!1,console.log(n),g.value&&(g.value=!1),$.value=n.evaluations,b.value=n.systemGoodsNum,C.value=n.sellerGoodsNum,h.value++,s)p.value=n.pageList||[];else for(let u=0;u<n.pageList.length;u++)p.value.push(n.pageList[u]);y.value=!1,n.pageList.length==0&&(L.value=!0),console.log(p.value)})},S=()=>{h.value=1,p.value=[],k()},j=()=>{m.push("/search?id=1")},q=()=>{m.push("/productPage/list")},B=()=>{m.push("/productPage/comment")},D=s=>{m.push({path:"/productPage/details",query:{item:JSON.stringify(s)}})},I=o(""),M=o("");ve().then(s=>{I.value=s.sysParaMin,M.value=s.sysParaMax});const F=s=>{s.sysParaMin=I.value,s.sysParaMax=M.value,m.push({path:"/productPage/productEdit",query:{item:JSON.stringify(s)}}),R.value=s};return ee(()=>{document.addEventListener("langChange",()=>{S()})}),(s,i)=>{const n=me,u=se,O=ue,z=re;return d(),c("div",he,[e("div",{onClick:j},[_(n,{class:"search-wrap",disabled:"",modelValue:l(f),"onUpdate:modelValue":i[0]||(i[0]=t=>te(f)?f.value=t:f=t),placeholder:s.$t("\u8BF7\u8F93\u5165\u641C\u7D22\u5546\u54C1\u540D\u79F0"),clearable:""},{"left-icon":x(t=>[ge]),_:1},8,["modelValue","placeholder"])]),e("div",ye,[e("div",{class:"flex-1 text-center after",onClick:q},[l(E)?(d(),c("div",ke,[e("img",{src:l(ae)("image/order/diamond.svg"),alt:""},null,8,xe)])):(d(),c("div",Pe,a(l(b)),1)),e("div",Ne,[V(a(s.$t("\u5546\u54C1\u5E93")),1),_(u,{name:"arrow"})])]),e("div",{class:"flex-1 text-center",onClick:B},[e("div",$e,a(l($)),1),e("div",be,[V(a(s.$t("\u8BC4\u8BBA")),1),_(u,{name:"arrow"})])])]),e("div",Ce,a(s.$t("\u5E97\u94FA\u4EA7\u54C1"))+"("+a(l(C))+") ",1),e("div",{class:oe(["list ml-4 mr-4 mt-4 mb-4 list-content",{"is-ar":l(G)}])},[_(z,{modelValue:g.value,"onUpdate:modelValue":i[2]||(i[2]=t=>g.value=t),onRefresh:S,"loading-text":s.$t("\u52A0\u8F7D\u4E2D"),"loosing-text":s.$t("\u91CA\u653E\u4EE5\u5237\u65B0"),"pulling-text":s.$t("\u4E0B\u62C9\u4EE5\u5237\u65B0")},{default:x(()=>[_(O,{ref:"vanList",loading:y.value,"onUpdate:loading":i[1]||(i[1]=t=>y.value=t),"loading-text":s.$t("\u52A0\u8F7D\u4E2D"),finished:L.value,"finished-text":s.$t("noMore"),onLoad:k},{default:x(()=>[(d(!0),c(ne,null,le(p.value,(t,A)=>(d(),c("div",{class:"item pl-3 pr-3 pb-3 pt-3 flex",onClick:J=>D(t),key:A},[e("div",we,[e("div",Se,[e("img",{class:"product-img",src:t.imgUrl1},null,8,Ie),t.isShelf/1===0?(d(),c("div",Me,a(s.$t("\u5DF2\u4E0B\u67B6")),1)):r("v-if",!0),r('                <div class="delete-wrap" @click.stop="deleteGood(item)">'),r("                  {{ $t('\u5220\u9664') }}"),r("                </div>")]),e("div",Ve,[e("div",Ge,[e("p",null,a(t.name),1),e("div",{class:"more",onClick:ie(J=>F(t),["stop"])},Ee,8,Re)]),r(' <div class="name">{{ item.name }}</div> '),e("div",je,[e("span",null,a(t.categoryName),1),e("span",qe,a(s.$t("\u9500\u91CF"))+": "+a(l(P)(t.soldNum,0)),1)]),e("div",Be,[e("p",null,"$"+a(l(P)(t.sellingPrice)),1),t.discountPrice?(d(),c("p",De,a(s.$t("\u6298\u6263\u4EF7"))+" $"+a(l(P)(t.discountPrice)),1)):r("v-if",!0)])])]),r(` <div>
              <img
                class="more-icon"
                @click.stop="openEdit(item)"
                src="@/assets/imgs/product/more.png"
              />
            </div> `)],8,Le))),128))]),_:1},8,["loading","loading-text","finished","finished-text"])]),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"]),Fe],2)])}}}),os=Q(ze,[["__scopeId","data-v-690b902b"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/views/product/index.vue"]]);export{os as default};
