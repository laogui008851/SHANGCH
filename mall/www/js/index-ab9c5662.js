import{_ as k,u as V,ak as x,r as p,k as D,o as v,c as y,a as o,t as h,b as l,M as w,N as b,F as B,p as S,n as N,ac as T,T as g,c7 as U,e as j}from"./index-6bb60bad.js";import{c as C}from"./countryList-016fc82e.js";const I={class:"code-content"},L={class:"title"},F={class:"search-content"},H={class:"content"},M=["placeholder"],O={class:"scroll-content"},$={class:"countries-content"},z=["onClick"],A={class:"name"},E={__name:"CountryDialog",props:{modelValue:{type:Boolean,default:!1},countries:{type:Array,default:()=>[]}},emits:["update:modelValue","done"],setup(c,{emit:d}){const f=c,{t:u}=V(),{countries:i}=x(f),s=p(""),r=D(()=>{const n=i.value.filter(t=>{const e=s.value.toLowerCase();return t.countryName.toLowerCase().indexOf(e)>-1});return s.value?n:i.value}),a=()=>{d("update:modelValue",!1)},_=n=>{d("done",n),a()};return(n,t)=>(v(),y("div",{class:N([{active:c.modelValue},"area-code-dialog"])},[o("div",I,[o("div",L,h(l(u)("selectNation")),1),o("div",F,[o("div",H,[w(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),type:"text",placeholder:l(u)("entrynational")},null,8,M),[[b,s.value]])])]),o("div",O,[o("div",$,[(v(!0),y(B,null,S(l(r),e=>(v(),y("div",{key:e.code,class:"item",onClick:m=>_(e)},[o("div",A,h(e.countryName),1)],8,z))),128))])])]),o("div",{class:"code-bg",onClick:a})],2))}},R=k(E,[["__scopeId","data-v-e93d9969"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/components/country-select/components/CountryDialog.vue"]]);const q={__name:"index",props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(c,{emit:d}){const f=c,{t:u}=V(),{modelValue:i}=x(f),s=p([]),r=p(!1),a=p(!1),_=D(()=>{if(r.value){const t=s.value.find(e=>e.id===i.value);if(t)return t.countryName;for(const e in C)if(Number(C[e].dialCode)===Number(i.value))return C[e].name;return""}else return""}),n=t=>{d("update:modelValue",t.id),d("done",t)};return T(async()=>{g.loading({duration:0,message:u("loading"),forbidClick:!0}),await U().then(t=>{s.value=t.data||[],r.value=!0,g.clear()}).catch(()=>{g.clear()})}),(t,e)=>(v(),y("div",null,[j(R,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=m=>a.value=m),countries:s.value,onDone:n},null,8,["modelValue","countries"]),o("div",{class:N([{empty:!l(_),disabled:c.disabled},"input-item"]),onClick:e[1]||(e[1]=m=>a.value=!0)},h(l(_)||l(u)("selectNation")),3)]))}},K=k(q,[["__scopeId","data-v-20a90537"],["__file","/Users/wangjun/Downloads/mall-app-h5/src/components/country-select/index.vue"]]);export{K as C};
