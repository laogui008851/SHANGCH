{"version":3,"file":"js/60.74363840.js","mappings":"8TA+DA,MAAMA,GAAaC,EAAAA,EAAAA,IAAI,CACrBC,GAAI,GACJC,SAAU,GACVC,WAAY,KAERC,GAAaJ,EAAAA,EAAAA,IAAI,IAEjBK,GAAYL,EAAAA,EAAAA,IAAI,IACtB,IAAIM,GAAcN,EAAAA,EAAAA,IAAI,GACtB,MAAMO,GAAaP,EAAAA,EAAAA,KAAI,GAEvB,IAAIQ,GAAQR,EAAAA,EAAAA,IAAI,GACZS,GAAWT,EAAAA,EAAAA,IAAI,GACnB,MAAMU,GAAQV,EAAAA,EAAAA,KAAI,GAKZW,EAAU,KACd,MAAMC,EAAO,CACXC,eAAgBP,EAAYQ,MAC5BL,SAAUA,EAASK,MACnBb,GAAIF,EAAWe,MAAMb,IAEvBc,OAAOC,KAAKJ,GAAMK,SAAQC,IACpBN,EAAKM,WACAN,EAAKM,EACd,KAEFC,EAAAA,EAAAA,GAAM,CACJC,OAAQ,OACRC,IAAM,GAAEC,EAAAA,gDACRV,SACCW,MAAKC,UACNnB,EAAUS,MAAQW,EAAIb,KAAKA,KAAKc,SAChCC,QAAQC,IAAI,OAAQH,GACpBjB,EAAMM,MAAQW,EAAIb,KAAKA,KAAKiB,aAAa,GACzC,EAKEC,EAAgB,MACpBX,EAAAA,EAAAA,GAAM,CACJC,OAAQ,OACRC,IAAM,GAAEC,EAAAA,qEAEPC,MAAME,IACP,MAAMb,EAAOa,EAAIb,KAAKA,KACtBR,EAAWU,MAAQF,CAAI,GACvB,EAEJD,IAEAmB,IAEA,MAAMC,EAAoBC,IACxBvB,EAASK,MAAQkB,EACjBrB,GAAS,EAELsB,EAAuBD,IAC3B1B,EAAYQ,MAAQkB,EACpBrB,GAAS,EAMLuB,EAAQ,OAORC,EAAYC,KAChBjB,EAAAA,EAAAA,GAAM,CACJC,OAAQ,OACRC,IAAM,GAAEC,EAAAA,kDACRV,KAAM,CACJX,GAAImC,EAAInC,MAETsB,MAAME,IACPd,IACAgB,QAAQC,IAAIH,EAAI,GAChB,EAOEY,EAAUD,IACdT,QAAQC,IAAIQ,EAAI,EAKZE,EAAW,KACf3B,GAAS,EAML4B,EAAU,KACfxC,EAAWe,MAAQ,CACjBb,GAAI,GACJC,SAAU,GACVC,WAAY,IAEbQ,GAAS,E,sjGC3KX,MAAM6B,EAAc,EAEpB,O","sources":["webpack://bk-pc/./src/views/list-commodity/ListCommodity.vue","webpack://bk-pc/./src/views/list-commodity/ListCommodity.vue?9d24"],"sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"select\">\n      <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\n        <el-form-item :label=\"$t('商品名称')\">\n          <el-input v-model=\"formInline.goodName\" :placeholder=\"$t('商品名称')\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('商品ID')\">\n          <el-input v-model=\"formInline.id\" :placeholder=\"$t('商品ID')\" />\n        </el-form-item>\n        <el-form-item :label=\"$t('商品分类')\">\n          <el-select v-model=\"formInline.categoryId\" :placeholder=\"$t('商品分类')\">\n            <el-option v-for=\"item in attributes\" :label=\"item.name\" :key=\"item.id\" :value=\"item.id\" />\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmit\">{{ $t('查询') }}</el-button>\n          <el-button type=\"primary\" @click=\"onReset\">{{ $t('重置') }}</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"opt\">\n      <el-button type=\"primary\" @click=\"onAdd\">{{ $t('新增商品') }}</el-button>\n    </div>\n    <div class=\"table\">\n      <el-table :data=\"tableData\" style=\"width: 100%\">\n        <el-table-column prop=\"id\" :label=\"$t('商品ID')\" width=\"180\" />\n        <el-table-column :label=\"$t('封面图')\" width=\"180\" />\n        <el-table-column prop=\"goodName\" :label=\"$t('商品名称')\" width=\"180\" />\n        <el-table-column prop=\"categoryName\" :label=\"$t('商品分类')\" width=\"180\" />\n        <el-table-column prop=\"systemPrice\" :label=\"$t('进货价格')\" width=\"180\" />\n        <el-table-column prop=\"isShelf\" :label=\"$t('标签')\" width=\"180\" />\n        <el-table-column prop=\"date\" :label=\"$t('排序')\" width=\"180\" />\n        <el-table-column prop=\"date\" :label=\"$t('销量')\" width=\"180\" />\n        <el-table-column  :label=\"$t('操作')\" width=\"180\">\n          <template #default=\"scope\">\n            <el-button @click=\"onEdit(scope.row)\">{{ $t('编辑') }}</el-button>\n            <el-button type=\"danger\" @click=\"onRemove(scope.row)\">$t('删除')</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n          class=\"mt-15\"\n          v-model:current-page=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          :page-sizes=\"[10, 20, 30, 50]\"\n          :small=\"small\"\n          :background=\"background\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </div>\n\n</template>\n\n<script setup>\nimport {ref} from \"vue\";\nimport axios from \"axios\";\nimport {baseUrl2} from \"@/config\";\n\nconst formInline = ref({\n  id: \"\",\n  goodName: \"\",\n  categoryId: \"\"\n})\nconst attributes = ref([]);\n\nconst tableData = ref([])\nlet currentPage = ref(1);\nconst background = ref(false);\n\nlet total = ref(0);\nlet pageSize = ref(8);\nconst small = ref(false);\n\n/**\n * 获取表格数据\n */\nconst getData = () => {\n  const data = {\n    thisPageNumber: currentPage.value,\n    pageSize: pageSize.value,\n    id: formInline.value.id\n  }\n  Object.keys(data).forEach(key => {\n    if(!data[key]) {\n      delete data[key];\n    }\n  })\n  axios({\n    method: \"post\",\n    url: `${baseUrl2}/admin_war_exploded/systemGoods/list.action`,\n    data\n  }).then(async (res) => {\n    tableData.value = res.data.data.elements\n    console.log('列表数据', res)\n    total.value = res.data.data.totalElements;\n  })\n}\n/**\n * 获取商品分类\n */\nconst getCategories = () => {\n  axios({\n    method: \"post\",\n    url: `${baseUrl2}/admin_war_exploded/systemGoods/getAllAttributeCategory.action`,\n\n  }).then((res) => {\n    const data = res.data.data\n    attributes.value = data\n  });\n}\ngetData()\n\ngetCategories()\n\nconst handleSizeChange = (val) => {\n  pageSize.value = val;\n  getData()\n}\nconst handleCurrentChange = (val) => {\n  currentPage.value = val;\n  getData()\n}\n\n/**\n *  新增商品\n */\nconst onAdd = () => {\n\n}\n/**\n * 删除商品\n * @param row\n */\nconst onRemove = (row) => {\n  axios({\n    method: \"post\",\n    url: `${baseUrl2}/admin_war_exploded/systemGoods/delete.action`,\n    data: {\n      id: row.id\n    }\n  }).then((res) => {\n    getData()\n    console.log(res)\n  });\n}\n\n/**\n * 编辑商品\n * @param row\n */\nconst onEdit = (row) => {\n  console.log(row);\n}\n/**\n * 搜索\n */\nconst onSubmit = () => {\n  getData()\n}\n\n/**\n * 重置表单\n */\nconst onReset = () => {\n formInline.value = {\n   id: \"\",\n   goodName: \"\",\n   categoryId: \"\"\n }\n  getData()\n}\n\n</script>\n","import script from \"./ListCommodity.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ListCommodity.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["formInline","ref","id","goodName","categoryId","attributes","tableData","currentPage","background","total","pageSize","small","getData","data","thisPageNumber","value","Object","keys","forEach","key","axios","method","url","baseUrl2","then","async","res","elements","console","log","totalElements","getCategories","handleSizeChange","val","handleCurrentChange","onAdd","onRemove","row","onEdit","onSubmit","onReset","__exports__"],"sourceRoot":""}