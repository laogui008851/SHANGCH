{"version":3,"file":"js/974.9009ae4e.js","mappings":"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","sources":["webpack://bk-pc/./node_modules/vue-loader/dist/exportHelper.js","webpack://bk-pc/./src/views/CommodityLibrary/CommodityLibrary.vue","webpack://bk-pc/./src/views/CommodityLibrary/CommodityLibrary.vue?8f4b","webpack://bk-pc/./src/views/EditCommodity/BCategory.vue","webpack://bk-pc/./src/views/EditCommodity/BCategory.vue?2b0c","webpack://bk-pc/./node_modules/element-plus/dist/locale/zh-cn.mjs"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n","<template>\n    <div class=\"commodity-library\">\n        <div class=\"font-18\">{{ $t('商品列表') }}</div>\n        <div class=\"mt-15 select-wrapper\">\n            <div class=\"font-14\">{{ $t('查询条件') }}</div>\n            <el-form class=\"flex flex-wrap mt-10\">\n                <el-form-item class=\"mr-50\" :label=\"`${$t('商品名称')}：`\">\n                    <el-input v-model=\"info.commodityName\" :placeholder=\"$t('商品名称')\"/>\n                </el-form-item>\n                <el-form-item class=\"mr-50\" :label=\"`${$t('商品ID')}：`\">\n                    <el-input v-model=\"info.commodityId\" :placeholder=\"$t('商品ID')\"/>\n                </el-form-item>\n                <el-form-item class=\"mr-50\" :label=\"`${$t('商品分类')}：`\">\n                    <BCategory\n                            ref=\"BCategoryRef\"\n                            v-model=\"info.categoryId\"\n                            :lang=\"lang\"\n                    />\n                </el-form-item>\n                <el-form-item class=\"mr-50\" :label=\"`${$t('商品状态')}：`\">\n                    <el-select v-model=\"info.isShelf\" class=\"m-2\" :placeholder=\"$t('商品状态')\">\n                        <el-option\n                                v-for=\"item in shelfOptions\"\n                                :key=\"item.value\"\n                                :label=\"item.label\"\n                                :value=\"item.value\"\n                        />\n                    </el-select>\n                </el-form-item>\n                <el-form-item class=\"mr-50\" :label=\"`${$t('锁定状态')}：`\">\n                    <el-select v-model=\"info.updateStatus\" class=\"m-2\" :placeholder=\"$t('锁定状态')\">\n                        <el-option\n                                v-for=\"item in lockedState\"\n                                :key=\"item.value\"\n                                :label=\"item.label\"\n                                :value=\"item.value\"\n                        />\n                    </el-select>\n                </el-form-item>\n                <!--        <el-form-item label=\"时间：\">-->\n                <!--          <el-date-picker-->\n                <!--              v-model=\"info.time\"-->\n                <!--              type=\"daterange\"-->\n                <!--              range-separator=\"至\"-->\n                <!--              start-placeholder=\"开始日期\"-->\n                <!--              end-placeholder=\"结束日期\"-->\n                <!--          />-->\n                <!--        </el-form-item>-->\n                <el-form-item>\n                    <div style=\"padding: 5px\">\n                        <el-button type=\"primary\" @click=\"handleSelect\" :loading=\"selectLoading\">{{\n                            $t('查询')\n                            }}\n                        </el-button>\n                    </div>\n                    <div style=\"padding: 5px\">\n                        <el-button type=\"primary\" @click=\"handleReset\">{{ $t('重置') }}</el-button>\n                    </div>\n                </el-form-item>\n\n            </el-form>\n        </div>\n        <div class=\"my-30\">\n            <el-button type=\"primary\" @click=\"addCommodity\">{{ $t('新增商品') }}</el-button>\n            <!--      <el-button style=\"margin-left: 12px\" type=\"primary\" @click=\"dialogVisible = true\">{{ $t('导入链接') }}</el-button>-->\n        </div>\n        <div class=\"result\">\n            <div class=\"font-14\">{{ $t('查询结果') }}</div>\n            <el-table v-loading=\"dataLoading\" class=\"mt-15\" max-height=\"800\" :data=\"tableData.elements\" border\n                      style=\"width: 100%\">\n                <el-table-column prop=\"id\" :label=\"$t('商品ID')\" width=\"130\"/>\n                <el-table-column :label=\"$t('封面图')\" width=\"200\">\n                    <template #default=\"scope\">\n                        <div style=\"display: flex; align-items: center; justify-content: center; overflow: hidden;height: 80px\">\n                            <el-image style=\"width: 100px;height: 100%;\" :src=\"scope.row.imgUrl1\" fit=\"cover\">\n                                <template #error>\n                                    <div class=\"image-slot\">\n                                        <el-icon>\n                                            <icon-picture/>\n                                        </el-icon>\n                                    </div>\n                                </template>\n                            </el-image>\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"goodName\" :label=\"$t('商品名称')\">\n                    <template #default=\"scope\">\n                        <div style=\"overflow: hidden;\n                        text-overflow: ellipsis;\n                        display: -webkit-box;\n                        -webkit-line-clamp: 2;\n                        -webkit-box-orient: vertical;\">\n                            {{ scope.row.goodName }}\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"categoryName\" :label=\"$t('商品分类')\" width=\"200\" class-name=\"category\"/>\n                <el-table-column prop=\"secondCategoryName\" label=\"二级分类\" width=\"100\" class-name=\"category\"/>\n                <el-table-column prop=\"systemPrice\" :label=\"$t('进货价格')\" width=\"180\">\n                    <template #default=\"scope\">\n                        <div>${{ scope.row.systemPrice.toFixed(2) }}</div>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"putOnShelves\" :label=\"$t('是否上架')\" width=\"100\">\n                    <template #default=\"scope\">\n                        <!--            <el-tag v-if=\"scope.row.isShelf / 1 === 1\">上架</el-tag>-->\n                        <!--            <el-tag v-else type=\"danger\">下架</el-tag>-->\n                        <el-switch :active-value=\"1\" :inactive-value=\"0\" :disabled=\"tableDataLoading\"\n                                   v-model=\"scope.row.isShelf\"\n                                   @change=\"handleChangeSwitch(scope.row)\"/>\n                    </template>\n                </el-table-column>\n                <el-table-column :label=\"$t('解锁状态')\" width=\"84\">\n                    <!--          updateStatus-->\n                    <template #default=\"scope\">\n                        <div class=\"flex justify-center\" style=\"cursor: pointer\"\n                             @click=\"handleChangeLockedState(scope.row)\">\n                            <el-tag size=\"large\" v-if=\"scope.row.updateStatus\">{{ $t('已锁定') }}</el-tag>\n                            <el-tag size=\"large\" type=\"danger\" v-else>{{ $t('未锁定') }}</el-tag>\n                        </div>\n                    </template>\n                </el-table-column>\n                <el-table-column :label=\"$t('排序')\" width=\"80\"/>\n                <!--        <el-table-column prop=\"buyMin\" label=\"最小购买数量\"/>-->\n                <!--        <el-table-column prop=\"time\" label=\"创建时间\"/>-->\n                <el-table-column :label=\"$t('销量')\" width=\"100\"/>\n                <el-table-column :label=\"$t('操作')\" width=\"250\">\n                    <template #default=\"scope\">\n                        <div class=\"flex\">\n                            <div class=\"flex align-center flex-col mr-15\">\n                                <el-button @click=\"toPage('/comment', scope.row)\">{{ $t('评价库') }}</el-button>\n                                <el-button class=\"mt-10\" @click=\"toPage('/member-comments', scope.row)\">会员评价\n                                </el-button>\n                            </div>\n                            <div class=\"flex align-center flex-col\" v-if=\"!scope.row.updateStatus\">\n                                <el-button type=\"primary\" @click=\"editCommodity(scope.row.id)\">{{\n                                    $t('编辑')\n                                    }}\n                                </el-button>\n                                <!--                <el-button class=\"mt-10\" type=\"danger\" @click=\"open(scope.row)\">删除</el-button>-->\n                            </div>\n                        </div>\n                    </template>\n                </el-table-column>\n            </el-table>\n        </div>\n        <div class=\"flex justify-center mt-40\" v-if=\"Object.keys(tableData).length > 0\">\n            <el-config-provider :locale=\"zhCn\">\n                <el-pagination\n                        @size-change=\"pageSizeChange\"\n                        v-model:current-page=\"currentPage\"\n                        v-model:page-size=\"pageSize\"\n                        :page-sizes=\"[10, 20, 30, 50]\"\n                        background\n                        layout=\"total, prev, pager, next, jumper\"\n                        :total=\"total\"\n                        @current-change=\"handleChangePage\"\n                />\n            </el-config-provider>\n        </div>\n    </div>\n  <!-- 导入链接 -->\n    <el-dialog\n            v-model=\"dialogVisible\"\n            :title=\"$t('导入链接')\"\n            width=\"40%\"\n            @close=\"handleClose\"\n    >\n        <div>\n            <div class=\"font-16\">{{ $t('商品类型') }}</div>\n            <el-select v-model=\"type\" class=\"w-full mt-15\" placeholder=\"Select\">\n                <el-option\n                        v-for=\"item in options\"\n                        :key=\"item.value\"\n                        :label=\"item.label\"\n                        :value=\"item.value\"\n                />\n            </el-select>\n        </div>\n        <div class=\"mt-40\">\n            <div class=\"font-16\">{{ $t('商品链接') }}</div>\n            <el-input class=\"mt-15\" v-model=\"link\" :placeholder=\"$t('商品链接')\"/>\n        </div>\n        <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\" style=\"margin-right: 12px\">{{ $t('关闭') }}</el-button>\n        <el-button type=\"primary\" @click=\"handleConfirm\">\n          {{ $t('确认') }}\n        </el-button>\n      </span>\n        </template>\n    </el-dialog>\n</template>\n\n<script setup>\nimport {Picture as IconPicture} from '@element-plus/icons-vue'\nimport BCategory from '@/views/EditCommodity/BCategory'\nimport {useRouter} from \"vue-router\";\nimport {ElMessage, ElMessageBox} from 'element-plus'\nimport {onMounted, ref} from 'vue'\nimport zhCn from 'element-plus/dist/locale/zh-cn.mjs'\nimport {baseUrl2} from \"@/config\";\nimport axios from \"axios\";\nimport {useI18n} from \"vue-i18n\";\n\nconst {t} = useI18n()\n\nconst router = useRouter()\n\nconst BCategoryRef = ref(null)\nconst dataLoading = ref(true);\nconst lang = ref('en')\nconst info = ref({\n    commodityId: '', // ff808081847b9b2001847bb9cd7a0000\n    commodityName: '', // 商品名称\n    categoryId: '', // 项目分类\n    state: '', // 商品状态\n    isShelf: '', // 上下架\n    updateStatus: '', // 锁定状态\n    secondaryCategoryId: '',\n})\n\nconst lockedState = ref([\n    {\n        value: '',\n        label: t('全部'),\n    },\n    {\n        value: '0',\n        label: t('未锁定'),\n    },\n    {\n        value: '1',\n        label: t('已锁定'),\n    },\n])\n\nconst toPage = (path, data) => {\n\n    router.push({\n        path,\n        query: {\n            id: data.id\n        }\n    })\n}\n\n/**\n * 重置\n */\nconst handleReset = () => {\n    // eslint-disable-next-line\n    Object.keys(info.value).forEach(key => {\n        info.value[key] = ''\n    })\n    _getTableData()\n}\n\n/**\n * 获取产品分类\n */\n// const categoriesList = ref('')\n// const getProductCategories = () => {\n//   axios({\n//     method: \"post\",\n//     url: `${baseUrl2}/systemGoods/getGoodCategory.action?lang=${lang.value}`,\n//\n//   }).then((res) => {\n//     categoriesList.value = res.data.data\n//\n//\n//   });\n// }\n\n// getProductCategories()\n\n// 页码\nconst currentPage = ref(1)\nconst pageSize = ref(10)\nconst total = ref()\nconst handleChangePage = () => {\n    _getTableData()\n}\n\n// 修改每页显示数据\nconst pageSizeChange = () => {\n    _getTableData()\n}\n\n// 导入链接\nconst dialogVisible = ref(false)\nconst type = ref('')\nconst link = ref('')\nconst handleClose = () => {\n    console.log('close')\n}\nconst handleConfirm = () => {\n    dialogVisible.value = false\n}\n\nconst shelfOptions = [\n    {\n        value: '1',\n        label: t('上架'),\n    },\n    {\n        value: '0',\n        label: t('下架'),\n    },\n]\n\n/**\n * 查询\n */\nconst selectLoading = ref(false);\nconst tableData = ref({\n    elements: [\n        // {\n        //   id: '123',\n        //   name: '视频',\n        //   goodName: 'segfs'\n        // }\n    ]\n});\nconst handleSelect = () => {\n    _getTableData()\n}\nconst tableDataLoading = ref(false); // 列表数据是否在加载\n\n// 请求分类数据\nonMounted(() => {\n    BCategoryRef.value.getProductCategories()\n    _getTableData()\n})\n\nconst _getTableData = () => {\n    dataLoading.value = true\n    tableDataLoading.value = true\n    const params = {\n        ...info.value,\n        id: info.value.commodityId,\n        name: info.value.commodityName,\n        isShelf: info.value.isShelf,\n        categoryId: info.value.categoryId,\n        pageSize: pageSize.value,\n        pageNum: currentPage.value,\n        updateStatus: info.value.updateStatus,\n    }\n    params.categoryId = info.value.categoryId ? info.value.categoryId[0] : undefined\n    params.secondaryCategoryId = info.value.categoryId && info.value.categoryId.length > 1 ? info.value.categoryId[1] : undefined\n    selectLoading.value = true\n    axios({\n        method: \"post\",\n        url: `${baseUrl2}/systemGoods/list.action`,\n        params\n    }).then(res => {\n        selectLoading.value = false\n        if (res.data.data !== null) {\n            tableData.value = res.data.data\n            setTimeout(() => {\n                // 获取商品分类\n                BCategoryRef.value.kinds.length > 0 && tableData.value.elements.forEach(item => {\n                    if (item.categoryId) {\n                        const res = BCategoryRef.value.kinds.find(category => category.categoryId === item.categoryId)\n                        if (res) {\n                            item.categoryName = res.name\n                            if (res.subList.length > 0) {\n                                console.log(item);\n                                res.subList.forEach(item2 => {\n                                    if (item2.id === item.secondaryCategoryId) {\n                                        item.secondCategoryName = item2.name\n                                    }\n                                })\n                            }\n                        }\n                    }\n                })\n                total.value = tableData.value.totalElements\n            }, 300)\n        }\n\n        setTimeout(() => {\n            tableDataLoading.value = false\n        }, 1000)\n        dataLoading.value = false\n    })\n}\n\n/**\n * 删除\n */\nconst deleteLoading = ref(false);\n// eslint-disable-next-line no-unused-vars\nconst open = (data) => {\n    ElMessageBox.confirm(\n        `${t('你确定要删除吗')}?`,\n        t('警告'),\n        {\n            confirmButtonText: t('确定'),\n            cancelButtonText: t('取消'),\n            type: 'warning',\n        }\n    )\n        .then(() => {\n            _deleteGood(data.id).then(res => {\n                console.log(res)\n\n                deleteLoading.value = false\n                if (res.data.code === '0') {\n                    _getTableData()\n                    ElMessage({\n                        type: 'success',\n                        message: t('删除成功'),\n                    })\n                } else {\n                    ElMessage({\n                        type: 'error',\n                        message: res.data.msg,\n                    })\n                }\n            })\n\n        })\n        .catch(() => {\n            ElMessage({\n                type: 'info',\n                message: t('取消删除'),\n            })\n        })\n}\nconst _deleteGood = (id) => {\n    const data = new FormData()\n    data.append('id', id)\n    deleteLoading.value = true\n    return axios({\n        method: \"post\",\n        url: `${baseUrl2}/systemGoods/delete.action`,\n        data: data\n    })\n}\n\n// 新增商品\nconst addCommodity = () => {\n    router.push({\n        path: '/edit-commodity',\n        query: {\n            type: 'add' // 标识新增\n        }\n    })\n}\n\n// 编辑商品\nconst editCommodity = (id) => {\n    router.push({\n        path: '/edit-commodity',\n        query: {\n            type: 'edit', // 标识编辑\n            id,\n        }\n    })\n}\n\n//\nconst handleChangeSwitch = (data) => {\n    console.log(data);\n    // eslint-disable-next-line\n    const isShelf = data.isShelf ? 0 : 1;\n\n    const formData = new FormData()\n    formData.append('isShelf', data.isShelf)\n    formData.append('id', data.id)\n    axios({\n        method: 'post',\n        url: `${baseUrl2}/systemGoods/updateShelf.action`,\n        data: formData\n        // eslint-disable-next-line\n    }).then(res => {\n        // _getTableData()\n        if (data.isShelf / 1 === 1) {\n\n            ElMessage({\n                type: 'success',\n                message: t('上架成功'),\n            })\n        } else {\n\n            ElMessage({\n                type: 'success',\n                message: t('下架成功'),\n            })\n        }\n    })\n}\n\n/**\n * 修改解锁状态\n */\nconst handleChangeLockedState = (val) => {\n    //  0-解锁 1-锁定\n    const text = parseInt(val.updateStatus) ? '未锁定' : '已锁定';\n    ElMessageBox.confirm(\n        t(`你确定要修改状态为${text}吗?`),\n        t('警告'),\n        {\n            confirmButtonText: t('确认'),\n            cancelButtonText: t('取消'),\n            type: 'warning',\n        }\n    )\n        .then(() => {\n            dataLoading.value = true\n\n            const status = val.updateStatus ? 0 : 1;\n            const formData = new FormData()\n            formData.append('updateStatus', status);\n            formData.append('id', val.id)\n            axios({\n                url: `${baseUrl2}/systemGoods/updateUpdateStatus.action`,\n                method: 'post',\n                data: formData\n            }).then(res => {\n                console.log(res.data);\n\n                const index = tableData.value.elements.findIndex(item => item.id === val.id)\n                tableData.value.elements[index].updateStatus = status;\n\n                ElMessage({\n                    type: 'success',\n                    message: t('修改成功'),\n                })\n\n                dataLoading.value = false\n            })\n        })\n        .catch(() => {\n            ElMessage({\n                type: 'info',\n                message: t('取消修改'),\n            })\n        })\n}\n</script>\n\n<style scoped>\n@import \"@/style/commodity-library.scss\";\n\n:deep(.image-slot) {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 36px;\n    background-color: #e5e5e5;\n    color: #ffffff;\n}\n\n:deep(.el-button+.el-button) {\n    margin-left: 0;\n}\n\n:deep(.el-form-item ) {\n    align-items: center;\n\n}\n\n:deep(.category) {\n    white-space: nowrap;\n}\n</style>","import script from \"./CommodityLibrary.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CommodityLibrary.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CommodityLibrary.vue?vue&type=style&index=0&id=036f1d1a&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/wangjun/Downloads/betting/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-036f1d1a\"]])\n\nexport default __exports__","<template>\n    <el-cascader :options=\"options\" clearable :value=\"value\" filterable :props=\"cascaderProps\" @change=\"changeValue\">\n    </el-cascader>\n</template>\n\n<script setup>\nimport {defineEmits, defineExpose, defineProps, ref} from \"vue\";\nimport axios from \"axios\";\nimport {baseUrl3} from \"@/config\";\nimport {useI18n} from \"vue-i18n\";\n\nconst {t} = useI18n()\n\nconst props = defineProps({\n    value: {\n        type: Array,\n        default: () => []\n    },\n    all: {\n        type: Boolean,\n        default: false\n    },\n    lang: {\n        type: String,\n        default: 'zh'\n    }\n})\n\nconst emit = defineEmits(['input'])\n// const {categoryId, secondaryCategoryId} = useVModels(props, emits)\n\nconst kinds = ref([])\nconst options = ref([])\nconst cascaderProps = ref({})\nconst getProductCategories = () => {\n    axios({\n        method: \"get\",\n        url: `${baseUrl3}/wap/api/category!tree.action?lang=${props.lang}`,\n    }).then((res) => {\n        kinds.value = res.data.data\n        let data = getChildren(res.data.data)\n        data.unshift({\n            value: null,\n            label: t('全部'),\n            children: null\n        });\n        options.value = data\n    });\n}\n\nconst getChildren = (data) => {\n    let arr = [];\n    data.forEach(item => {\n        let obj = {\n            value: item.id,\n            label: item.name,\n            children: null\n        };\n        if (item?.subList?.length > 0) {\n            obj.children = getChildren(item.subList);\n            obj.children.unshift({\n                value: '0',\n                label: t('全部'),\n                children: null\n            })\n        }\n        arr.push(obj);\n    });\n    return arr;\n}\n\nconst changeValue = (val) => {\n    emit('input', val)\n}\n\ndefineExpose({\n    getProductCategories,\n    kinds,\n})\n</script>\n<style lang=\"scss\" scoped>\n\n</style>","import script from \"./BCategory.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BCategory.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","/*! Element Plus v2.2.22 */\n\nvar zhCn = {\n  name: \"zh-cn\",\n  el: {\n    colorpicker: {\n      confirm: \"\\u786E\\u5B9A\",\n      clear: \"\\u6E05\\u7A7A\"\n    },\n    datepicker: {\n      now: \"\\u6B64\\u523B\",\n      today: \"\\u4ECA\\u5929\",\n      cancel: \"\\u53D6\\u6D88\",\n      clear: \"\\u6E05\\u7A7A\",\n      confirm: \"\\u786E\\u5B9A\",\n      selectDate: \"\\u9009\\u62E9\\u65E5\\u671F\",\n      selectTime: \"\\u9009\\u62E9\\u65F6\\u95F4\",\n      startDate: \"\\u5F00\\u59CB\\u65E5\\u671F\",\n      startTime: \"\\u5F00\\u59CB\\u65F6\\u95F4\",\n      endDate: \"\\u7ED3\\u675F\\u65E5\\u671F\",\n      endTime: \"\\u7ED3\\u675F\\u65F6\\u95F4\",\n      prevYear: \"\\u524D\\u4E00\\u5E74\",\n      nextYear: \"\\u540E\\u4E00\\u5E74\",\n      prevMonth: \"\\u4E0A\\u4E2A\\u6708\",\n      nextMonth: \"\\u4E0B\\u4E2A\\u6708\",\n      year: \"\\u5E74\",\n      month1: \"1 \\u6708\",\n      month2: \"2 \\u6708\",\n      month3: \"3 \\u6708\",\n      month4: \"4 \\u6708\",\n      month5: \"5 \\u6708\",\n      month6: \"6 \\u6708\",\n      month7: \"7 \\u6708\",\n      month8: \"8 \\u6708\",\n      month9: \"9 \\u6708\",\n      month10: \"10 \\u6708\",\n      month11: \"11 \\u6708\",\n      month12: \"12 \\u6708\",\n      weeks: {\n        sun: \"\\u65E5\",\n        mon: \"\\u4E00\",\n        tue: \"\\u4E8C\",\n        wed: \"\\u4E09\",\n        thu: \"\\u56DB\",\n        fri: \"\\u4E94\",\n        sat: \"\\u516D\"\n      },\n      months: {\n        jan: \"\\u4E00\\u6708\",\n        feb: \"\\u4E8C\\u6708\",\n        mar: \"\\u4E09\\u6708\",\n        apr: \"\\u56DB\\u6708\",\n        may: \"\\u4E94\\u6708\",\n        jun: \"\\u516D\\u6708\",\n        jul: \"\\u4E03\\u6708\",\n        aug: \"\\u516B\\u6708\",\n        sep: \"\\u4E5D\\u6708\",\n        oct: \"\\u5341\\u6708\",\n        nov: \"\\u5341\\u4E00\\u6708\",\n        dec: \"\\u5341\\u4E8C\\u6708\"\n      }\n    },\n    select: {\n      loading: \"\\u52A0\\u8F7D\\u4E2D\",\n      noMatch: \"\\u65E0\\u5339\\u914D\\u6570\\u636E\",\n      noData: \"\\u65E0\\u6570\\u636E\",\n      placeholder: \"\\u8BF7\\u9009\\u62E9\"\n    },\n    cascader: {\n      noMatch: \"\\u65E0\\u5339\\u914D\\u6570\\u636E\",\n      loading: \"\\u52A0\\u8F7D\\u4E2D\",\n      placeholder: \"\\u8BF7\\u9009\\u62E9\",\n      noData: \"\\u6682\\u65E0\\u6570\\u636E\"\n    },\n    pagination: {\n      goto: \"\\u524D\\u5F80\",\n      pagesize: \"\\u6761/\\u9875\",\n      total: \"\\u5171 {total} \\u6761\",\n      pageClassifier: \"\\u9875\",\n      deprecationWarning: \"\\u4F60\\u4F7F\\u7528\\u4E86\\u4E00\\u4E9B\\u5DF2\\u88AB\\u5E9F\\u5F03\\u7684\\u7528\\u6CD5\\uFF0C\\u8BF7\\u53C2\\u8003 el-pagination \\u7684\\u5B98\\u65B9\\u6587\\u6863\"\n    },\n    messagebox: {\n      title: \"\\u63D0\\u793A\",\n      confirm: \"\\u786E\\u5B9A\",\n      cancel: \"\\u53D6\\u6D88\",\n      error: \"\\u8F93\\u5165\\u7684\\u6570\\u636E\\u4E0D\\u5408\\u6CD5!\"\n    },\n    upload: {\n      deleteTip: \"\\u6309 delete \\u952E\\u53EF\\u5220\\u9664\",\n      delete: \"\\u5220\\u9664\",\n      preview: \"\\u67E5\\u770B\\u56FE\\u7247\",\n      continue: \"\\u7EE7\\u7EED\\u4E0A\\u4F20\"\n    },\n    table: {\n      emptyText: \"\\u6682\\u65E0\\u6570\\u636E\",\n      confirmFilter: \"\\u7B5B\\u9009\",\n      resetFilter: \"\\u91CD\\u7F6E\",\n      clearFilter: \"\\u5168\\u90E8\",\n      sumText: \"\\u5408\\u8BA1\"\n    },\n    tree: {\n      emptyText: \"\\u6682\\u65E0\\u6570\\u636E\"\n    },\n    transfer: {\n      noMatch: \"\\u65E0\\u5339\\u914D\\u6570\\u636E\",\n      noData: \"\\u65E0\\u6570\\u636E\",\n      titles: [\"\\u5217\\u8868 1\", \"\\u5217\\u8868 2\"],\n      filterPlaceholder: \"\\u8BF7\\u8F93\\u5165\\u641C\\u7D22\\u5185\\u5BB9\",\n      noCheckedFormat: \"\\u5171 {total} \\u9879\",\n      hasCheckedFormat: \"\\u5DF2\\u9009 {checked}/{total} \\u9879\"\n    },\n    image: {\n      error: \"\\u52A0\\u8F7D\\u5931\\u8D25\"\n    },\n    pageHeader: {\n      title: \"\\u8FD4\\u56DE\"\n    },\n    popconfirm: {\n      confirmButtonText: \"\\u786E\\u5B9A\",\n      cancelButtonText: \"\\u53D6\\u6D88\"\n    }\n  }\n};\n\nexport { zhCn as default };\n"],"names":["exports","sfc","props","target","__vccOpts","key","val","t","useI18n","router","useRouter","BCategoryRef","ref","dataLoading","lang","info","commodityId","commodityName","categoryId","state","isShelf","updateStatus","secondaryCategoryId","lockedState","value","label","toPage","path","data","push","query","id","handleReset","Object","keys","forEach","_getTableData","currentPage","pageSize","total","handleChangePage","pageSizeChange","dialogVisible","type","link","handleClose","console","log","handleConfirm","shelfOptions","selectLoading","tableData","elements","handleSelect","tableDataLoading","onMounted","getProductCategories","params","name","pageNum","undefined","length","axios","method","url","baseUrl2","then","res","setTimeout","kinds","item","find","category","categoryName","subList","item2","secondCategoryName","totalElements","addCommodity","editCommodity","handleChangeSwitch","formData","FormData","append","ElMessage","message","handleChangeLockedState","text","parseInt","ElMessageBox","confirmButtonText","cancelButtonText","status","index","findIndex","catch","__exports__","options","cascaderProps","baseUrl3","getChildren","unshift","children","arr","obj","changeValue","emit","expose","zhCn","el","colorpicker","confirm","clear","datepicker","now","today","cancel","selectDate","selectTime","startDate","startTime","endDate","endTime","prevYear","nextYear","prevMonth","nextMonth","year","month1","month2","month3","month4","month5","month6","month7","month8","month9","month10","month11","month12","weeks","sun","mon","tue","wed","thu","fri","sat","months","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","select","loading","noMatch","noData","placeholder","cascader","pagination","goto","pagesize","pageClassifier","deprecationWarning","messagebox","title","error","upload","deleteTip","delete","preview","continue","table","emptyText","confirmFilter","resetFilter","clearFilter","sumText","tree","transfer","titles","filterPlaceholder","noCheckedFormat","hasCheckedFormat","image","pageHeader","popconfirm"],"sourceRoot":""}