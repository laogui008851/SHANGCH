"use strict";(self["webpackChunkbk_pc"]=self["webpackChunkbk_pc"]||[]).push([[60],{5853:function(e,l,a){a.r(l),a.d(l,{default:function(){return b}});var t=a(3396),o=a(7139),d=a(4870),u=a(4311),n=a(1073);const i={class:"main"},m={class:"select"},p={class:"opt"},r={class:"table"};var s={__name:"ListCommodity",setup(e){const l=(0,d.iH)({id:"",goodName:"",categoryId:""}),a=(0,d.iH)([]),s=(0,d.iH)([]);let c=(0,d.iH)(1);const b=(0,d.iH)(!1);let w=(0,d.iH)(0),g=(0,d.iH)(8);const v=(0,d.iH)(!1),h=()=>{const e={thisPageNumber:c.value,pageSize:g.value,id:l.value.id};Object.keys(e).forEach((l=>{e[l]||delete e[l]})),(0,u.Z)({method:"post",url:`${n.O9}/admin_war_exploded/systemGoods/list.action`,data:e}).then((async e=>{s.value=e.data.data.elements,console.log("列表数据",e),w.value=e.data.data.totalElements}))},_=()=>{(0,u.Z)({method:"post",url:`${n.O9}/admin_war_exploded/systemGoods/getAllAttributeCategory.action`}).then((e=>{const l=e.data.data;a.value=l}))};h(),_();const W=e=>{g.value=e,h()},f=e=>{c.value=e,h()},y=()=>{},$=e=>{(0,u.Z)({method:"post",url:`${n.O9}/admin_war_exploded/systemGoods/delete.action`,data:{id:e.id}}).then((e=>{h(),console.log(e)}))},k=e=>{console.log(e)},C=()=>{h()},U=()=>{l.value={id:"",goodName:"",categoryId:""},h()};return(e,u)=>{const n=(0,t.up)("el-input"),h=(0,t.up)("el-form-item"),_=(0,t.up)("el-option"),z=(0,t.up)("el-select"),H=(0,t.up)("el-button"),V=(0,t.up)("el-form"),I=(0,t.up)("el-table-column"),N=(0,t.up)("el-table"),S=(0,t.up)("el-pagination");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",m,[(0,t.Wm)(V,{inline:!0,model:l.value,class:"demo-form-inline"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{label:e.$t("商品名称")},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{modelValue:l.value.goodName,"onUpdate:modelValue":u[0]||(u[0]=e=>l.value.goodName=e),placeholder:e.$t("商品名称")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,t.Wm)(h,{label:e.$t("商品ID")},{default:(0,t.w5)((()=>[(0,t.Wm)(n,{modelValue:l.value.id,"onUpdate:modelValue":u[1]||(u[1]=e=>l.value.id=e),placeholder:e.$t("商品ID")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,t.Wm)(h,{label:e.$t("商品分类")},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:l.value.categoryId,"onUpdate:modelValue":u[2]||(u[2]=e=>l.value.categoryId=e),placeholder:e.$t("商品分类")},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.value,(e=>((0,t.wg)(),(0,t.j4)(_,{label:e.name,key:e.id,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(H,{type:"primary",onClick:C},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.$t("查询")),1)])),_:1}),(0,t.Wm)(H,{type:"primary",onClick:U},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.$t("重置")),1)])),_:1})])),_:1})])),_:1},8,["model"])]),(0,t._)("div",p,[(0,t.Wm)(H,{type:"primary",onClick:y},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.$t("新增商品")),1)])),_:1})]),(0,t._)("div",r,[(0,t.Wm)(N,{data:s.value,style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{prop:"id",label:e.$t("商品ID"),width:"180"},null,8,["label"]),(0,t.Wm)(I,{label:e.$t("封面图"),width:"180"},null,8,["label"]),(0,t.Wm)(I,{prop:"goodName",label:e.$t("商品名称"),width:"180"},null,8,["label"]),(0,t.Wm)(I,{prop:"categoryName",label:e.$t("商品分类"),width:"180"},null,8,["label"]),(0,t.Wm)(I,{prop:"systemPrice",label:e.$t("进货价格"),width:"180"},null,8,["label"]),(0,t.Wm)(I,{prop:"isShelf",label:e.$t("标签"),width:"180"},null,8,["label"]),(0,t.Wm)(I,{prop:"date",label:e.$t("排序"),width:"180"},null,8,["label"]),(0,t.Wm)(I,{prop:"date",label:e.$t("销量"),width:"180"},null,8,["label"]),(0,t.Wm)(I,{label:e.$t("操作"),width:"180"},{default:(0,t.w5)((l=>[(0,t.Wm)(H,{onClick:e=>k(l.row)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(e.$t("编辑")),1)])),_:2},1032,["onClick"]),(0,t.Wm)(H,{type:"danger",onClick:e=>$(l.row)},{default:(0,t.w5)((()=>[(0,t.Uk)("$t('删除')")])),_:2},1032,["onClick"])])),_:1},8,["label"])])),_:1},8,["data"]),(0,t.Wm)(S,{class:"mt-15","current-page":(0,d.SU)(c),"onUpdate:current-page":u[3]||(u[3]=e=>(0,d.dq)(c)?c.value=e:c=e),"page-size":(0,d.SU)(g),"onUpdate:page-size":u[4]||(u[4]=e=>(0,d.dq)(g)?g.value=e:g=e),"page-sizes":[10,20,30,50],small:v.value,background:b.value,layout:"total, sizes, prev, pager, next, jumper",total:(0,d.SU)(w),onSizeChange:W,onCurrentChange:f},null,8,["current-page","page-size","small","background","total"])])])}}};const c=s;var b=c}}]);
//# sourceMappingURL=60.74363840.js.map