System.register(["./index-legacy-48337caa.js","./index-legacy-d9f815eb.js"],(function(t,e){"use strict";var n,o,l,a,s,c,i,r,u,d,f,m,g,B,p,b,C,h,v,w,y,x,S,k,O,D,T,P,A,H,N,U,z;return{setters:[t=>{n=t.Q,o=t.d,l=t.r,a=t.aJ,s=t.a9,c=t.a0,i=t.b,r=t.$,u=t.R,d=t.S,f=t.W,m=t.m,g=t.ac,B=t.aK,p=t.V,b=t.a1,C=t.U,h=t.aL,v=t.p,w=t.aM,y=t.aN,x=t.ag,S=t.aO,k=t.ab,O=t.aP,D=t.aQ,T=t.a7,P=t.aR,A=t.aS,H=t.aT,N=t.aU,U=t.aV},t=>{z=t.B}],execute:function(){t("D",Z);const[e,R]=n("action-bar"),j=Symbol(e),E={placeholder:Boolean,safeAreaInsetBottom:c};var F=o({name:e,props:E,setup(t,{slots:e}){const n=l(),o=a(n,R),{linkChildren:c}=s.useChildren(j);c();const r=()=>{var o;return i("div",{ref:n,class:[R(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[null==(o=e.default)?void 0:o.call(e)])};return()=>t.placeholder?o(r):r()}});const I=r(F),[K,L]=n("action-bar-button"),M=u({},d,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Q=o({name:K,props:M,setup(t,{slots:e}){const n=f(),{parent:o,index:l}=s.useParent(j),a=m((()=>{if(o){const t=o.children[l.value-1];return!(t&&"isButton"in t)}})),c=m((()=>{if(o){const t=o.children[l.value+1];return!(t&&"isButton"in t)}}));return g({isButton:!0}),()=>{const{type:o,icon:l,text:s,color:r,loading:u,disabled:d}=t;return i(z,{class:L([o,{last:c.value,first:a.value}]),size:"large",type:o,icon:l,color:r,loading:u,disabled:d,onClick:n},{default:()=>[e.default?e.default():s]})}}});const V=r(Q),[$,J,W]=n("dialog"),q=u({},B,{title:String,theme:String,width:p,message:[String,Function],callback:Function,allowHtml:Boolean,className:b,transition:C("van-dialog-bounce"),messageAlign:String,closeOnPopstate:c,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:c,closeOnClickOverlay:Boolean}),G=[...h,"transition","closeOnPopstate"];var X=o({name:$,props:q,emits:["confirm","cancel","keydown","update:show"],setup(t,{emit:e,slots:n}){const o=l(),a=v({confirm:!1,cancel:!1}),s=t=>e("update:show",t),c=e=>{var n;s(!1),null==(n=t.callback)||n.call(t,e)},r=n=>()=>{t.show&&(e(n),t.beforeClose?(a[n]=!0,D(t.beforeClose,{args:[n],done(){c(n),a[n]=!1},canceled(){a[n]=!1}})):c(n))},u=r("cancel"),d=r("confirm"),f=w((n=>{var l,a;n.target===(null==(a=null==(l=o.value)?void 0:l.popupRef)?void 0:a.value)&&({Enter:t.showConfirmButton?d:y,Escape:t.showCancelButton?u:y}[n.key](),e("keydown",n))}),["enter","esc"]),m=()=>{const e=n.title?n.title():t.title;if(e)return i("div",{class:J("header",{isolated:!t.message&&!n.default})},[e])},g=e=>{const{message:n,allowHtml:o,messageAlign:l}=t,a=J("message",{"has-title":e,[l]:l}),s=T(n)?n():n;return o&&"string"==typeof s?i("div",{class:a,innerHTML:s},null):i("div",{class:a},[s])},B=()=>{if(n.default)return i("div",{class:J("content")},[n.default()]);const{title:e,message:o,allowHtml:l}=t;if(o){const t=!(!e&&!n.title);return i("div",{key:l?1:0,class:J("content",{isolated:!t})},[g(t)])}},p=()=>n.footer?n.footer():"round-button"===t.theme?i(I,{class:J("footer")},{default:()=>[t.showCancelButton&&i(V,{type:"warning",text:t.cancelButtonText||W("cancel"),class:J("cancel"),color:t.cancelButtonColor,loading:a.cancel,disabled:t.cancelButtonDisabled,onClick:u},null),t.showConfirmButton&&i(V,{type:"danger",text:t.confirmButtonText||W("confirm"),class:J("confirm"),color:t.confirmButtonColor,loading:a.confirm,disabled:t.confirmButtonDisabled,onClick:d},null)]}):i("div",{class:[A,J("footer")]},[t.showCancelButton&&i(z,{size:"large",text:t.cancelButtonText||W("cancel"),class:J("cancel"),style:{color:t.cancelButtonColor},loading:a.cancel,disabled:t.cancelButtonDisabled,onClick:u},null),t.showConfirmButton&&i(z,{size:"large",text:t.confirmButtonText||W("confirm"),class:[J("confirm"),{[P]:t.showCancelButton}],style:{color:t.confirmButtonColor},loading:a.confirm,disabled:t.confirmButtonDisabled,onClick:d},null)]);return()=>{const{width:e,title:n,theme:l,message:a,className:c}=t;return i(O,x({ref:o,role:"dialog",class:[J([l]),c],style:{width:k(e)},tabindex:0,"aria-labelledby":n||a,onKeydown:f,"onUpdate:show":s},S(t,G)),{default:()=>[m(),B(),p()]})}}});let Y;function Z(t){return H?new Promise(((e,n)=>{Y||function(){const t={setup(){const{state:t,toggle:e}=U();return()=>i(X,x(t,{"onUpdate:show":e}),null)}};({instance:Y}=N(t))}(),Y.open(u({},Z.currentOptions,t,{callback:t=>{("confirm"===t?e:n)(t)}}))})):Promise.resolve()}Z.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},Z.currentOptions=u({},Z.defaultOptions),Z.alert=Z,Z.confirm=t=>Z(u({showCancelButton:!0},t)),Z.close=()=>{Y&&Y.toggle(!1)},Z.setDefaultOptions=t=>{u(Z.currentOptions,t)},Z.resetDefaultOptions=()=>{Z.currentOptions=u({},Z.defaultOptions)},Z.Component=r(X),Z.install=t=>{t.use(Z.Component),t.config.globalProperties.$dialog=Z}}}}));
