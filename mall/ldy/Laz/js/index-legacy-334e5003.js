System.register(["./index-legacy-48337caa.js"],(function(o,r){"use strict";var e,a,i,l,n,t,s,c,d,u,g,v,f,h,m,b,y,p,w,S;return{setters:[o=>{e=o.Q,a=o.V,i=o.a0,l=o.U,n=o.d,t=o.r,s=o.aj,c=o.m,d=o.ab,u=o.a2,g=o.f,v=o.aT,f=o.a_,h=o.b,m=o.g,b=o.bZ,y=o.ag,p=o.s,w=o.I,S=o.$}],execute:function(){const[r,z]=e("image"),x={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:a,height:a,radius:a,lazyLoad:Boolean,iconSize:a,showError:i,errorIcon:l("photo-fail"),iconPrefix:String,showLoading:i,loadingIcon:l("photo")};var I=n({name:r,props:x,emits:["load","error"],setup(o,{emit:r,slots:e}){const a=t(!1),i=t(!0),l=t(),{$Lazyload:n}=s().proxy,S=c((()=>{const r={width:d(o.width),height:d(o.height)};return u(o.radius)&&(r.overflow="hidden",r.borderRadius=d(o.radius)),r}));g((()=>o.src),(()=>{a.value=!1,i.value=!0}));const x=o=>{i.value=!1,r("load",o)},I=o=>{a.value=!0,i.value=!1,r("error",o)},L=(r,e,a)=>a?a():h(w,{name:r,size:o.iconSize,class:e,classPrefix:o.iconPrefix},null),$=()=>{if(a.value||!o.src)return;const r={alt:o.alt,class:z("img"),style:{objectFit:o.fit,objectPosition:o.position}};return o.lazyLoad?m(h("img",y({ref:l},r),null),[[b("lazy"),o.src]]):h("img",y({src:o.src,onLoad:x,onError:I},r),null)},j=({el:o})=>{const r=()=>{o===l.value&&i.value&&x()};l.value?r():p(r)},P=({el:o})=>{o!==l.value||a.value||I()};return n&&v&&(n.$on("loaded",j),n.$on("error",P),f((()=>{n.$off("loaded",j),n.$off("error",P)}))),()=>{var r;return h("div",{class:z({round:o.round,block:o.block}),style:S.value},[$(),i.value&&o.showLoading?h("div",{class:z("loading")},[L(o.loadingIcon,z("loading-icon"),e.loading)]):a.value&&o.showError?h("div",{class:z("error")},[L(o.errorIcon,z("error-icon"),e.error)]):void 0,null==(r=e.default)?void 0:r.call(e)])}}});o("I",S(I))}}}));
