System.register(["./index-legacy-6ad9d2f3.js","./index-legacy-7018d4bf.js","./index-legacy-4d4c31a5.js","./index-legacy-28ed8825.js","./config-legacy-021fd5cc.js","./use-id-legacy-5e608c80.js"],(function(e,t){"use strict";var i,n,a,l,s,o,c,d,r,u,p,f,v,g,x,m,b,y,h,k,w,T,_,z,L,S,j,M,H,I,N=document.createElement("style");return N.textContent='@charset "UTF-8";.van-pull-refresh[data-v-87f17dce]{background-color:#eff2f6}.list-content .item-list[data-v-87f17dce]{padding:15px;border-bottom:1px solid #eee;background-color:#fff}.list-content .item-list>.title-content[data-v-87f17dce]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.list-content .item-list>.title-content>.title[data-v-87f17dce]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:calc(100% - 120px)}.list-content .item-list>.title-content>.title>.tips[data-v-87f17dce]{width:8px;height:8px;border-radius:50%;background:#ff3e3e;margin-right:8px}.list-content .item-list>.title-content>.title>.tips.is-ar[data-v-87f17dce]{margin-right:0;margin-left:8px}.list-content .item-list>.title-content>.title>p[data-v-87f17dce]{font-size:14px;color:#000;-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.list-content .item-list>.title-content>p[data-v-87f17dce]{font-size:10px;color:#999}.list-content .item-list>.txt[data-v-87f17dce]{font-size:12px;margin-top:5px;word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}\n',document.head.appendChild(N),{setters:[e=>{i=e._,n=e.d,a=e.v,l=e.i,s=e.r,o=e.q,c=e.c,d=e.b,r=e.w,u=e.b9,p=e.o,f=e.e,v=e.t,g=e.u,x=e.F,m=e.s,b=e.a,y=e.n,h=e.x,k=e.y,w=e.J,T=e.K,_=e.cE,z=e.cF,L=e.al,S=e.cG},e=>{j=e.P},e=>{M=e.L},e=>{H=e.E},e=>{I=e.m},()=>{}],execute:function(){const t={class:"page-main-content"},N=(e=>(w("data-v-87f17dce"),e=e(),T(),e))((()=>b("div",{style:{height:"46px"}},null,-1))),E={key:0,class:"list-content"},A=["onClick"],O={class:"title-content"},C={class:"title"},F={key:0,class:"txt"},J=["innerHTML"],P=["innerHTML"],R=["innerHTML"],U=["innerHTML"],$=["innerHTML"],V={key:0},q={key:1,class:"txt"},G=n({name:"MessageSystem"}),K=Object.assign(G,{setup(e){const{t:i}=a.exports.useI18n(),n=l(),w=new URL("/www/png/name-20d65991.png",self.location),T=s([]),G=s(!1),K=s(!0),B=s(!1),D=s({pageSize:20,pageNum:1}),Q=()=>{const e={...D.value,totalElements:-1,type:3,status:0,module:1};_(e).then((e=>{const t=e.elements||[];t.forEach((e=>{const t={};(e.varInfo?JSON.parse(e.varInfo):[]).forEach((e=>{t[e.code]=["complaintReason"].includes(e.code)?i(e.value):e.value})),e.timeStr=z(e.sendTime,!0),e.varObj=t})),T.value=1===D.value.pageNum?t:[...T.value,...t],K.value=!1,G.value=!1,B.value=e.totalPage===D.value.pageNum||!e.totalPage,D.value.pageNum+=1})).catch((()=>{B.value=!0,K.value=!1,G.value=!1}))},W=()=>{K.value=!0,D.value.pageNum=1,Q()},X=(e,t)=>{const i=(e.varInfo?JSON.parse(e.varInfo):[]).find((e=>e.code===t));return i?i.value:"0"},Y=(e,t)=>{const i=(e.varInfo?JSON.parse(e.varInfo):[]).find((e=>e.code===t));return i?i.value:""};return o((()=>{document.addEventListener("systemListRefresh",(()=>{W()}),!1)})),(e,a)=>{const l=u,s=H,o=M,_=j;return p(),c("div",t,[d(l,{fixed:!0},{title:r((()=>[f(v(e.$t("系统消息")),1)])),_:1}),N,d(_,{modelValue:G.value,"onUpdate:modelValue":a[1]||(a[1]=e=>G.value=e),"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新"),onRefresh:W},{default:r((()=>[d(o,{loading:K.value,"onUpdate:loading":a[0]||(a[0]=e=>K.value=e),finished:B.value,"loading-text":g(i)("loading"),"finished-text":g(i)("product.3"),onLoad:Q},{default:r((()=>[T.value.length?(p(),c("div",E,[(p(!0),c(x,null,m(T.value,(e=>(p(),c("div",{key:e.id,class:"item-list",onClick:t=>{return L({path:"/message/details",query:{id:(i=e).id}}),void(2!==i.status&&S({ids:i.id}).then((()=>{i.status=2})));var i}},[b("div",O,[b("div",C,[1===e.status?(p(),c("div",{key:0,class:y(["tips",{"is-ar":g(n)}])},null,2)):h("",!0),b("p",null,v(g(i)(g(I)[e.bizType].title)),1)]),b("p",null,v(e.timeStr),1)]),g(I)[e.bizType].key?(p(),c("p",F,["creditScore"===g(I)[e.bizType].key?(p(),c("span",{key:0,innerHTML:g(i)("systemMsgScore",{creditScore:X(e,g(I)[e.bizType].key)})},null,8,J)):"inbox_recharge_success"===e.bizType?(p(),c("span",{key:1,innerHTML:g(i)("rechargeSuccessTips",{orderAmount:X(e,"orderAmount")})},null,8,P)):"inbox_withdraw_success"===e.bizType?(p(),c("span",{key:2,innerHTML:g(i)("withdrawalSuccessTips",{orderAmount:X(e,"orderAmount")})},null,8,R)):"inbox_store_audit_fail"===e.bizType?(p(),c("span",{key:3,innerHTML:g(i)("storeAuthenticationFailedTips",{shop_name:Y(e,"shop_name"),reason:Y(e,"reason")})},null,8,U)):"inbox_store_audit_success"===e.bizType?(p(),c("span",{key:4,innerHTML:g(i)("storeAuthenticationPassedTips",{shop_name:Y(e,"shop_name")})},null,8,$)):(p(),c(x,{key:5},[b("span",null,v(g(i)(g(I)[e.bizType].txt)),1),b("span",null,v(X(e,g(I)[e.bizType].key)),1),g(I)[e.bizType].txt1?(p(),c("span",V,v(g(i)(g(I)[e.bizType].txt1)),1)):h("",!0)],64))])):(p(),c("p",q,v(g(i)(g(I)[e.bizType].txt,e.varObj)),1))],8,A)))),128))])):h("",!0),T.value.length||K.value?h("",!0):(p(),k(s,{key:1,image:g(w).href},null,8,["image"]))])),_:1},8,["loading","finished","loading-text","finished-text"])])),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"])])}}});e("default",i(K,[["__scopeId","data-v-87f17dce"]]))}}}));
