import{_ as ue,i as de,v as pe,r as n,b5 as ve,p as ge,cw as C,I as me,b7 as he,c as r,b as S,w as f,F as O,s as R,x as g,a as o,t as p,g as fe,b1 as _e,u as a,y as V,n as Ae,A as ke,ai as ye,cx as _,T as A,o as l,b2 as Se,av as M,M as Le,J as we,K as xe,cy as Ce}from"./index-0001e040.js";import{P as be}from"./index-d2d7f06b.js";import{L as Ie}from"./index-a026024e.js";import{E as Ne}from"./index-1b41dac3.js";import"./index-9e9f9536.js";import"./index-a602a0f8.js";import{S as Ue}from"./index-03f57b56.js";import{_ as Ee}from"./search-icon-8ae5f679.js";import{_ as Be}from"./more-f6d49895.js";import{e as Ge}from"./editProfit-2cde6328.js";import{h as Je,g as Oe}from"./product.api-19eafb76.js";import{c as Re}from"./index-67f8966a.js";import"./use-id-a8534a74.js";/* empty css              */import"./index-259473f6.js";import"./index-aebf78fc.js";import"./index-2e9aec07.js";import"./index-da87d95b.js";import"./function-call-75274e81.js";import"./index-3970dd75.js";import"./index-02f58f9d.js";import"./___vite-browser-external_commonjs-proxy-eebe5f73.js";const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAwCAYAAABqkJjhAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgB7Zk9btswFMefZHu0obGeqt7AtT14q3qC+gZtTpD4BE5u0Gzd7J6g6tipymbAH0lOEGXyGO2G7fwZUAmT6ItiqMAAf4BASnoE/6RIPurRIkU6nY6LxC1oHl0BUsCikvR6vSGSMa6OTLn9fh8iOVutVlMqQY1K0O12x5Zl/UL2A0mCcg6uYbvddtbr9T+SRLqHIfYHKpwIjyL02i1L88qi3EcShg/KjdDTP0mCMoJvULHLb/1ms3kUBEGu2Jh+v38KoWN+G223208Y1oXL2yQBm2CC2KjRaIxkxDIWi8UpPX0Np16vS80BKcH0/HNez2azkMrxN87sdjuXJJAV/O4cnOCHSYex6dm27eUZYxi4sPvOb0Pc/6YSYB58o6f122fDK68Mhg7zOb7FJlKtVruhAwAN/cqGhEMHAr6E8zAkmDMgYQVAS46JNwRG51TAKbwVqHssCDwTXoXMnSc6DjQg5F6J+MIeUkVgj7KP88vl8pU+s6zpxgjWjRGsmzopAk/J1mv2uxSkLX/8v8/LsimKcg/DrU/4dcnFv67Etv9zmz+kiLJgeKPPPOtQipsXNv1Sm/UkzKTTjRGsGyNYN0awboxg3RjBulEWjI1NkSBM9CItjbJgbB1H2LFdQPgoY697xGyYLSmivIGfz+fskMXLskF8wUfi0xtgJp1ujGDdJArGjL+L8zg0caki+N91TOISmNbDjxFxLEfHVBFCdJ/SovKJyxp6eIoCceEhwq8ThOxLHQ8UxIHYL6j3RHg2TTJMPVhEnJadUFbWuyLMySB47SW9S510WOxZa8+pevxWqzVMe5l7dDsYDNzNZnOCVisHQbLAcGBR/ylOSoMsu3tYs9QwhJVNvQAAAABJRU5ErkJggg==";const H=L=>(we("data-v-d052b628"),L=L(),xe(),L),He=H(()=>o("img",{class:"search-icon",src:Ee},null,-1)),Te={key:0,class:"result-list pl-4 pr-4"},Me=["onClick"],je={key:1,class:"search-history"},ze={class:"title"},Pe=H(()=>o("img",{src:Ve,alt:"",class:"delete-icon"},null,-1)),Ye={key:0,class:"content"},De=["onClick"],Fe={key:2,class:"list ml-4 mr-4 mt-4 mb-4"},Ke=["onClick"],qe={class:"flex-1 flex left"},Qe={class:"product-img-wrap w-20 h-20",style:{overflow:"hidden"}},$e=["src"],Xe={class:"product-info"},We={class:"name"},Ze={class:"Specification"},es={key:0,style:{"margin-right":"20px"}},ss={key:1},ts={class:"money"},os={class:"item-more-content"},as=["onClick"],ls=H(()=>o("img",{class:"more-icon",src:Be},null,-1)),ns=[ls],is={__name:"index",setup(L){const j=de(),{t:k}=pe.exports.useI18n(),T=ke(),z=ye(),d=n(z.query.id);let c=n(""),v=n(1),P=n(""),b=n(!1);n({});const m=n([]),I=n([]),Y=n(!1),h=n(!1),N=n(!1);let u=n([]);const D=()=>{},F=new URL("/www/png/name-20d65991.png",self.location),U=n(null);ve(()=>{U.value&&console.log(U.value)}),ge(()=>{d.value/1===1?C("searchOne")&&(u.value=C("searchOne")):C("searchTwo")&&(u.value=C("searchTwo"))});const w=Ce(()=>{c.value.trim()?(v.value=1,m.value=[],A.loading({forbidClick:!0,loadingType:"spinner"}),B(),K()):A({message:k("\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u5B57"),duration:2e3})},500),K=()=>{const e=c.value.trim(),s=d.value/1===1?"searchOne":"searchTwo";if(e!="")if(u.value.length==0)u.value.push(e),_(s,u.value);else{const i=Re(u.value);i.unshift(e);const x=[...new Set(i)];u.value=x,_(s,x)}},q=()=>{d.value/1===1?_("searchOne",[]):_("searchTwo",[])},Q=()=>{c.value=""},$=e=>{c.value=e,w()},X=e=>{u.value=[],d.value/1===1?_("searchOne",""):_("searchTwo","")},W=()=>{Y.value=!1,w()},Z=()=>{let e={pageNum:v.value,pageSize:20,keyword:c.value};Je(e).then(s=>{console.log(s),A.clear(),v.value++;for(let i=0;i<s.pageList.length;i++)s.pageList[i].check=!1,m.value.push(s.pageList[i]);h.value=!1,s.pageList.length<20?(v.value>1&&A(k("\u6CA1\u6709\u66F4\u591A\u6570\u636E")),N.value=!0):v.value++})},ee=()=>{let e={name:c.value,categoryId:"",pageNum:v.value,pageSize:20};Oe(e).then(s=>{A.clear(),console.log("\u5546\u5BB6\u81EA\u5DF1\u7684\u5546\u54C1",s);for(let i=0;i<s.pageList.length;i++)m.value.push(s.pageList[i]);h.value=!1,s.pageList.length<20?(v.value>1&&A(k("\u6CA1\u6709\u66F4\u591A\u6570\u636E")),N.value=!0):v.value++})},E=n(null);d.value/1===2?E.value=ee:E.value=Z;const B=()=>{console.log(123),E.value()},se=e=>{console.log("ssss",e),c.value="",I.value=[],P.value=e.goodsId,v.value=1,m.value=[],B()};let G=n([]);const te=e=>{d.value/1===1?T.push({path:"/productPage/productEdit",query:{item:JSON.stringify(e)}}):(G.value=[],G.value.push(e.id),b.value=!0)},oe=(e,s)=>{e.sellingPrice=s},ae=()=>{b.value=!1},le=e=>{d.value/1===1&&T.push({path:"/productPage/details",query:{item:JSON.stringify(e)}})};return(e,s)=>{const i=me,x=Ue,ne=he,ie=Ne,re=Ie,ce=be;return l(),r("div",{class:Ae(["search-container",{"is-ar":a(j)}])},[S(ne,{fixed:"","left-arrow":"",onClickLeft:s[2]||(s[2]=()=>e.$router.back())},{title:f(()=>[S(x,{modelValue:a(c),"onUpdate:modelValue":s[0]||(s[0]=t=>Se(c)?c.value=t:c=t),shape:"round",clearable:!1,placeholder:e.$t("\u8BF7\u8F93\u5165\u5546\u54C1"),onInput:D},{"left-icon":f(()=>[He]),"right-icon":f(()=>[a(c)?(l(),V(i,{key:0,name:"cross",onClick:Q,size:"14",color:"#333333"})):g("",!0)]),_:1},8,["modelValue","placeholder"])]),right:f(()=>[o("div",{onClick:s[1]||(s[1]=(...t)=>a(w)&&a(w)(...t))},p(e.$t("\u641C\u7D22")),1)]),_:1}),I.value.length>0?(l(),r("div",Te,[(l(!0),r(O,null,R(I.value,(t,y)=>(l(),r("div",{class:"result-list-item pt-2 pb-2",onClick:J=>se(t),key:y},p(t.name),9,Me))),128))])):g("",!0),m.value.length==0?(l(),r("div",je,[o("div",ze,[o("p",null,p(e.$t("\u5386\u53F2\u641C\u7D22")),1),fe(o("div",{class:"clear",onClick:q},[Pe,o("p",{onClick:X},p(e.$t("\u6E05\u7A7A")),1)],512),[[_e,a(u).length>0]])]),a(u).length>0?(l(),r("div",Ye,[(l(!0),r(O,null,R(a(u),(t,y)=>(l(),r("div",{key:y,class:"item",onClick:J=>$(t)},p(t),9,De))),128))])):g("",!0),a(u).length?g("",!0):(l(),V(ie,{key:1,image:a(F).href,description:a(k)("noData")},null,8,["image","description"]))])):g("",!0),m.value.length>0?(l(),r("div",Fe,[S(ce,{"loading-text":e.$t("\u52A0\u8F7D\u4E2D"),"loosing-text":e.$t("\u91CA\u653E\u4EE5\u5237\u65B0"),"pulling-text":e.$t("\u4E0B\u62C9\u4EE5\u5237\u65B0"),modelValue:h.value,"onUpdate:modelValue":s[4]||(s[4]=t=>h.value=t),onRefresh:W},{default:f(()=>[S(re,{ref_key:"checkEl",ref:U,loading:h.value,"onUpdate:loading":s[3]||(s[3]=t=>h.value=t),finished:N.value,"finished-text":e.$t("\u6CA1\u6709\u66F4\u591A\u4E86"),onLoad:B},{default:f(()=>[(l(!0),r(O,null,R(m.value,(t,y)=>(l(),r("div",{class:"item pl-3 pr-3 pb-3 pt-3 flex",onClick:J=>le(t),key:y},[o("div",qe,[o("div",Qe,[o("img",{class:"product-img",src:t.imgUrl1},null,8,$e)]),o("div",Xe,[o("div",We,p(t.name),1),o("div",Ze,[t.categoryName?(l(),r("span",es,p(t.categoryName),1)):g("",!0),d.value/1===1?(l(),r("span",ss,p(a(k)("sales"))+": "+p(t.soldNum),1)):g("",!0)]),o("div",ts,"$"+p(d.value/1===1?a(M)(t.sellingPrice):a(M)(t.systemPrice)),1)])]),o("div",os,[o("div",{class:"more",onClick:Le(J=>te(t),["stop"])},ns,8,as),d.value/1===1?(l(),V(i,{key:0,name:"arrow",size:"20px",style:{top:"50%",right:"0",position:"absolute","margin-top":"-10px"}})):g("",!0)])],8,Ke))),128))]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["loading-text","loosing-text","pulling-text","modelValue"])])):g("",!0),S(Ge,{isEdit:a(b),onUpdate:oe,productArry:a(G),onClose:ae},null,8,["isEdit","productArry"])],2)}}},Us=ue(is,[["__scopeId","data-v-d052b628"]]);export{Us as default};
