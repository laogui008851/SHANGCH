System.register(["./index-legacy-6ad9d2f3.js","./index-legacy-f9c0699e.js","./index-legacy-5618a598.js","./index-legacy-81046b99.js","./index-legacy-e24b168f.js","./index-legacy-de2c7a03.js","./use-id-legacy-5e608c80.js"],(function(e,a){"use strict";var l,t,d,s,o,n,r,c,u,i,p,v,b,g,h,f,x,w,m,y=document.createElement("style");return y.textContent=".changePassword[data-v-0dfbeb15]{width:100%;box-sizing:border-box;background-color:#fff;height:100vh}.line[data-v-0dfbeb15]{width:100%;height:2px;background:#F5F5F5}.content[data-v-0dfbeb15]{padding:16px;font-size:13px}.hightLight[data-v-0dfbeb15]{background:var(--site-main-color);color:#fff}.btn-content[data-v-0dfbeb15]{margin-top:10px;background-color:var(--site-main-color);border-color:var(--site-main-color)}\n",document.head.appendChild(y),{setters:[e=>{l=e._,t=e.v,d=e.r,s=e.q,o=e.c,n=e.b,r=e.w,c=e.a,u=e.A,i=e.T,p=e.cg,v=e.b9,b=e.o,g=e.e,h=e.t,f=e.J,x=e.K},()=>{},e=>{w=e.E},e=>{m=e.B},()=>{},()=>{},()=>{}],execute:function(){const a={class:"changePassword"},y=(e=>(f("data-v-0dfbeb15"),e=e(),x(),e))((()=>c("div",{class:"line"},null,-1))),T={class:"content"};e("default",l({__name:"index",setup(e){const{t:l}=t.exports.useI18n(),f=u(),x=d(!1),P=d(""),$=d(""),_=d(""),V=()=>{if(""!==P.value){if(""!==$.value)return!/^[A-Za-z0-9!@#$%^&*_()<>.?\/\\{}[\]|,~+:;']+$/.test($.value)||$.value.length<6||$.value.length>20?(i(l("setPasswordTips")),!1):void($.value===_.value?(x.value=!0,p({old_password:encodeURI(P.value),password:encodeURI($.value),re_password:encodeURI(_.value)}).then((e=>{i(l("changeSuccess")),x.value=!1,setTimeout((()=>{f.back()}),1e3)})).catch((e=>{x.value=!1}))):i(l("两次密码输入不一致")));i(l("请设置新密码"))}else i(l("请输入原密码"))};return s((()=>{["familyMart"].includes("production")&&f.back()})),(e,l)=>{const t=v,d=m;return b(),o("div",a,[n(t,null,{title:r((()=>[g(h(e.$t("changeLoginPassword")),1)])),_:1}),y,c("div",T,[n(w,{label:e.$t("oldPassword"),placeholderText:e.$t("entryPassword"),modelValue:P.value,"onUpdate:modelValue":l[0]||(l[0]=e=>P.value=e),typeText:"password"},null,8,["label","placeholderText","modelValue"]),n(w,{label:e.$t("newPassword"),placeholderText:e.$t("entryPassword"),tips:e.$t("setPasswordTips"),modelValue:$.value,"onUpdate:modelValue":l[1]||(l[1]=e=>$.value=e),typeText:"password"},null,8,["label","placeholderText","tips","modelValue"]),n(w,{label:e.$t("sureNewPassword"),placeholderText:e.$t("entryPassword"),tips:e.$t("setPasswordTips"),modelValue:_.value,"onUpdate:modelValue":l[2]||(l[2]=e=>_.value=e),typeText:"password"},null,8,["label","placeholderText","tips","modelValue"]),n(d,{class:"w-full btn-content",type:"primary",loading:x.value,onClick:V},{default:r((()=>[g(h(e.$t("sure")),1)])),_:1},8,["loading"])])])}}},[["__scopeId","data-v-0dfbeb15"]]))}}}));
