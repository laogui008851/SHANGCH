import{_ as V,v as k,ak as b,r as v,l as N,o as m,c as p,a as o,t as h,u as x,g as w,h as $,F as B,s as I,n as D,q as S,T as g,bY as T,b as L}from"./index-0001e040.js";import{c as C}from"./countryList-016fc82e.js";const j={class:"code-content"},F={class:"title"},H={class:"search-content"},O={class:"content"},U=["placeholder"],q={class:"scroll-content"},z={class:"countries-content"},A=["onClick"],E={class:"name"},M={__name:"CountryDialog",props:{modelValue:{type:Boolean,default:!1},countries:{type:Array,default:()=>[]}},emits:["update:modelValue","done"],setup(l,{emit:f}){const{t:c}=k.exports.useI18n(),u=f,y=l,{countries:d}=b(y),s=v(""),i=N(()=>{const n=d.value.filter(t=>{const e=s.value.toLowerCase();return t.countryName.toLowerCase().indexOf(e)>-1});return s.value?n:d.value}),a=()=>{u("update:modelValue",!1)},r=n=>{u("done",n),a()};return(n,t)=>(m(),p("div",{class:D([{active:l.modelValue},"area-code-dialog"])},[o("div",j,[o("div",F,h(x(c)("selectNation")),1),o("div",H,[o("div",O,[w(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),type:"text",placeholder:x(c)("entrynational")},null,8,U),[[$,s.value]])])]),o("div",q,[o("div",z,[(m(!0),p(B,null,I(i.value,e=>(m(),p("div",{key:e.code,class:"item",onClick:_=>r(e)},[o("div",E,h(e.countryName),1)],8,A))),128))])])]),o("div",{class:"code-bg",onClick:a})],2))}},R=V(M,[["__scopeId","data-v-884764c9"]]);const Y={__name:"index",props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(l,{emit:f}){const{t:c}=k.exports.useI18n(),u=f,y=l,{modelValue:d}=b(y),s=v([]),i=v(!1),a=v(!1),r=N(()=>{if(i.value){const t=s.value.find(e=>e.id===d.value);if(t)return t.countryName;for(const e in C)if(Number(C[e].dialCode)===Number(d.value))return C[e].name;return""}else return""}),n=t=>{u("update:modelValue",t.id),u("done",t)};return S(async()=>{g.loading({duration:0,message:c("loading"),forbidClick:!0}),await T().then(t=>{s.value=t.data||[],i.value=!0,g.clear()}).catch(()=>{g.clear()})}),(t,e)=>(m(),p("div",null,[L(R,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=_=>a.value=_),countries:s.value,onDone:n},null,8,["modelValue","countries"]),o("div",{class:D([{empty:!r.value,disabled:l.disabled},"input-item"]),onClick:e[1]||(e[1]=_=>a.value=!0)},h(r.value||x(c)("selectNation")),3)]))}},K=V(Y,[["__scopeId","data-v-b22f169a"]]);export{K as C};
