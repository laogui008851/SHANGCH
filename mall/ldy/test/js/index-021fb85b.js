import{d as ae,v as q,c as V,a as e,t as d,u as a,b as p,w as H,n as B,_ as ee,o as C,e as O,r as i,f as le,g as ne,h as re,T as N,i as ie,j as ce,k as ue,l as W,m as de,p as me,q as ve,I as ge,F as pe,s as fe,x as j,y as _e,z as he,A as we,B as ye,G as Ae,C as ke,D as be,E as oe}from"./index-0001e040.js";/* empty css              */import{l as Ce}from"./config-f57d91a6.js";import{l as se}from"./config-add3b033.js";import{I as K}from"./index-2df8db84.js";import{M as Se}from"./vue3-puzzle-vcode.es-62daefe3.js";import Ie from"./index-4a11314d.js";import{B as te}from"./index-3970dd75.js";import{n as Ue}from"./login.api-6b4c7cdd.js";import"./index-9e9f9536.js";import"./index-a602a0f8.js";import"./use-id-a8534a74.js";const Ve={class:"code-content"},Ne={class:"title"},Me={class:"scroll-content"},xe={class:"btn"},Te=ae({name:"AgreeDialog"}),$e=Object.assign(Te,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(R,{emit:S}){const{t:s}=q.exports.useI18n(),w=S,M=()=>{w("update:modelValue",!1)},y=()=>{w("done"),w("update:modelValue",!1)};return(f,I)=>{const D=te;return C(),V("div",{class:B([{active:R.modelValue},"area-code-dialog"])},[e("div",Ve,[e("div",Ne,d(a(s)("\u7528\u6237\u534F\u8BAE")),1),e("div",Me,[p(Ie)]),e("div",xe,[p(D,{type:"custom",size:"small",onClick:y},{default:H(()=>[O(d(a(s)("\u6211\u5DF2\u9605\u8BFB")),1)]),_:1})])]),e("div",{class:"code-bg",onClick:M})],2)}}}),Be=ee($e,[["__scopeId","data-v-0c8dba1a"]]);const Re={class:"code-content"},De={class:"title"},Le={class:"input-content"},Ee={class:"input"},Pe=["placeholder"],je=["width","height"],He=ae({name:"NumberCodeDialog"}),Oe=Object.assign(He,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(R,{emit:S}){const{t:s}=q.exports.useI18n(),w=S,M=R,y=i(""),f=i(""),I=i(180),D=i(240),A=i(100),b=i(35),Q=i(50),E=i(160),X=i(32),P=i(40),z=i(40),F=i(100),m=(t,l)=>Math.floor(Math.random()*(l-t)+t),x=(t,l)=>{let u=m(t,l),_=m(t,l),g=m(t,l);return"rgb("+u+","+_+","+g+")"},L=()=>{let l=document.getElementById("s-canvas").getContext("2d");l.textBaseline="bottom",l.fillStyle=x(I.value,D.value),l.fillRect(0,0,A.value,b.value);for(let u=0;u<f.value.length;u++)Y(l,f.value[u],u);v(l),U(l)},Y=(t,l,u)=>{t.fillStyle=x(Q.value,E.value),t.font=m(X.value,P.value)+"px SimHei";let _=(u+1)*(A.value/(f.value.length+1)),g=m(P.value,b.value-5);var $=m(-15,15);t.translate(_,g),t.rotate($*Math.PI/180),t.fillText(l,0,0),t.rotate(-$*Math.PI/180),t.translate(-_,-g)},v=t=>{for(let l=0;l<4;l++)t.strokeStyle=x(z.value,F.value),t.beginPath(),t.moveTo(m(0,A.value),m(0,b.value)),t.lineTo(m(0,A.value),m(0,b.value)),t.stroke()},U=t=>{for(let l=0;l<10;l++)t.fillStyle=x(0,100),t.beginPath(),t.arc(m(0,A.value),m(0,b.value),1,0,2*Math.PI),t.fill()},G=()=>{f.value="",T()},T=()=>{const t=[0,1,2,3,4,5,6,7,8,9];let l="";for(let u=0;u<4;u++){const _=Math.floor(Math.random()*t.length);l+=t[_]}f.value=l,L()};le(()=>M.modelValue,t=>{t?G():y.value=""});const n=()=>{w("update:modelValue",!1)},J=()=>{if(!y.value){N(s("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"));return}y.value===f.value?(w("done"),n()):N(s("\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E"))};return(t,l)=>{const u=te;return C(),V("div",{class:B([{active:R.modelValue},"number-code-dialog"])},[e("div",Re,[e("div",De,d(a(s)("entryVerifyCode")),1),e("div",Le,[e("div",Ee,[ne(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=_=>y.value=_),placeholder:a(s)("verificationCode")},null,8,Pe),[[re,y.value]])]),e("div",{onClick:T},[e("canvas",{id:"s-canvas",width:A.value,height:b.value},null,8,je)])]),p(u,{type:"custom",block:"",onClick:J},{default:H(()=>[O(d(a(s)("\u786E\u5B9A")),1)]),_:1})]),e("div",{class:"code-bg",onClick:n})],2)}}}),Qe=ee(Oe,[["__scopeId","data-v-bbc44981"]]);const Xe={class:"header-content"},ze=["src"],Fe=["src"],Ye={class:"logo-content"},Ge=["src"],Je={class:"type-tab"},Ze=["onClick"],We={class:"form-content"},Ke={key:0,class:"item"},qe={class:"title"},et={class:"input-content"},tt={key:1,class:"item"},ot={class:"title"},st={class:"input-content"},at={class:"item"},lt={class:"title"},nt={class:"input-content"},rt={class:"btn-group"},it={__name:"index",setup(R){const S=ie(),{t:s,locale:w}=q.exports.useI18n(),M=ce(),y=ue(),f=we(),I="production",D=i(new URL("/www/png/name-3ddd62dd.png",self.location)),A=W(()=>["familyMart"].includes(I)),b=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACVSURBVHgB7ZPJDYAgEEU/iQVYAiXYkhVoB8QKLMkStAO1Au1g/N5ckeXigZcMSxgehAlA4ncoEcnZG0aOSJRSZcZmpXTmvEYc5/2UthKOeTyCC53407/emYuaMXrI9lwNG0woGIuj0C47SGsHWQUfxF4kgxDkuUg9QpF7kUbnd7NIj0XSX/nZVwJ/0kBRs7s5npC4sgFBUms+k2q2aQAAAABJRU5ErkJggg==",self.location),Q=W(()=>{const c=w.value||"en";return Ce.find(h=>h.key===c).image}),E=W(()=>{const c=se.find(o=>(o.key==="mbuy"?"argos":o.key)===I);return c||se[0]}),X=new URL("/www/png/name-593a7e78.png",self.location),P=new URL("/www/png/name-ae6e9405.png",self.location),z=new URL("/www/png/name-8130147b.png",self.location),F=new URL("/www/png/name-dab02cab.png",self.location),m=new URL("/www/png/name-ca360226.png",self.location),x=[X.href,P.href,z.href,F.href,m.href],L=i(!1),Y=["email","phoneNum"],v=i(0),U=i(!1),G=localStorage.getItem("areaCode")?localStorage.getItem("areaCode"):44,T=i(G),n=de({username:"",password:""}),J=c=>{if(c!==v.value){v.value=c;const o=v.value==0?"storeUserName":"storeMobile",h=localStorage.getItem(o);n.username=h||"",n.password=""}},t=i(!1),l=()=>{const c=v.value===0?"entryEmail":"entryPhone";if(n.username=ye(n.username),n.username==="")return N(s(c)),!1;if(n.password==="")return N(s("entryPassword")),!1;if(n.password.length<6||n.password.length>20)return N(s("setPasswordTips")),!1;if(A.value&&!g.value)return N(`${s("\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F")}\u300A${s("\u7528\u6237\u534F\u8BAE")}\u300B`),!1;["hive","argos"].includes(I)?u():["tiktok-wholesale"].includes(I)?t.value=!0:L.value=!0},u=()=>{L.value=!1,U.value=!0,Ue({username:v.value==0?n.username:`${T.value} ${n.username}`,password:n.password}).then(async c=>{localStorage.removeItem("storeUserName"),localStorage.removeItem("storeMobile");const o=v.value==0?"storeUserName":"storeMobile";localStorage.setItem(o,n.username),localStorage.setItem("loginType",v.value),await M[Ae](c),await ke().then(k=>{k.id?localStorage.setItem("sellerId",k.id):localStorage.removeItem("sellerId")}).catch(()=>{U.value=!1}),U.value=!1,y.setShowNotic(!0),document.dispatchEvent(new CustomEvent("getMoneyInfoHandle")),be().setChatHandle(),N.success(s("loginSuc")),f.push("/shop")}).catch(c=>{U.value=!1,console.log(c)})},_=()=>{const{hostname:c,origin:o}=window.location,k=`${c==="localhost"?"https://www.catvg.xyz/promote/#/":`${o}/promote/#/`}?lang=${w.value}`;window.plus?window.plus.runtime.openURL(k):window.webkit?window.webkit.messageHandlers.openWindow.postMessage({url:k}):window.open(k)},g=i(!1),$=i(!1);return me(()=>{M.logout()}),ve(()=>{const c=localStorage.getItem("loginType");v.value=c?Number(c):0;const o=v.value==0?"storeUserName":"storeMobile",h=localStorage.getItem(o);n.username=h||""}),(c,o)=>{const h=ge,k=te;return C(),V("div",{style:he({"background-image":"url("+D.value.href+")"}),class:"login-register-content"},[p(Qe,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=r=>t.value=r),onDone:u},null,8,["modelValue"]),p(Be,{modelValue:$.value,"onUpdate:modelValue":o[1]||(o[1]=r=>$.value=r),onDone:o[2]||(o[2]=r=>g.value=!0)},null,8,["modelValue"]),p(a(Se),{successText:a(s)("vertifyPass"),failText:a(s)("vertifuFail"),sliderText:a(s)("vertifyTips"),imgs:x,show:L.value,onSuccess:u},null,8,["successText","failText","sliderText","show"]),e("div",Xe,[e("h2",null,d(a(s)("login")),1),e("div",{class:B(["language",{"is-ar":a(S)}]),onClick:o[3]||(o[3]=r=>a(f).push("/language"))},[e("img",{src:Q.value.href,alt:""},null,8,ze),e("img",{src:a(b).href,alt:""},null,8,Fe)],2)]),e("div",Ye,[e("img",{src:E.value.logo.href,alt:""},null,8,Ge),e("h2",null,d(E.value.name),1)]),e("div",Je,[(C(),V(pe,null,fe(Y,(r,Z)=>e("div",{key:Z,class:B([{active:Z===v.value},"item"]),onClick:ct=>J(Z)},d(a(s)(r)),11,Ze)),64))]),e("div",We,[v.value===0?(C(),V("div",Ke,[e("div",qe,d(a(s)("email")),1),e("div",et,[p(K,{modelValue:n.username,"onUpdate:modelValue":o[4]||(o[4]=r=>n.username=r),type:"text",placeholder:a(s)("entryEmail"),clear:""},null,8,["modelValue","placeholder"])])])):j("",!0),v.value===1?(C(),V("div",tt,[e("div",ot,d(a(s)("phoneNum")),1),e("div",st,[p(K,{modelValue:n.username,"onUpdate:modelValue":o[5]||(o[5]=r=>n.username=r),codeNum:T.value,"onUpdate:codeNum":o[6]||(o[6]=r=>T.value=r),type:"tel",placeholder:a(s)("entryPhone"),clear:"","area-code":""},null,8,["modelValue","codeNum","placeholder"])])])):j("",!0),e("div",at,[e("div",lt,d(a(s)("password")),1),e("div",nt,[p(K,{modelValue:n.password,"onUpdate:modelValue":o[7]||(o[7]=r=>n.password=r),type:"password",placeholder:a(s)("entryPassword"),clear:"","show-password":""},null,8,["modelValue","placeholder"])])]),e("div",{class:B(["link-content",{"is-ar":a(S)}])},[e("p",{onClick:o[8]||(o[8]=(...r)=>a(oe)&&a(oe)(...r)),class:"link"},d(a(s)("forgetPassword")),1)],2),A.value?(C(),V("div",{key:2,class:B(["agree-content",{"is-ar":a(S)}])},[e("div",{class:"check",onClick:o[9]||(o[9]=r=>g.value=!g.value)},[g.value?(C(),_e(h,{key:0,name:"success",size:12})):j("",!0)]),e("p",null,[e("span",{onClick:o[10]||(o[10]=r=>g.value=!g.value)},d(a(s)("\u6211\u5DF2\u9605\u8BFB\u5E76\u540C\u610F")),1),e("span",{class:"link",onClick:o[11]||(o[11]=r=>$.value=!0)},"\u300A"+d(a(s)("\u7528\u6237\u534F\u8BAE"))+"\u300B",1)])],2)):j("",!0),e("div",rt,[p(k,{class:"btn-login",loading:U.value,onClick:l},{default:H(()=>[O(d(a(s)("login")),1)]),_:1},8,["loading"]),p(k,{class:"btn-register",onClick:_},{default:H(()=>[O(d(a(s)("register")),1)]),_:1})])])],4)}}},kt=ee(it,[["__scopeId","data-v-55ac0d6c"]]);export{kt as default};
