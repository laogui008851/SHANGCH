System.register(["./index-legacy-6ad9d2f3.js","./index-legacy-7018d4bf.js","./index-legacy-4d4c31a5.js","./index-legacy-28ed8825.js","./index-legacy-e24b168f.js","./index-legacy-de2c7a03.js","./index-legacy-b4a6fd81.js","./search-icon-legacy-91a4d779.js","./more-legacy-4ed4bf86.js","./editProfit-legacy-de38385e.js","./product.api-legacy-b88dbf3e.js","./index-legacy-d00fdda2.js","./use-id-legacy-5e608c80.js","./index-legacy-f9c0699e.js","./index-legacy-6794d276.js","./index-legacy-02b13bb7.js","./index-legacy-ba1958e1.js","./index-legacy-59fd0b76.js","./function-call-legacy-ba0f9085.js","./index-legacy-81046b99.js","./index-legacy-7349cb56.js","./___vite-browser-external_commonjs-proxy-legacy-54bbe826.js"],(function(e,t){"use strict";var a,i,l,n,o,s,c,d,r,p,g,v,u,b,h,x,f,m,y,k,w,A,j,C,_,L,S,z,U,J,N,O,E,F,I,T,B,V,G,M,H,P,R,Y=document.createElement("style");return Y.textContent="[data-v-d052b628] .van-field__body{padding-right:10px}.search-container[data-v-d052b628]{padding-top:50px}.search-container.is-ar[data-v-d052b628] .van-field__left-icon{margin-right:0;margin-left:8px}.search-container.is-ar[data-v-d052b628] .van-search__content{padding-left:0;padding-right:12px}.search-container.is-ar[data-v-d052b628] .van-field__control{text-align:right}.search-container.is-ar .search-history>.title>.clear>img[data-v-d052b628]{margin-right:0;margin-left:5px}.search-container.is-ar .product-info[data-v-d052b628]{padding-left:0;padding-right:10px}.search-container[data-v-d052b628] .van-field__left-icon{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:16px;margin-right:8px}.search-container[data-v-d052b628] .van-field__left-icon>img{width:100%;height:auto}.search-container[data-v-d052b628] .van-nav-bar__left{padding-right:10px!important}.search-container[data-v-d052b628] .van-nav-bar__title{width:73.6%!important;max-width:73.6%!important;position:relative}.search-container[data-v-d052b628] .van-search{padding:0!important}.search-container[data-v-d052b628] .van-search .van-search__content{background-color:#fff}.search-container .search-btn[data-v-d052b628]{font-size:12px;color:#333}.search-container .search-history[data-v-d052b628]{padding:0 15px}.search-container .search-history>.title[data-v-d052b628]{padding:25px 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:14px;color:#000}.search-container .search-history>.title>.clear[data-v-d052b628]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.search-container .search-history>.title>.clear>img[data-v-d052b628]{width:14px;height:auto;margin-right:5px}.search-container .search-history>.title>.clear>p[data-v-d052b628]{font-size:14px;color:#333}.search-container .search-history>.content[data-v-d052b628]{overflow:hidden}.search-container .search-history>.content.no[data-v-d052b628]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:14px;color:#999}.search-container .search-history>.content>.item[data-v-d052b628]{float:left;padding:4px 15px;background-color:#fff;border-radius:5px;color:#999;font-size:12px;margin-right:14px;margin-bottom:22px}.search-container .search-tips-content>.item[data-v-d052b628]{padding:23px 15px;border-bottom:1px solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.search-container .search-tips-content>.item .van-icon[data-v-d052b628]{margin-right:5px}.search-container .search-tips-content>.item>p[data-v-d052b628]{color:#333;font-size:12px}.search-container .shop-list-content[data-v-d052b628]{padding:20px 15px}.search-container .shop-list-content>.tips[data-v-d052b628]{font-size:12px;color:#333}.search-container .shop-list-content>.tips>span[data-v-d052b628]{color:#f89900}[data-v-d052b628] .van-icon{font-size:18px;color:#1f2025}.delete-icon[data-v-d052b628]{width:15px}.list .item[data-v-d052b628]{background:#FFFFFF;border-radius:4px;margin-bottom:20px}.list .item .more-icon[data-v-d052b628]{width:20px}.list .item .product-img[data-v-d052b628]{width:100px}.list .item .left[data-v-d052b628]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list .item .left .product-info[data-v-d052b628]{padding-left:10px;-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1}.list .item .left .product-info .name[data-v-d052b628]{font-size:14px;color:#333;height:50px;font-weight:700;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.list .item .left .product-info .Specification[data-v-d052b628]{font-size:12px;color:#999}.list .item .left .product-info .money[data-v-d052b628]{color:var(--site-main-color);font-weight:700}.list .product-img-wrap[data-v-d052b628]{position:relative}.list .delete-wrap[data-v-d052b628]{padding:0 15px;background:rgba(0,0,0,.6);position:absolute;left:0;top:0;font-size:12px;color:#fff}.result-list[data-v-d052b628]{position:fixed;top:46px;left:0;width:100%;background:#fff;z-index:2;font-size:14px}.result-list .result-list-item[data-v-d052b628]{border-bottom:1px solid #EFF2F6}.item-more-content[data-v-d052b628]{width:40px;position:relative}.item-more-content>.more[data-v-d052b628]{width:40px;height:40px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding-top:5px}\n",document.head.appendChild(Y),{setters:[e=>{a=e._,i=e.i,l=e.v,n=e.r,o=e.b5,s=e.p,c=e.cw,d=e.I,r=e.b7,p=e.c,g=e.b,v=e.w,u=e.F,b=e.s,h=e.x,x=e.a,f=e.t,m=e.g,y=e.b1,k=e.u,w=e.y,A=e.n,j=e.A,C=e.ai,_=e.cx,L=e.T,S=e.o,z=e.b2,U=e.av,J=e.M,N=e.J,O=e.K,E=e.cy},e=>{F=e.P},e=>{I=e.L},e=>{T=e.E},()=>{},()=>{},e=>{B=e.S},e=>{V=e._},e=>{G=e._},e=>{M=e.e},e=>{H=e.h,P=e.g},e=>{R=e.c},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{}],execute:function(){const t=e=>(N("data-v-d052b628"),e=e(),O(),e),Y=t((()=>x("img",{class:"search-icon",src:V},null,-1))),K={key:0,class:"result-list pl-4 pr-4"},q=["onClick"],D={key:1,class:"search-history"},Q={class:"title"},X=t((()=>x("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAwCAYAAABqkJjhAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgB7Zk9btswFMefZHu0obGeqt7AtT14q3qC+gZtTpD4BE5u0Gzd7J6g6tipymbAH0lOEGXyGO2G7fwZUAmT6ItiqMAAf4BASnoE/6RIPurRIkU6nY6LxC1oHl0BUsCikvR6vSGSMa6OTLn9fh8iOVutVlMqQY1K0O12x5Zl/UL2A0mCcg6uYbvddtbr9T+SRLqHIfYHKpwIjyL02i1L88qi3EcShg/KjdDTP0mCMoJvULHLb/1ms3kUBEGu2Jh+v38KoWN+G223208Y1oXL2yQBm2CC2KjRaIxkxDIWi8UpPX0Np16vS80BKcH0/HNez2azkMrxN87sdjuXJJAV/O4cnOCHSYex6dm27eUZYxi4sPvOb0Pc/6YSYB58o6f122fDK68Mhg7zOb7FJlKtVruhAwAN/cqGhEMHAr6E8zAkmDMgYQVAS46JNwRG51TAKbwVqHssCDwTXoXMnSc6DjQg5F6J+MIeUkVgj7KP88vl8pU+s6zpxgjWjRGsmzopAk/J1mv2uxSkLX/8v8/LsimKcg/DrU/4dcnFv67Etv9zmz+kiLJgeKPPPOtQipsXNv1Sm/UkzKTTjRGsGyNYN0awboxg3RjBulEWjI1NkSBM9CItjbJgbB1H2LFdQPgoY697xGyYLSmivIGfz+fskMXLskF8wUfi0xtgJp1ujGDdJArGjL+L8zg0caki+N91TOISmNbDjxFxLEfHVBFCdJ/SovKJyxp6eIoCceEhwq8ThOxLHQ8UxIHYL6j3RHg2TTJMPVhEnJadUFbWuyLMySB47SW9S510WOxZa8+pevxWqzVMe5l7dDsYDNzNZnOCVisHQbLAcGBR/ylOSoMsu3tYs9QwhJVNvQAAAABJRU5ErkJggg==",alt:"",class:"delete-icon"},null,-1))),$={key:0,class:"content"},W=["onClick"],Z={key:2,class:"list ml-4 mr-4 mt-4 mb-4"},ee=["onClick"],te={class:"flex-1 flex left"},ae={class:"product-img-wrap w-20 h-20",style:{overflow:"hidden"}},ie=["src"],le={class:"product-info"},ne={class:"name"},oe={class:"Specification"},se={key:0,style:{"margin-right":"20px"}},ce={key:1},de={class:"money"},re={class:"item-more-content"},pe=["onClick"],ge=[t((()=>x("img",{class:"more-icon",src:G},null,-1)))],ve={__name:"index",setup(e){const t=i(),{t:a}=l.exports.useI18n(),N=j(),O=C(),V=n(O.query.id);let G=n(""),ve=n(1),ue=n(""),be=n(!1);n({});const he=n([]),xe=n([]),fe=n(!1),me=n(!1),ye=n(!1);let ke=n([]);const we=()=>{},Ae=new URL("/www/png/name-20d65991.png",self.location),je=n(null);o((()=>{je.value&&console.log(je.value)})),s((()=>{V.value/1==1?c("searchOne")&&(ke.value=c("searchOne")):c("searchTwo")&&(ke.value=c("searchTwo"))}));const Ce=E((()=>{G.value.trim()?(ve.value=1,he.value=[],L.loading({forbidClick:!0,loadingType:"spinner"}),Ee(),_e()):L({message:a("请输入搜索关键字"),duration:2e3})}),500),_e=()=>{const e=G.value.trim(),t=V.value/1==1?"searchOne":"searchTwo";if(""!=e)if(0==ke.value.length)ke.value.push(e),_(t,ke.value);else{const a=R(ke.value);a.unshift(e);const i=[...new Set(a)];ke.value=i,_(t,i)}},Le=()=>{V.value/1==1?_("searchOne",[]):_("searchTwo",[])},Se=()=>{G.value=""},ze=e=>{ke.value=[],V.value/1==1?_("searchOne",""):_("searchTwo","")},Ue=()=>{fe.value=!1,Ce()},Je=()=>{let e={pageNum:ve.value,pageSize:20,keyword:G.value};H(e).then((e=>{console.log(e),L.clear(),ve.value++;for(let t=0;t<e.pageList.length;t++)e.pageList[t].check=!1,he.value.push(e.pageList[t]);me.value=!1,e.pageList.length<20?(ve.value>1&&L(a("没有更多数据")),ye.value=!0):ve.value++}))},Ne=()=>{let e={name:G.value,categoryId:"",pageNum:ve.value,pageSize:20};P(e).then((e=>{L.clear(),console.log("商家自己的商品",e);for(let t=0;t<e.pageList.length;t++)he.value.push(e.pageList[t]);me.value=!1,e.pageList.length<20?(ve.value>1&&L(a("没有更多数据")),ye.value=!0):ve.value++}))},Oe=n(null);V.value/1==2?Oe.value=Ne:Oe.value=Je;const Ee=()=>{console.log(123),Oe.value()};let Fe=n([]);const Ie=(e,t)=>{e.sellingPrice=t},Te=()=>{be.value=!1};return(e,i)=>{const l=d,n=B,o=r,s=T,c=I,j=F;return S(),p("div",{class:A(["search-container",{"is-ar":k(t)}])},[g(o,{fixed:"","left-arrow":"",onClickLeft:i[2]||(i[2]=()=>e.$router.back())},{title:v((()=>[g(n,{modelValue:k(G),"onUpdate:modelValue":i[0]||(i[0]=e=>z(G)?G.value=e:G=e),shape:"round",clearable:!1,placeholder:e.$t("请输入商品"),onInput:we},{"left-icon":v((()=>[Y])),"right-icon":v((()=>[k(G)?(S(),w(l,{key:0,name:"cross",onClick:Se,size:"14",color:"#333333"})):h("",!0)])),_:1},8,["modelValue","placeholder"])])),right:v((()=>[x("div",{onClick:i[1]||(i[1]=(...e)=>k(Ce)&&k(Ce)(...e))},f(e.$t("搜索")),1)])),_:1}),xe.value.length>0?(S(),p("div",K,[(S(!0),p(u,null,b(xe.value,((e,t)=>(S(),p("div",{class:"result-list-item pt-2 pb-2",onClick:t=>(e=>{console.log("ssss",e),G.value="",xe.value=[],ue.value=e.goodsId,ve.value=1,he.value=[],Ee()})(e),key:t},f(e.name),9,q)))),128))])):h("",!0),0==he.value.length?(S(),p("div",D,[x("div",Q,[x("p",null,f(e.$t("历史搜索")),1),m(x("div",{class:"clear",onClick:Le},[X,x("p",{onClick:ze},f(e.$t("清空")),1)],512),[[y,k(ke).length>0]])]),k(ke).length>0?(S(),p("div",$,[(S(!0),p(u,null,b(k(ke),((e,t)=>(S(),p("div",{key:t,class:"item",onClick:t=>(e=>{G.value=e,Ce()})(e)},f(e),9,W)))),128))])):h("",!0),k(ke).length?h("",!0):(S(),w(s,{key:1,image:k(Ae).href,description:k(a)("noData")},null,8,["image","description"]))])):h("",!0),he.value.length>0?(S(),p("div",Z,[g(j,{"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新"),modelValue:me.value,"onUpdate:modelValue":i[4]||(i[4]=e=>me.value=e),onRefresh:Ue},{default:v((()=>[g(c,{ref_key:"checkEl",ref:je,loading:me.value,"onUpdate:loading":i[3]||(i[3]=e=>me.value=e),finished:ye.value,"finished-text":e.$t("没有更多了"),onLoad:Ee},{default:v((()=>[(S(!0),p(u,null,b(he.value,((e,t)=>(S(),p("div",{class:"item pl-3 pr-3 pb-3 pt-3 flex",onClick:t=>(e=>{V.value/1==1&&N.push({path:"/productPage/details",query:{item:JSON.stringify(e)}})})(e),key:t},[x("div",te,[x("div",ae,[x("img",{class:"product-img",src:e.imgUrl1},null,8,ie)]),x("div",le,[x("div",ne,f(e.name),1),x("div",oe,[e.categoryName?(S(),p("span",se,f(e.categoryName),1)):h("",!0),V.value/1==1?(S(),p("span",ce,f(k(a)("sales"))+": "+f(e.soldNum),1)):h("",!0)]),x("div",de,"$"+f(V.value/1==1?k(U)(e.sellingPrice):k(U)(e.systemPrice)),1)])]),x("div",re,[x("div",{class:"more",onClick:J((t=>(e=>{V.value/1==1?N.push({path:"/productPage/productEdit",query:{item:JSON.stringify(e)}}):(Fe.value=[],Fe.value.push(e.id),be.value=!0)})(e)),["stop"])},ge,8,pe),V.value/1==1?(S(),w(l,{key:0,name:"arrow",size:"20px",style:{top:"50%",right:"0",position:"absolute","margin-top":"-10px"}})):h("",!0)])],8,ee)))),128))])),_:1},8,["loading","finished","finished-text"])])),_:1},8,["loading-text","loosing-text","pulling-text","modelValue"])])):h("",!0),g(M,{isEdit:k(be),onUpdate:Ie,productArry:k(Fe),onClose:Te},null,8,["isEdit","productArry"])],2)}}};e("default",a(ve,[["__scopeId","data-v-d052b628"]]))}}}));
