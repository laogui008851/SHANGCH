import{_ as R,d as L,v as N,r as l,av as S,c,b as h,w as v,bj as D,b9 as I,o as d,e as b,t as s,F as w,s as T,a as t,x as y,y as k,J as P,K as V}from"./index-0001e040.js";import{P as B}from"./index-d2d7f06b.js";import{L as $}from"./index-a026024e.js";import{E as F}from"./index-1b41dac3.js";import"./use-id-a8534a74.js";const C=L({name:"ShopMarketingRecord",setup(){const{t:e}=N.exports.useI18n(),a=new URL("/www/png/name-20d65991.png",self.location),r=l([]),g=l(!1),i=l(!0),p=l(!1),n=l({pageNum:1,pageSize:10}),u=async()=>{const f={...n.value};await D(f).then(o=>{const m=o.pageList||[];r.value=n.value.pageNum===1?m:[...r.value,...m],n.value.pageNum++,i.value=!1,g.value=!1,p.value=o.pageInfo.lastPage}).catch(()=>{i.value=!1,p.value=!0})};return{empytImg:a,refreshing:g,loading:i,finished:p,listData:r,t:e,getListData:u,onRefresh:()=>{i.value=!0,n.value.pageNum=1,u()},numberStrFormat:S}}}),E=e=>(P("data-v-e10bfe1c"),e=e(),V(),e),U=E(()=>t("div",{style:{height:"46px"}},null,-1)),j={key:0,class:"list-content"},z={class:"info-item"},J={class:"info-item"},K={class:"info-item"},M={class:"info-item"},q={class:"info-item"},A={class:"price"};function G(e,a,r,g,i,p){const n=I,u=F,_=$,f=B;return d(),c("div",null,[h(n,{fixed:!0},{title:v(()=>[b(s(e.t("shopBuyRecord")),1)]),_:1}),U,h(f,{modelValue:e.refreshing,"onUpdate:modelValue":a[1]||(a[1]=o=>e.refreshing=o),"pulling-text":e.t("pullingText"),"loosing-text":e.t("loosingText"),"loading-text":e.t("loading"),onRefresh:e.onRefresh},{default:v(()=>[h(_,{loading:e.loading,"onUpdate:loading":a[0]||(a[0]=o=>e.loading=o),finished:e.finished,"loading-text":e.t("loading"),"finished-text":e.listData.length?e.t("product.3"):"",onLoad:e.getListData},{default:v(()=>[e.listData.length?(d(),c("div",j,[(d(!0),c(w,null,T(e.listData,(o,m)=>(d(),c("div",{key:m,class:"item"},[t("div",z,[t("p",null,s(e.t("shopRecordName")),1),t("div",null,s(o.name),1)]),t("div",J,[t("p",null,s(e.t("shopRecordStartTime")),1),t("div",null,s(o.startTime),1)]),t("div",K,[t("p",null,s(e.t("shopRecordStopTime")),1),t("div",null,s(o.stopTime),1)]),t("div",M,[t("p",null,s(e.t("shopRecordPayType")),1),t("div",null,s(e.t("shopRecordPayName")),1)]),t("div",q,[t("p",null,s(e.t("shopRecordPrice")),1),t("div",A,s("$"+e.numberStrFormat(o.prize)),1)])]))),128))])):y("",!0),!e.listData.length&&!e.loading?(d(),k(u,{key:1,image:e.empytImg.href,description:e.t("noData")},null,8,["image","description"])):y("",!0)]),_:1},8,["loading","finished","loading-text","finished-text","onLoad"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text","onRefresh"])])}const Y=R(C,[["render",G],["__scopeId","data-v-e10bfe1c"]]);export{Y as default};
