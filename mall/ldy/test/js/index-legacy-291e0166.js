System.register(["./index-legacy-6ad9d2f3.js","./index-legacy-f9c0699e.js","./index-legacy-e24b168f.js","./index-legacy-de2c7a03.js","./index-legacy-dacadccb.js","./upload.api-legacy-be780146.js","./index-legacy-81046b99.js","./use-id-legacy-5e608c80.js"],(function(e,t){"use strict";var a,o,l,n,r,i,s,d,c,m,f,g,p,u,h,v,b,A,x,y,w,k,C,R,I,F,V,j,L,U=document.createElement("style");return U.textContent=".form-content.is-ar[data-v-5420ef1d] .van-field__label{margin-right:0;margin-left:12px;text-align:right}.form-content.is-ar[data-v-5420ef1d] .van-field__control{text-align:right}.form-content>.item[data-v-5420ef1d]{background-color:#fff;border-bottom:1px solid #EFF2F6}.form-content>.item[data-v-5420ef1d]:last-child{border-bottom:none}.form-content>.item.avatar[data-v-5420ef1d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding:16px}.form-content>.item.avatar>.info[data-v-5420ef1d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.form-content>.item.avatar>.info>.avatar-img[data-v-5420ef1d]{width:48px;height:48px;border-radius:50%;overflow:hidden;margin-right:10px;position:relative}.form-content>.item.avatar>.info>.avatar-img.is-ar[data-v-5420ef1d]{margin-left:10px;margin-right:0}.form-content>.item.avatar>.info>.avatar-img>input[data-v-5420ef1d]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:2;opacity:0}.form-content>.item[data-v-5420ef1d] .van-field__label{color:#000}.remark-content[data-v-5420ef1d]{width:100%;background-color:#fff;margin:10px 0}.remark-content.is-ar[data-v-5420ef1d] .van-field__control{text-align:right}.remark-content>p[data-v-5420ef1d]{font-size:14px;color:#000;padding:16px 16px 0}.submit-btn[data-v-5420ef1d]{width:100%;padding:16px;margin-top:30px}.submit-btn[data-v-5420ef1d] .van-button--primary{background-color:var(--site-main-color);border-color:var(--site-main-color);border-radius:4px}.croper-content-modal[data-v-5420ef1d]{width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:99}.croper-content-modal[data-v-5420ef1d] .van-nav-bar .van-icon{font-size:18px;color:#1f2025}\n",document.head.appendChild(U),{setters:[e=>{a=e._,o=e.d,l=e.v,n=e.r,r=e.m,i=e.i,s=e.T,d=e.C,c=e.I,m=e.b7,f=e.c,g=e.b,p=e.w,u=e.a,h=e.t,v=e.n,b=e.x,A=e.b8,x=e.b9,y=e.aE,w=e.o,k=e.e,C=e.J,R=e.K},()=>{},()=>{},e=>{I=e.F},e=>{F=e.S,V=e.a},e=>{j=e.u},e=>{L=e.B},()=>{}],execute:function(){const t=o({name:"ShopBasicInfo",components:{VuePictureCropper:F},setup(){const{t:e}=l.exports.useI18n(),t=n({}),a=n(localStorage.getItem("sellerId")||""),o=r({name:"",contact:"",shopPhone:"",shopAddress:"",shopRemark:"",imInitMessage:""}),c=new URL("data:image/png;base64,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",self.location),m=i();s.loading({duration:0,message:e("loading"),forbidClick:!0}),d().then((e=>{t.value=e,o.name=e.name,o.contact=e.contact,o.shopPhone=e.shopPhone,o.shopAddress=e.shopAddress,o.shopRemark=e.shopRemark,o.imInitMessage=e.imInitMessage,s.clear()})).catch((()=>{s.clear()}));const f=n(!1),g=n(!1),p=n(null),u=n(""),h=r({dataURL:"",blobURL:"",file:""});return{isArLang:m,avatarDefault:c,storeInfo:t,storeForm:o,submitLoading:f,showBtn:a,t:e,submitHandle:async()=>{const a={...o};if(!h.file&&!t.value.avatar)return void s(`${e("请设置")}${e("storeLogo")}`);if(!a.name)return void s(`${e("请设置")}${e("storeName")}`);if(a.shopPhone&&!/^\d{3,}$/.test(a.shopPhone))return s(e("电话格式有误")),!1;f.value=!0;let l="";if(h.file)try{l=await j({file:h.file,moduleName:"shopAvatar"})}catch(n){return console.log(n),f.value=!1,!1}l&&(a.avatar=l),f.value=!0,A(a).then((()=>{f.value=!1,document.dispatchEvent(new CustomEvent("headerRefresh")),s.success(e("saveSuc"))})).catch((()=>{f.value=!1}))},uploadInput:p,pic:u,result:h,isShowModal:g,selectFile:function(e){u.value="",h.dataURL="",h.blobURL="",h.file="";const{files:t}=e.target;if(!t||!t.length)return;const a=t[0],o=new FileReader;o.readAsDataURL(a),o.onload=()=>{u.value=String(o.result),g.value=!0,p.value&&(p.value.value="")}},getResult:async function(){if(!V)return;const e=V.getDataURL(),t=await V.getBlob();if(!t)return;const a=await V.getFile();h.dataURL=e,h.blobURL=URL.createObjectURL(t),h.file=a,g.value=!1},croperBack:()=>{V&&(V.clear(),V.reset(),g.value=!1)}}}}),U=(e=>(C("data-v-5420ef1d"),e=e(),R(),e))((()=>u("div",{style:{height:"46px"}},null,-1))),S={class:"item avatar"},P={class:"info"},B=["src"],Q=["src"],z={class:"item"},H={class:"item"},N={class:"item"},Z={class:"item"},J={class:"item"},K={key:0,class:"croper-content-modal"},M={class:"submit-btn"};e("default",a(t,[["render",function(e,t,a,o,l,n){const r=x,i=c,s=I,d=m,A=y("VuePictureCropper"),C=L;return w(),f("div",null,[g(r,{fixed:!0},{title:p((()=>[k(h(e.t("basicInfo")),1)])),_:1}),U,u("div",{class:v(["form-content",{"is-ar":e.isArLang}])},[u("div",S,[u("p",null,h(e.t("storeLogo")),1),u("div",P,[u("div",{class:v(["avatar-img",{"is-ar":e.isArLang}])},[u("input",{ref:"uploadInput",type:"file",accept:"image/jpg, image/jpeg, image/png, image/gif",onChange:t[0]||(t[0]=(...t)=>e.selectFile&&e.selectFile(...t))},null,544),e.result.dataURL?(w(),f("img",{key:0,src:e.result.dataURL,alt:""},null,8,B)):(w(),f("img",{key:1,src:e.storeInfo?.avatar||e.avatarDefault.href,alt:""},null,8,Q))],2),g(i,{name:"arrow",color:"#999",size:"12"})])]),u("div",z,[g(s,{modelValue:e.storeForm.name,"onUpdate:modelValue":t[1]||(t[1]=t=>e.storeForm.name=t),type:"text",label:e.t("storeName"),"label-width":120,placeholder:e.t("pleaseEnter")+e.t("storeName")},null,8,["modelValue","label","placeholder"])]),u("div",H,[g(s,{modelValue:e.storeForm.contact,"onUpdate:modelValue":t[2]||(t[2]=t=>e.storeForm.contact=t),type:"text",label:e.t("contactPerson"),"label-width":120,placeholder:e.t("pleaseEnter")+e.t("contactPerson")},null,8,["modelValue","label","placeholder"])]),u("div",N,[g(s,{modelValue:e.storeForm.shopPhone,"onUpdate:modelValue":t[3]||(t[3]=t=>e.storeForm.shopPhone=t),type:"number",label:e.t("storePhone"),"label-width":120,placeholder:e.t("pleaseEnter")+e.t("storePhone")},null,8,["modelValue","label","placeholder"])]),u("div",Z,[g(s,{modelValue:e.storeForm.shopAddress,"onUpdate:modelValue":t[4]||(t[4]=t=>e.storeForm.shopAddress=t),type:"text",label:e.t("storeAddress"),"label-width":120,placeholder:e.t("pleaseEnter")+e.t("storeAddress")},null,8,["modelValue","label","placeholder"])])],2),u("div",{class:v(["remark-content",{"is-ar":e.isArLang}])},[u("p",null,h(e.t("storeProfile")),1),g(s,{modelValue:e.storeForm.shopRemark,"onUpdate:modelValue":t[5]||(t[5]=t=>e.storeForm.shopRemark=t),rows:"4",autosize:"",type:"textarea","label-width":0,label:"",placeholder:e.t("pleaseEnter")+e.t("storeProfile")},null,8,["modelValue","placeholder"])],2),u("div",{class:v(["form-content",{"is-ar":e.isArLang}])},[u("div",J,[g(s,{modelValue:e.storeForm.imInitMessage,"onUpdate:modelValue":t[6]||(t[6]=t=>e.storeForm.imInitMessage=t),type:"text",label:e.t("进店欢迎语"),"label-width":120,placeholder:e.t("pleaseEnter")+e.t("进店欢迎语")},null,8,["modelValue","label","placeholder"])])],2),e.isShowModal?(w(),f("div",K,[g(d,{title:e.t("selectPhotos"),"right-text":e.t("sure"),"left-arrow":"",fixed:"",onClickLeft:e.croperBack,onClickRight:e.getResult},null,8,["title","right-text","onClickLeft","onClickRight"]),g(A,{boxStyle:{width:"100%",height:"100%",backgroundColor:"#f8f8f8",margin:"auto"},img:e.pic,options:{viewMode:1,dragMode:"crop",aspectRatio:1}},null,8,["img"])])):b("",!0),u("div",M,[g(C,{loading:e.submitLoading,type:"primary",size:"large",disabled:!e.showBtn,onClick:e.submitHandle},{default:p((()=>[k(h(e.showBtn?e.t("save"):e.t("商家入驻尚未完成")),1)])),_:1},8,["loading","disabled","onClick"])])])}],["__scopeId","data-v-5420ef1d"]]))}}}));
