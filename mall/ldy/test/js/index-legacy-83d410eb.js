System.register(["./index-legacy-6ad9d2f3.js","./index-legacy-f9c0699e.js","./index-legacy-6eb0c40c.js","./index-legacy-5618a598.js","./login.api-legacy-15506a35.js","./nationalityList-legacy-2cdb3d6a.js","./index-legacy-2e00ff4a.js","./index-legacy-81046b99.js","./index-legacy-14c34f5a.js","./index-legacy-e24b168f.js","./index-legacy-de2c7a03.js","./use-id-legacy-5e608c80.js","./index-legacy-2009b2ec.js","./index-legacy-b4a6fd81.js","./countryList-legacy-94cb363f.js"],(function(e,a){"use strict";var l,t,i,o,u,n,s,r,d,c,v,p,g,x,y,b,h,m,f,A,w,k,C,V,j,E,B,S,$,I,T,U,z,F,_,H,N,R=document.createElement("style");return R.textContent=".bindVerify[data-v-918e5499]{width:100%;min-height:100vh;box-sizing:border-box}.content[data-v-918e5499]{font-size:12px;padding:0 16px}.iptbox[data-v-918e5499]{height:44px;margin-top:8px;padding:0 10px 0 20px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:3px}.iptbox input[data-v-918e5499]{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;height:100%;border:none}.iptbox input[data-v-918e5499]::-webkit-input-placeholder{color:#868c9a}.iptbox span[data-v-918e5499]{color:#1d91ff}.imgbox[data-v-918e5499]{border:1px solid #E5E7ED;padding:5px;width:182px;height:182px;box-sizing:border-box}.imgbox img[data-v-918e5499]{width:100%;height:100%}.code[data-v-918e5499]{font-size:15px;font-weight:300;line-height:18px;margin-top:22px;height:18px}.code img[data-v-918e5499]{width:14px;height:14px;margin-left:5px}.tips[data-v-918e5499]{margin-top:10px;color:#999}.copy[data-v-918e5499]{border-radius:4px;width:132px;height:40px;margin-top:16px;border:1px solid #E5E7ED;line-height:40px}.bottom[data-v-918e5499]{padding:20px 16px 7px}.bottom p[data-v-918e5499]{padding-bottom:13px}.van-password-input[data-v-918e5499]{margin:0}.van-password-input__security li[data-v-918e5499],[data-v-918e5499] .van-password-input__security li{background:#F5F5F5;width:50px;height:50px;color:#333}[data-v-918e5499] .van-button--primary{background-color:var(--site-main-color);border-color:var(--site-main-color);border-radius:4px}[data-v-918e5499] .inputBackground{background-color:#fff!important;border-radius:4px;border:1px solid #eee}\n",document.head.appendChild(R),{setters:[e=>{l=e._,t=e.v,i=e.r,o=e.j,u=e.p,n=e.cj,s=e.f,r=e.Z,d=e.c,c=e.b,v=e.w,p=e.a,g=e.t,x=e.g,y=e.h,b=e.e,h=e.F,m=e.x,f=e.u,A=e.ai,w=e.A,k=e.T,C=e.ck,V=e.cl,j=e.cm,E=e.b9,B=e.o,S=e.J,$=e.K},()=>{},e=>{I=e.P,T=e.N},e=>{U=e.E},e=>{z=e.a},e=>{F=e.n},e=>{_=e.u},e=>{H=e.B},e=>{N=e.I},()=>{},()=>{},()=>{},()=>{},()=>{},()=>{}],execute:function(){const a={class:"bindVerify h-full bg-white"},R={class:"content"},Z={key:0},q={style:{"margin-top":"22px"}},D={class:"label mt-2 textColor"},J={class:"iptbox inputBackground"},O=["placeholder"],P={style:{"margin-top":"22px"}},X={key:1},Y={class:"pl-30 pr-30 text-center flex flex-col items-center justify-center mt40"},G={class:"imgbox"},K={class:"code flex items-center justify-center textColor"},M={class:"tips"},W={class:"flex justify-between mt-6 mb-3"},Q={class:"flex items-center"},L=(e=>(S("data-v-918e5499"),e=e(),$(),e))((()=>p("div",{class:"mt-2"},null,-1))),ee={class:"mt-5 bottom tabBackground textColor"};e("default",l({__name:"index",setup(e){const l=A(),S=w(),{t:$}=t.exports.useI18n(),{toClipboard:ae}=_(),le=i(""),te=i(""),ie=i(""),oe=i(!1),ue=i(0),ne=i(""),se=i(""),re=i(""),de=i(!1),ce=i("");i(!0);const ve=i(""),pe=i(0),ge=i(null),xe=i(0),ye=i(""),be=o(),he=i(!1);u((()=>{console.log("ss"),me(),clearInterval(ge.value),ge.value=null}));const me=()=>{ue.value=l.query.type,ne.value=l.query.verifyCode||"",1==ue.value?(le.value=$("bindPhone"),oe.value=!0):2==ue.value?le.value=$("bindEmail"):3==ue.value&&(le.value=$("googleAuthenticatorEn"),Ve())},fe=async()=>{if(2!=ue.value||""!=te.value)if(2!=ue.value||/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(te.value))if(1!=ue.value||""!=te.value)if(1!=ue.value||/^[0-9]+$/.test(te.value)){if(xe.value>0)return!1;k.loading({mask:!0}),await C({target:1==ue.value?`${pe.value} ${te.value}`:te.value}),z({target:1==ue.value?`${pe.value} ${te.value}`:te.value}).then((e=>{k($("sendSuccess")),xe.value=30,ge.value=setInterval((()=>{xe.value>0?xe.value=xe.value-1:(xe.value=0,clearInterval(ge.value),ge.value=null)}),1e3)})).catch((()=>{k.clear()}))}else k($("请输入正确的手机号码"));else k($("entryPhone"));else k($("请输入正确的邮箱地址"));else k($("entryEmail"))},Ae=()=>{2!=ue.value||""!=te.value?1!=ue.value||""!=te.value?""!=ie.value?(he.value=!0,1==ue.value?Ce():2==ue.value?ke():3==ue.value&&je()):k($("请输入登录密码")):k($("entryPhone")):k($("entryEmail"))},we=async()=>{await be.getUserInfo(!0),k($("bindSuccess")),he.value=!1,setTimeout((()=>{l.query.reset?S.go(-2):S.back()}),1e3)},ke=()=>{V({target:te.value,email:te.value,verifcode:se.value,password:ie.value,verifyCode:ne.value}).then((e=>{we()})).catch((e=>{console.log(e),he.value=!1}))},Ce=()=>{V({target:`${pe.value} ${te.value}`,phone:`${pe.value} ${te.value}`,verifcode:se.value,password:ie.value,verifyCode:ne.value}).then((e=>{we()})).catch((e=>{console.log(e),he.value=!1}))},Ve=()=>{n({}).then((e=>{re.value=e.google_auth_secret,ve.value=e.google_auth_url,console.log(e)}))},je=()=>{j({secret:re.value,code:ce.value}).then((e=>{e.google_auth_bind?we():k(err||$("bindFailed"))}))},Ee=async()=>{try{await ae(re.value),k($("copySuccess"))}catch(e){console.error(e)}},Be=async()=>{ce.value=await navigator.clipboard.readText()},Se=(e,a,l)=>{ye.value=a,pe.value=l},$e=i(null),Ie=()=>{$e.value.open()};return s(ce,((e,a)=>{6===ce.value.length&&(de.value=!1)})),(e,l)=>{const t=E,i=r,o=I,u=T,n=H;return B(),d("div",a,[c(t,null,{title:v((()=>[b(g(le.value),1)])),_:1}),p("div",R,[1==ue.value||2==ue.value?(B(),d("div",Z,[p("div",q,[c(U,{label:2==ue.value?e.$t("email"):e.$t("phoneNum"),placeholderText:2==ue.value?e.$t("entryEmail"):e.$t("entryPhone"),modelValue:te.value,"onUpdate:modelValue":l[0]||(l[0]=e=>te.value=e),area:oe.value,onSelectArea:Ie,dialCode:pe.value,icon:ye.value},null,8,["label","placeholderText","modelValue","area","dialCode","icon"])]),p("p",D,g(e.$t("verificationCode")),1),p("div",J,[x(p("input",{class:"inputBackground textColor",type:"text",placeholder:e.$t("entryVerifyCode"),"onUpdate:modelValue":l[1]||(l[1]=e=>se.value=e)},null,8,O),[[y,se.value]]),3!=ue.value?(B(),d("span",{key:0,onClick:fe},[b(g(e.$t("sendVerifyCode")),1),xe.value?(B(),d(h,{key:0},[b(" ("+g(xe.value)+")s",1)],64)):m("",!0)])):m("",!0)]),p("div",P,[c(U,{label:e.$t("登录密码"),placeholderText:e.$t("请输入登录密码"),modelValue:ie.value,"onUpdate:modelValue":l[2]||(l[2]=e=>ie.value=e),typeText:"password",clearBtn:!1},null,8,["label","placeholderText","modelValue"])])])):m("",!0),3==ue.value?(B(),d("div",X,[p("div",Y,[p("div",G,[c(f(N),{src:ve.value},{loading:v((()=>[c(i,{type:"spinner",size:"20"})])),_:1},8,["src"])]),p("div",K,[b(g(re.value)+" ",1),p("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKzSURBVHgBvVZdbtpAEP5214G+VOUI9ATlBqEnKDlB4CVV1JeitJHSKIqjCJCaEsRDFYVUIj1BuEHICUJPUN+gPDY23unuEsjaQLDz00+yZHt29tud2Z35GFKi9vV7AYIXGHiOJHLg0pMS3t7nzX4Sf5Zk0OHRSdHhYp2AkvrM3TO0F8qwvYi80ep07yVsNE7ylHW6ICoiDQgDPwjX3J1NzyZTESnzRT714x/rlBHXC8iG6vFun1kwFDIZ8bvePP1ok41Nc9Bone2TJDdOov61QaPe7vaHgW0weWVOiXOmw563bcTYgBEV7tYSw+G305Jg7CLiRGgHYsV1q5UhlqB2dOoyzvYX2SOEOmfIiEt7lRSisru9cY4UqDVPygyiO88WzWFG7EdCIqmalsxMysXqItt0h+ZEqkRbhvOdrY0KUsI+IHMXM3khh5dsww0PD/DEZBFCVT3eTV717tzq3R16KrIooXXfJHCFFEhKpuGMHVT+pPU3DAZIgZu/JvyJUmAIRyPkhXVeiWf/IAXsErYMhsZxkNjhsTCEN3gRqSBEwWs8Ewzhbcka3v3kRTwTHOu9j3G/AxNsFU+EerNzobuHmZfQnx6VkOjndBShqJsuHglTm/UmSJVL9ejrNiXc+/S+Byusgouu2+rm8BioRmB9eQFf6UWKNyGsWp/5jPS7eCDqrbNWrBG09VmZ6Yf1486lDqm1jJ7vy2rSu+a63Vz2VdCKVR7vy9aGOfkzEsNnK2ssIh1YScmFy1qzU15GpvOefRlcx8l8Hr6dzjbPUZc6yGgjnjgrhz6BfoVSmvLHOfIMzhsViTJmFZ0hsxvBQtVm6mvIXTC2joeAWN8Xo0q86yzVpVoucMSUwP3w1NiD3a35SiGRENbQ+eFMlJRAeoOxCpuEb6h2o0joSlLYS6rA/xv+AZfLLFBKDLSAAAAAAElFTkSuQmCC",alt:"",onClick:Ve})]),p("p",M,g(e.$t("saveKeyTips")),1),p("div",{class:"copy textColor",onClick:Ee},g(e.$t("copy")),1)]),p("div",W,[p("div",null,g(e.$t("googleVerificationCode")),1),p("div",Q,[p("div",{class:"colorMain",onClick:l[3]||(l[3]=e=>ce.value="")},g(e.$t("clear")),1),p("div",{class:"colorMain ml-30",onClick:Be},g(e.$t("paste")),1)])]),c(o,{value:ce.value,gutter:16,focused:de.value,onFocus:l[4]||(l[4]=e=>de.value=!0),mask:!1},null,8,["value","focused"]),c(u,{modelValue:ce.value,"onUpdate:modelValue":l[5]||(l[5]=e=>ce.value=e),show:de.value,onBlur:l[6]||(l[6]=e=>de.value=!1)},null,8,["modelValue","show"]),L,p("div",ee,[p("p",null,g(e.$t("precautions")),1),p("p",null,g(e.$t("precautionsTips1")),1),p("p",null,g(e.$t("precautionsTips2")),1)])])):m("",!0),c(n,{class:"w-full",style:{"margin-top":"30px"},type:"primary",loading:he.value,onClick:Ae},{default:v((()=>[b(g(e.$t("confirm")),1)])),_:1},8,["loading"])]),c(F,{ref_key:"controlChildRef",ref:$e,title:e.$t("selectArea"),onGetName:Se},null,8,["title"])])}}},[["__scopeId","data-v-918e5499"]]))}}}));
