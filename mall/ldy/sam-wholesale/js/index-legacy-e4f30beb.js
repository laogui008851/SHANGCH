System.register(["./index-legacy-43705009.js"],(function(e,t){"use strict";var a,i,l,o,n,u,s,r,v,c,h,f,p,d,g,w,m,b,y,x,C,$,S,z,M;return{setters:[e=>{a=e.Q,i=e.a0,l=e.V,o=e.a8,n=e.d,u=e.r,s=e.p,r=e.aF,v=e.a9,c=e.m,h=e.ac,f=e.f,p=e.aW,d=e.aX,g=e.q,w=e.ax,m=e.aY,b=e.aZ,y=e.a_,x=e.b,C=e.a$,$=e.s,S=e.Y,z=e.b0,M=e.$}],execute:function(){const[t,R]=a("swipe"),T={loop:i,width:l,height:l,vertical:Boolean,autoplay:o(0),duration:o(500),touchable:i,lazyRender:Boolean,initialSwipe:o(0),indicatorColor:String,showIndicators:i,stopPropagation:i},Y=Symbol(t);var I=n({name:t,props:T,emits:["change"],setup(e,{emit:t,slots:a}){const i=u(),l=u(),o=s({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),n=r(),{children:M,linkChildren:T}=v.useChildren(Y),I=c((()=>M.length)),P=c((()=>o[e.vertical?"height":"width"])),X=c((()=>e.vertical?n.deltaY.value:n.deltaX.value)),O=c((()=>o.rect?(e.vertical?o.rect.height:o.rect.width)-P.value*I.value:0)),k=c((()=>Math.ceil(Math.abs(O.value)/P.value))),D=c((()=>I.value*P.value)),V=c((()=>(o.active+I.value)%I.value)),B=c((()=>{const t=e.vertical?"vertical":"horizontal";return n.direction.value===t})),E=c((()=>{const t={transitionDuration:`${o.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${o.offset}px)`};if(P.value){const a=e.vertical?"height":"width",i=e.vertical?"width":"height";t[a]=`${D.value}px`,t[i]=e[i]?`${e[i]}px`:""}return t})),W=(t,a=0)=>{let i=t*P.value;e.loop||(i=Math.min(i,-O.value));let l=a-i;return e.loop||(l=z(l,O.value,0)),l},j=({pace:a=0,offset:i=0,emitChange:l})=>{if(I.value<=1)return;const{active:n}=o,u=(t=>{const{active:a}=o;return t?e.loop?z(a+t,-1,I.value):z(a+t,0,k.value):a})(a),s=W(u,i);if(e.loop){if(M[0]&&s!==O.value){const e=s<O.value;M[0].setOffset(e?D.value:0)}if(M[I.value-1]&&0!==s){const e=s>0;M[I.value-1].setOffset(e?-D.value:0)}}o.active=u,o.offset=s,l&&u!==n&&t("change",V.value)},q=()=>{o.swiping=!0,o.active<=-1?j({pace:I.value}):o.active>=I.value&&j({pace:-I.value})},A=()=>{q(),n.reset(),v.doubleRaf((()=>{o.swiping=!1,j({pace:1,emitChange:!0})}))};let F;const H=()=>clearTimeout(F),L=()=>{H(),e.autoplay>0&&I.value>1&&(F=setTimeout((()=>{A(),L()}),+e.autoplay))},Q=(t=+e.initialSwipe)=>{if(!i.value)return;const a=()=>{var a,l;if(!C(i)){const t={width:i.value.offsetWidth,height:i.value.offsetHeight};o.rect=t,o.width=+(null!=(a=e.width)?a:t.width),o.height=+(null!=(l=e.height)?l:t.height)}I.value&&(t=Math.min(I.value-1,t)),o.active=t,o.swiping=!0,o.offset=W(t),M.forEach((e=>{e.setOffset(0)})),L()};C(i)?$().then(a):a()},Z=()=>Q(o.active);let _;const G=t=>{e.touchable&&(n.start(t),_=Date.now(),H(),q())},J=()=>{if(!e.touchable||!o.swiping)return;const t=Date.now()-_,a=X.value/t;if((Math.abs(a)>.25||Math.abs(X.value)>P.value/2)&&B.value){const t=e.vertical?n.offsetY.value:n.offsetX.value;let a=0;a=e.loop?t>0?X.value>0?-1:1:0:-Math[X.value>0?"ceil":"floor"](X.value/P.value),j({pace:a,emitChange:!0})}else X.value&&j({pace:0});o.swiping=!1,L()},K=(t,a)=>{const i=a===V.value,l=i?{backgroundColor:e.indicatorColor}:void 0;return x("i",{style:l,class:R("indicator",{active:i})},null)};return h({prev:()=>{q(),n.reset(),v.doubleRaf((()=>{o.swiping=!1,j({pace:-1,emitChange:!0})}))},next:A,state:o,resize:Z,swipeTo:(t,a={})=>{q(),n.reset(),v.doubleRaf((()=>{let i;i=e.loop&&t===I.value?0===o.active?0:t:t%I.value,a.immediate?v.doubleRaf((()=>{o.swiping=!1})):o.swiping=!1,j({pace:i-o.active,emitChange:!0})}))}}),T({size:P,props:e,count:I,activeIndicator:V}),f((()=>e.initialSwipe),(e=>Q(+e))),f(I,(()=>Q(o.active))),f((()=>e.autoplay),L),f([p,d],Z),f(v.usePageVisibility(),(e=>{"visible"===e?L():H()})),g(Q),w((()=>Q(o.active))),m((()=>Q(o.active))),b(H),y(H),v.useEventListener("touchmove",(t=>{e.touchable&&o.swiping&&(n.move(t),B.value)&&(!e.loop&&(0===o.active&&X.value>0||o.active===I.value-1&&X.value<0)||(S(t,e.stopPropagation),j({offset:X.value})))}),{target:l}),()=>{var t;return x("div",{ref:i,class:R()},[x("div",{ref:l,style:E.value,class:R("track",{vertical:e.vertical}),onTouchstartPassive:G,onTouchend:J,onTouchcancel:J},[null==(t=a.default)?void 0:t.call(a)]),a.indicator?a.indicator({active:V.value,total:I.value}):e.showIndicators&&I.value>1?x("div",{class:R("indicators",{vertical:e.vertical})},[Array(I.value).fill("").map(K)]):void 0])}}});e("a",M(I));const[P,X]=a("swipe-item");var O=n({name:P,setup(e,{slots:t}){let a;const i=s({offset:0,inited:!1,mounted:!1}),{parent:l,index:o}=v.useParent(Y);if(!l)return void console.error("[Vant] <SwipeItem> must be a child component of <Swipe>.");const n=c((()=>{const e={},{vertical:t}=l.props;return l.size.value&&(e[t?"height":"width"]=`${l.size.value}px`),i.offset&&(e.transform=`translate${t?"Y":"X"}(${i.offset}px)`),e})),u=c((()=>{const{loop:e,lazyRender:t}=l.props;if(!t||a)return!0;if(!i.mounted)return!1;const n=l.activeIndicator.value,u=l.count.value-1,s=0===n&&e?u:n-1,r=n===u&&e?0:n+1;return a=o.value===n||o.value===s||o.value===r,a}));return g((()=>{$((()=>{i.mounted=!0}))})),h({setOffset:e=>{i.offset=e}}),()=>{var e;return x("div",{class:X(),style:n.value},[u.value?null==(e=t.default)?void 0:e.call(t):null])}}});e("S",M(O))}}}));
