import{_ as K,d as T,i as Y,v as Q,ai as W,l as X,r as o,m as Z,ax as ee,q as se,I as te,c as r,a as s,b as p,w as P,u as l,b2 as oe,t as a,e as V,n as R,o as c,ay as ae,av as v,F as ne,x as le,y as u,M as ie,J as de,K as re}from"./index-19a98339.js";import{P as ce}from"./index-e22de449.js";import{L as ue}from"./index-5a56288c.js";import"./index-93160a1b.js";import"./index-0400f7f8.js";import{S as me}from"./index-603f22c5.js";import{_ as pe}from"./search-icon-8ae5f679.js";import{_ as ve}from"./more-f6d49895.js";import{s as _e,m as fe}from"./product.api-d023c191.js";import"./use-id-e7d8e724.js";import"./index-c4c1929d.js";import"./___vite-browser-external_commonjs-proxy-17162061.js";const k=_=>(de("data-v-690b902b"),_=_(),re(),_),ge={class:"product"},he=k(()=>s("img",{class:"search-icon",src:pe},null,-1)),ye={class:"flex ml-4 mr-4 product-header"},xe={key:0,class:"moeny icon"},Ie=["src"],Pe={key:1,class:"moeny"},ke={class:"title"},Se={class:"moeny"},be={class:"title"},Ce={class:"hot-title ml-4 mr-4 mt-4 mb-4"},Ne=["onClick"],$e={class:"flex-1 flex left"},Le={class:"product-img-wrap w-20 h-20"},we=["src"],Me={key:0,class:"take_off"},Ve={class:"product-info flex-1"},Re={class:"name-content"},Ge=["onClick"],De=k(()=>s("img",{class:"more-icon",src:ve},null,-1)),Ee=[De],Ue={class:"Specification"},qe={style:{"margin-left":"20px"}},Be={class:"money-content"},Fe={key:0,class:"dis"},Je=k(()=>s("div",{class:"safe-area-inset-bottom"},null,-1)),Oe=T({name:"ProductIndex"}),je=Object.assign(Oe,{setup(_){const G=Y();Q.exports.useI18n(),W();const m=X();let f=o("");o(!1);let g=o(1),S=o(0),b=o(0),x=o(0),D=o({});const d=o([]),I=o(!1),h=o(!1),C=o(!1),E="sam-wholesale",U=Z(()=>["int"].includes(E)),N=o(!0);ee(()=>{if(!N.value){sessionStorage.getItem("productReload")&&(sessionStorage.removeItem("productReload"),y(!0));const e=sessionStorage.getItem("currentProductId");if(e){const i=d.value.findIndex(n=>n.id===e);sessionStorage.getItem("productDelete")?(d.value.splice(i,1),x.value-=1,sessionStorage.removeItem("productDelete")):y(!0),sessionStorage.removeItem("currentProductId")}}});const y=e=>{e&&(g.value=1);let i={pageNum:g.value,pageSize:20};fe(i).then(n=>{N.value=!1,h.value&&(h.value=!1),S.value=n.evaluations,b.value=n.systemGoodsNum,x.value=n.sellerGoodsNum,e?d.value=n.pageList||[]:d.value=g.value===1?n.pageList:[...d.value,...n.pageList],C.value=d.value.length>=n.sellerGoodsNum,g.value++,I.value=!1})},$=()=>{y(!0)},q=()=>{m.push("/search?id=1")},B=()=>{m.push("/productPage/list")},F=()=>{m.push("/productPage/comment")},J=e=>{m.push({path:"/productPage/details",query:{item:JSON.stringify(e)}})},L=o(""),w=o("");_e().then(e=>{L.value=e.sysParaMin,w.value=e.sysParaMax});const O=e=>{e.sysParaMin=L.value,e.sysParaMax=w.value,m.push({path:"/productPage/productEdit",query:{item:JSON.stringify(e)}}),D.value=e};return se(()=>{document.addEventListener("langChange",()=>{$()})}),(e,i)=>{const n=me,M=te,j=ue,z=ce;return c(),r("div",ge,[s("div",{onClick:q},[p(n,{class:"search-wrap",disabled:"",modelValue:l(f),"onUpdate:modelValue":i[0]||(i[0]=t=>oe(f)?f.value=t:f=t),placeholder:e.$t("\u8BF7\u8F93\u5165\u641C\u7D22\u5546\u54C1\u540D\u79F0"),clearable:""},{"left-icon":P(t=>[he]),_:1},8,["modelValue","placeholder"])]),s("div",ye,[s("div",{class:"flex-1 text-center after",onClick:B},[U.value?(c(),r("div",xe,[s("img",{src:l(ae)("image/order/diamond.svg"),alt:""},null,8,Ie)])):(c(),r("div",Pe,a(l(v)(l(b),0)),1)),s("div",ke,[V(a(e.$t("\u5546\u54C1\u5E93")),1),p(M,{name:"arrow"})])]),s("div",{class:"flex-1 text-center",onClick:F},[s("div",Se,a(l(S)),1),s("div",be,[V(a(e.$t("\u8BC4\u8BBA")),1),p(M,{name:"arrow"})])])]),s("div",Ce,a(e.$t("\u5E97\u94FA\u4EA7\u54C1"))+"("+a(l(v)(l(x),0))+") ",1),s("div",{class:R(["list ml-4 mr-4 mt-4 mb-4 list-content",{"is-ar":l(G)}])},[p(z,{modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=t=>h.value=t),onRefresh:$,"loading-text":e.$t("\u52A0\u8F7D\u4E2D"),"loosing-text":e.$t("\u91CA\u653E\u4EE5\u5237\u65B0"),"pulling-text":e.$t("\u4E0B\u62C9\u4EE5\u5237\u65B0")},{default:P(()=>[p(j,{ref:"vanList",loading:I.value,"onUpdate:loading":i[1]||(i[1]=t=>I.value=t),"loading-text":e.$t("\u52A0\u8F7D\u4E2D"),finished:C.value,"finished-text":e.$t("noMore"),onLoad:y},{default:P(()=>[(c(!0),r(ne,null,le(d.value,(t,A)=>(c(),r("div",{class:R(["item pl-3 pr-3 pb-3 pt-3 flex",{"goods-removed":t.isShelf/1===0}]),onClick:H=>J(t),key:A},[s("div",$e,[s("div",Le,[s("img",{class:"product-img",src:t.imgUrl1},null,8,we),t.isShelf/1===0?(c(),r("div",Me,a(e.$t("\u5DF2\u4E0B\u67B6")),1)):u("v-if",!0),u('                <div class="delete-wrap" @click.stop="deleteGood(item)">'),u("                  {{ $t('\u5220\u9664') }}"),u("                </div>")]),s("div",Ve,[s("div",Re,[s("p",null,a(t.name),1),s("div",{class:"more",onClick:ie(H=>O(t),["stop"])},[...Ee],8,Ge)]),u(' <div class="name">{{ item.name }}</div> '),s("div",Ue,[s("span",null,a(t.categoryName),1),s("span",qe,a(e.$t("\u9500\u91CF"))+": "+a(l(v)(t.soldNum,0)),1)]),s("div",Be,[s("p",null,"$"+a(l(v)(t.sellingPrice)),1),t.discountPrice?(c(),r("p",Fe,a(e.$t("\u6298\u6263\u4EF7"))+" $"+a(l(v)(t.discountPrice)),1)):u("v-if",!0)])])]),u(` <div>
              <img
                class="more-icon"
                @click.stop="openEdit(item)"
                src="@/assets/imgs/product/more.png"
              />
            </div> `)],10,Ne))),128))]),_:1},8,["loading","loading-text","finished","finished-text"])]),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"]),Je],2)])}}}),ts=K(je,[["__scopeId","data-v-690b902b"],["__file","C:/Users/DIY/Desktop/\u6E90\u7801/H5-\u5546\u5BB6/src/views/product/index.vue"]]);export{ts as default};
