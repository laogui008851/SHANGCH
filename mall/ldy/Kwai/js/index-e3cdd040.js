import{_ as J,d as K,i as Y,v as F,r as i,m as q,s as G,bb as Q,av as W,c as v,b as E,w as T,T as D,bc as X,bd as S,b8 as x,o as d,e as R,t as s,a as o,F as O,x as j,n as ee,z as U,y as $,be as ae,bf as t,J as te,K as oe}from"./index-9e7fbb1d.js";import{P as se}from"./index-5840608a.js";import{L as ne}from"./index-53b4a0f7.js";import{E as re}from"./index-3792a3b0.js";import{T as le,a as ie}from"./index-e4a308e8.js";/* empty css              */import"./index-cc95e9e3.js";import{F as pe}from"./index-5f41b23e.js";/* empty css              */import{u as ue}from"./index-1f47ca11.js";import{t as B,p as de}from"./config-0489190f.js";import{B as _e}from"./index-1c6dc4f5.js";import"./use-id-05ee12a9.js";import"./index-c3a65373.js";import"./use-refs-908aec9d.js";const me=K({name:"shopPromotion",setup(){const e=Y(),{t:p}=F.exports.useI18n(),k=new URL("/www/png/name-20d65991.png",self.location),g=i([...de]),{toClipboard:w}=ue(),C=async n=>{try{await w(n),D(p("copySuccess"))}catch(r){console.error(r)}},b=i(0),I=q(()=>B[b.value].key),c=i([]),L=i(!1),h=i(!0),f=i(!1),_=i({pageNo:1,pageSize:10}),V=async n=>{const r=[];for(let l=0;l<n.length;l++){const u={...n[l]};if(isNaN(Number(n[l].avatar)))u.avatarImg=n[l].avatar,r.push(u);else{const M=n[l].avatar||"d";await ae(Object.assign({"../../../assets/image/avatar/head_0.jpg":()=>t(()=>import("./head_0-13bc653d.js"),[]),"../../../assets/image/avatar/head_1.jpg":()=>t(()=>import("./head_1-22d9944e.js"),[]),"../../../assets/image/avatar/head_10.jpg":()=>t(()=>import("./head_10-368e0071.js"),[]),"../../../assets/image/avatar/head_11.jpg":()=>t(()=>import("./head_11-a274e2c3.js"),[]),"../../../assets/image/avatar/head_12.jpg":()=>t(()=>import("./head_12-e917044c.js"),[]),"../../../assets/image/avatar/head_13.jpg":()=>t(()=>import("./head_13-c5a043d7.js"),[]),"../../../assets/image/avatar/head_14.jpg":()=>t(()=>import("./head_14-8367209e.js"),[]),"../../../assets/image/avatar/head_15.jpg":()=>t(()=>import("./head_15-abcc6ff5.js"),[]),"../../../assets/image/avatar/head_16.jpg":()=>t(()=>import("./head_16-22218ac0.js"),[]),"../../../assets/image/avatar/head_17.jpg":()=>t(()=>import("./head_17-b669c555.js"),[]),"../../../assets/image/avatar/head_18.jpg":()=>t(()=>import("./head_18-61399948.js"),[]),"../../../assets/image/avatar/head_19.jpg":()=>t(()=>import("./head_19-37e10b27.js"),[]),"../../../assets/image/avatar/head_2.jpg":()=>t(()=>import("./head_2-fe990859.js"),[]),"../../../assets/image/avatar/head_20.jpg":()=>t(()=>import("./head_20-ccc6700e.js"),[]),"../../../assets/image/avatar/head_3.jpg":()=>t(()=>import("./head_3-7add788f.js"),[]),"../../../assets/image/avatar/head_4.jpg":()=>t(()=>import("./head_4-5f4b5902.js"),[]),"../../../assets/image/avatar/head_5.jpg":()=>t(()=>import("./head_5-35ab6dbe.js"),[]),"../../../assets/image/avatar/head_6.jpg":()=>t(()=>import("./head_6-c9e5a862.js"),[]),"../../../assets/image/avatar/head_7.jpg":()=>t(()=>import("./head_7-950f62ed.js"),[]),"../../../assets/image/avatar/head_8.jpg":()=>t(()=>import("./head_8-1b07024a.js"),[]),"../../../assets/image/avatar/head_9.jpg":()=>t(()=>import("./head_9-65895fab.js"),[]),"../../../assets/image/avatar/head_d.jpg":()=>t(()=>import("./head_d-c93fb7eb.js"),[])}),`../../../assets/image/avatar/head_${M}.jpg`).then(Z=>{u.avatarImg=Z.default,r.push(u)})}}return r},a=async()=>{const n={..._.value,level:I.value};await X(n).then(async r=>{const l=r.pageList||[];console.log(l);const u=await V(l);console.log(u),c.value=_.value.pageNo===1?u:[...c.value,...u],h.value=!1,L.value=!1,f.value=u.length<_.value.pageSize,_.value.pageNo++}).catch(()=>{L.value=!1,h.value=!1,f.value=!0}),S().then(r=>{const l=window.location.hostname;g.value[0].value=`https://${l}/promote?usercode=${r.code}&lang=${y.value}`,g.value[1].value=r.code||"",A.value=Number((Number(r.promoRate1)*100).toFixed(2)),P.value=Number((Number(r.promoRate2)*100).toFixed(2)),N.value=Number((Number(r.promoRate3)*100).toFixed(2)),D.clear()}).catch(()=>{D.clear()})},m=()=>{h.value=!0,_.value.pageNo=1,a()},H=()=>{c.value=[],f.value=!1,m()},{locale:y}=F.exports.useI18n(),z=i(y.value),A=i(0),P=i(0),N=i(0);return G(()=>{D.loading({duration:0,message:p("loading"),forbidClick:!0}),S().then(n=>{g.value[0].value=`https://${uuu}/promote?usercode=${n.code}&lang=${y.value}`,g.value[1].value=n.code||"",A.value=Number((Number(n.promoRate1)*100).toFixed(2)),P.value=Number((Number(n.promoRate2)*100).toFixed(2)),N.value=Number((Number(n.promoRate3)*100).toFixed(2)),D.clear()}).catch(()=>{D.clear()})}),{promotionDataRef:g,navActive:b,teamNav:B,refreshing:L,loading:h,finished:f,listData:c,empytImg:k,lang:z,t:p,formatZoneDate:Q,levelOne:A,levelTwo:P,levelThree:N,isArLang:e,copyHandle:C,navChange:H,getLevelData:a,onRefresh:m,numberStrFormat:W}}}),ve=e=>(te("data-v-18227136"),e=e(),oe(),e),ge={class:"shop-promotion"},ce=ve(()=>o("div",{style:{height:"46px"}},null,-1)),he={class:"promotion-info"},fe={class:"intro-content"},Ee=["innerHTML"],Te={class:"team-content"},De={key:0,class:"list-content"},Le={class:"avatar"},Re=["src"],be={class:"info"},Ie={class:"name"},Ve={class:"rebate"};function ye(e,p,k,g,w,C){const b=x,I=_e,c=pe,L=le,h=ie,f=re,_=ne,V=se;return d(),v("div",ge,[E(b,{fixed:!0},{title:T(()=>[R(s(e.t("shopPromotion")),1)]),_:1}),ce,E(V,{modelValue:e.refreshing,"onUpdate:modelValue":p[2]||(p[2]=a=>e.refreshing=a),"pulling-text":e.t("pullingText"),"loosing-text":e.t("loosingText"),"loading-text":e.t("loading"),onRefresh:e.onRefresh},{default:T(()=>[E(_,{loading:e.loading,"onUpdate:loading":p[1]||(p[1]=a=>e.loading=a),finished:e.finished,"loading-text":e.t("loading"),"finished-text":e.listData.length?e.t("product.3"):"",onLoad:e.getLevelData},{default:T(()=>[o("div",he,[(d(!0),v(O,null,j(e.promotionDataRef,a=>(d(),v("div",{key:a.key,class:ee(["item",{"is-ar":e.isArLang}])},[o("p",null,s(e.t(a.title)),1),E(c,{modelValue:a.value,"onUpdate:modelValue":m=>a.value=m,center:"",label:"",placeholder:""},{button:T(()=>[E(I,{onClick:m=>e.copyHandle(a.value),size:"small",type:"primary"},{default:T(()=>[R(s(e.t("copy")),1)]),_:2},1032,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue"])],2))),128))]),o("div",fe,[o("p",{innerHTML:e.t("promotionIntro",{level1:e.levelOne,level2:e.levelTwo,level3:e.levelThree})},null,8,Ee),o("p",null,s(e.t("\u4EE5\u4E0B\u662F\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF1A")),1),o("p",null,[R(s(e.t("\u4E00\u7EA7"))+" "+s(e.t("\u597D\u53CB\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF1A\u4F63\u91D1 = \u5546\u54C1\u9500\u552E\u5229\u6DA6 x")),1),o("span",null,s(e.levelOne)+"%",1)]),o("p",null,[R(s(e.t("\u4E8C\u7EA7"))+" "+s(e.t("\u597D\u53CB\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF1A\u4F63\u91D1 = \u5546\u54C1\u9500\u552E\u5229\u6DA6 x")),1),o("span",null,s(e.levelTwo)+"%",1)]),o("p",null,[R(s(e.t("\u4E09\u7EA7"))+" "+s(e.t("\u597D\u53CB\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF1A\u4F63\u91D1 = \u5546\u54C1\u9500\u552E\u5229\u6DA6 x")),1),o("span",null,s(e.levelThree)+"%",1)]),o("p",null,s(e.t("\u6211\u4EEC\u63D0\u4F9B\u8BE6\u7EC6\u7684\u5206\u6210\u8BA1\u7B97\u516C\u5F0F\uFF0C\u4EE5\u4FBF\u60A8\u6E05\u6670\u4E86\u89E3\u4F63\u91D1\u7684\u8BA1\u7B97\u65B9\u5F0F\u3002\u6211\u4EEC\u9F13\u52B1\u60A8\u4E86\u89E3\u5E73\u53F0\u7684\u9080\u8BF7\u5236\u5EA6\u89C4\u5219\uFF0C\u4EE5\u4FBF\u66F4\u597D\u5730\u7BA1\u7406\u548C\u89C4\u5212\u60A8\u7684\u4F63\u91D1\u6536\u5165\u3002\u6211\u4EEC\u611F\u8C22\u60A8\u7684\u53C2\u4E0E\uFF0C\u5E76\u671F\u5F85\u4E0E\u60A8\u5171\u540C\u53D1\u5C55\u3002")),1)]),o("div",Te,[E(h,{active:e.navActive,"onUpdate:active":p[0]||(p[0]=a=>e.navActive=a),"title-inactive-color":"#999999",onChange:e.navChange},{default:T(()=>[(d(!0),v(O,null,j(e.teamNav,a=>(d(),U(L,{key:a.key,title:e.t(a.title)},null,8,["title"]))),128))]),_:1},8,["active","onChange"]),e.listData.length?(d(),v("div",De,[(d(!0),v(O,null,j(e.listData,(a,m)=>(d(),v("div",{key:m,class:"item"},[o("div",Le,[o("img",{src:a.avatarImg,alt:""},null,8,Re)]),o("div",be,[o("p",Ie,s(a.name),1),o("p",Ve,s(`${e.t("shopRebate")}\uFF1A$${e.numberStrFormat(a.income||0)}`),1),o("div",null,[$(" <p>{{ `${(t('shopCountOrder'))}\uFF1A${item.orderCount}`}}</p> "),o("p",null,s(`${e.t("storeName")}\uFF1A${a.username}`),1),o("p",null,s(`${e.t("shopRegTime")}\uFF1A${e.formatZoneDate(a.regTime)}`),1)])])]))),128))])):$("v-if",!0),!e.listData.length&&!e.loading?(d(),U(f,{key:1,image:e.empytImg.href,description:e.t("noData")},null,8,["image","description"])):$("v-if",!0)])]),_:1},8,["loading","finished","loading-text","finished-text","onLoad"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text","onRefresh"])])}const Me=J(me,[["render",ye],["__scopeId","data-v-18227136"],["__file","C:/Users/DIY/Desktop/\u6E90\u7801/H5-\u5546\u5BB6/src/views/shop/promotion/index.vue"]]);export{Me as default};
