System.register(["./index-legacy-48337caa.js"],(function(e,t){"use strict";var a,s,n,r,i,l,o,u,d,c,h,p,v,f,g,m=document.createElement("style");return m.textContent=":root{--van-pull-refresh-head-height: 50px;--van-pull-refresh-head-font-size: var(--van-font-size-md);--van-pull-refresh-head-text-color: var(--van-text-color-2);--van-pull-refresh-loading-icon-size: 16px }.van-pull-refresh{overflow:hidden}.van-pull-refresh__track{position:relative;height:100%;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.van-pull-refresh__head{position:absolute;left:0;width:100%;height:var(--van-pull-refresh-head-height);overflow:hidden;color:var(--van-pull-refresh-head-text-color);font-size:var(--van-pull-refresh-head-font-size);line-height:var(--van-pull-refresh-head-height);text-align:center;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.van-pull-refresh__loading .van-loading__spinner{width:var(--van-pull-refresh-loading-icon-size);height:var(--van-pull-refresh-loading-icon-size)}\n",document.head.appendChild(m),{setters:[e=>{a=e.Q,s=e.a8,n=e.V,r=e.d,i=e.r,l=e.a9,o=e.p,u=e.aF,d=e.f,c=e.b,h=e.Z,p=e.Y,v=e.s,f=e.aG,g=e.$}],execute:function(){const[t,m,x]=a("pull-refresh"),T=["pulling","loosing","success"],b={disabled:Boolean,modelValue:Boolean,headHeight:s(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:n,successDuration:s(500),animationDuration:s(300)};var w=r({name:t,props:b,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:a}){let s;const n=i(),r=i(),g=l.useScrollParent(n),b=o({status:"normal",distance:0,duration:0}),w=u(),y=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},D=()=>"loading"!==b.status&&"success"!==b.status&&!e.disabled,_=(a,s)=>{const n=+(e.pullDistance||e.headHeight);b.distance=a,b.status=s?"loading":0===a?"normal":a<n?"pulling":"loosing",t("change",{status:b.status,distance:a})},k=()=>{const{status:t}=b;return"normal"===t?"":e[`${t}Text`]||x(t)},z=()=>{const{status:e,distance:t}=b;if(a[e])return a[e]({distance:t});const s=[];return T.includes(e)&&s.push(c("div",{class:m("text")},[k()])),"loading"===e&&s.push(c(h,{class:m("loading")},{default:k})),s},H=e=>{s=0===f(g.value),s&&(b.duration=0,w.start(e))},S=e=>{D()&&H(e)},V=()=>{s&&w.deltaY.value&&D()&&(b.duration=+e.animationDuration,"loosing"===b.status?(_(+e.headHeight,!0),t("update:modelValue",!0),v((()=>t("refresh")))):_(0))};return d((()=>e.modelValue),(t=>{b.duration=+e.animationDuration,t?_(+e.headHeight,!0):a.success||e.successText?(b.status="success",setTimeout((()=>{_(0)}),+e.successDuration)):_(0,!1)})),l.useEventListener("touchmove",(t=>{if(D()){s||H(t);const{deltaY:a}=w;w.move(t),s&&a.value>=0&&w.isVertical()&&(p(t),_((t=>{const a=+(e.pullDistance||e.headHeight);return t>a&&(t=t<2*a?a+(t-a)/2:1.5*a+(t-2*a)/4),Math.round(t)})(a.value)))}}),{target:r}),()=>{var e;const t={transitionDuration:`${b.duration}ms`,transform:b.distance?`translate3d(0,${b.distance}px, 0)`:""};return c("div",{ref:n,class:m()},[c("div",{ref:r,class:m("track"),style:t,onTouchstartPassive:S,onTouchend:V,onTouchcancel:V},[c("div",{class:m("head"),style:y()},[z()]),null==(e=a.default)?void 0:e.call(a)])])}}});e("P",g(w))}}}));
