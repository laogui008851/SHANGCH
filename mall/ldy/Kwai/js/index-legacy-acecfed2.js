System.register(["./index-legacy-48337caa.js","./index-legacy-f9c0699e.js","./index-legacy-a71e279b.js","./index-legacy-e8130f00.js","./login.api-legacy-34950bf2.js","./index-legacy-d9f815eb.js","./use-id-legacy-aaee2b1d.js"],(function(e,t){"use strict";var n,a,i,o,l,d,c,r,s,f,u,v,b,p,g,x,y,m,h,k,w,j,C,I,_,q,V,z,S,T,D=document.createElement("style");return D.textContent=".verify-content[data-v-815bbfd7]{min-height:100vh;background-color:#fff}.info-content[data-v-815bbfd7]{padding:0 20px;color:#333}.info-content>.info-item[data-v-815bbfd7]{margin-top:30px}.info-content>.info-item[data-v-815bbfd7]:last-child{margin-top:20px}.info-content>.info-item>.gap[data-v-815bbfd7]{margin-bottom:10px}.info-content>.info-item h2[data-v-815bbfd7]{font-size:20px;font-weight:700}.info-content>.info-item p[data-v-815bbfd7]{font-size:14px}.info-content .code-content[data-v-815bbfd7]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:35px}.info-content .code-content.is-ar[data-v-815bbfd7] .van-field__control{text-align:right}.info-content .code-content .van-cell[data-v-815bbfd7]{width:185px;height:44px;border:1px solid #ddd;border-radius:4px}.info-content .code-content .van-cell[data-v-815bbfd7]:after{border:none}.info-content .code-content>.btn[data-v-815bbfd7]{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;padding-left:15px}.info-content .code-content>.btn.is-ar[data-v-815bbfd7]{padding-right:15px;padding-left:0}.info-content .code-content>.btn .van-button[data-v-815bbfd7]{width:100%;height:44px;border-radius:4px;background-color:var(--site-main-color);border-color:var(--site-main-color)}.info-content>.change-ver-type[data-v-815bbfd7]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;color:var(--site-main-color);margin-top:10px}.info-content>.change-ver-type>p[data-v-815bbfd7]{font-size:14px;padding-left:5px;font-weight:700}.submit-content[data-v-815bbfd7]{width:100%;position:fixed;left:0;bottom:60px;padding:0 20px}.submit-content .van-button[data-v-815bbfd7]{width:100%;height:44px;border-radius:4px;background-color:var(--site-main-color);border-color:var(--site-main-color)}\n",document.head.appendChild(D),{setters:[e=>{n=e._,a=e.j,i=e.i,o=e.v,l=e.ai,d=e.l,c=e.r,r=e.q,s=e.m,f=e.I,u=e.c,v=e.b,b=e.w,p=e.a,g=e.t,x=e.u,y=e.y,m=e.e,h=e.n,k=e.T,w=e.ce,j=e.b8,C=e.o,I=e.cf,_=e.F,q=e.J,V=e.K},()=>{},()=>{},e=>{z=e.F},e=>{S=e.a},e=>{T=e.B},()=>{}],execute:function(){const t={class:"verify-content"},D=(e=>(q("data-v-815bbfd7"),e=e(),V(),e))((()=>p("div",{style:{height:"46px"}},null,-1))),F={class:"info-content"},N={class:"info-item"},U={class:"gap"},$={class:"info-item"},B={class:"gap"},E={key:0},H={class:"change-ver-type"},J={class:"submit-content"};e("default",n({__name:"index",setup(e){const n=a(),q=i(),{t:V}=o.exports.useI18n(),K=l(),P=d(),Y=c(1),A=c(1),G=c("44"),L=c(""),M=c(0),O=c(null),Q=c(!1);Y.value=K.query&&K.query.type?Number(K.query.type):1,A.value=K.query&&K.query.verType?Number(K.query.verType):1,r((()=>{clearInterval(O.value),O.value=null}));const R=s((()=>{if(n.userInfo.token){const{email:e,phone:t}=n.userInfo;let a="";if(1===Y.value){if(t){const e=t.split(" ");2===e.length?(G.value=e[0],a=e[1]):a=e[0]}}else a=e||"";return a}P.push("/login")})),W=()=>{if(M.value>0)return!1;const{email:e,phone:t}=n.userInfo;k.loading({duration:0,forbidClick:!0}),S({target:1===Y.value?t:e}).then((()=>{k(V("sendSuccess")),M.value=60,O.value=setInterval((()=>{M.value>0?M.value=M.value-1:(M.value=0,clearInterval(O.value),O.value=null)}),1e3)})).catch((()=>{k.clear()}))},X=()=>{const{email:e,phone:t}=n.userInfo,a=1===Y.value?2:1;return 2!==a||e?1!==a||t?void(Y.value=a):(k(V("暂未绑定手机号，无法进行手机验证")),!1):(k(V("暂未绑定邮箱，无法进行邮箱验证")),!1)},Z=()=>{if(""===L.value)return void k(V("entryVerifyCode"));Q.value=!0;const{email:e,phone:t}=n.userInfo,a={target:1===Y.value?t:e,verifcode:L.value};1===Y.value?a.phone=t:a.email=e,w(a).then((e=>{Q.value=!1,P.push(`/bindVerify?type=${A.value}&reset=1&verifyCode=${e.verifyCode}`)})).catch((()=>{Q.value=!1}))};return(e,n)=>{const a=j,i=z,o=T,l=f;return C(),u("div",t,[v(a,{fixed:!0},{title:b((()=>[m(g(x(V)("身份验证")),1)])),_:1}),D,p("div",F,[p("div",N,[p("h2",U,g(1===Y.value?x(V)("手机验证"):x(V)("邮箱验证")),1),p("p",null,g(x(V)("为了保障您的账号安全，请验证后进行下一步操作")),1)]),p("div",$,[p("p",B,g(1===Y.value?x(V)("当前绑定手机号"):x(V)("当前绑定邮箱")),1),p("h2",null,[1===Y.value?(C(),u("span",E,"(+"+g(G.value)+")",1)):y("v-if",!0),m(g(x(I)(R.value,!1)),1)])]),p("div",{class:h(["code-content",{"is-ar":x(q)}])},[v(i,{modelValue:L.value,"onUpdate:modelValue":n[0]||(n[0]=e=>L.value=e),type:"tel",label:"",placeholder:x(V)("entryVerifyCode")},null,8,["modelValue","placeholder"]),p("div",{class:h(["btn",{"is-ar":x(q)}])},[v(o,{type:"primary",onClick:W},{default:b((()=>[m(g(x(V)("sendVerifyCode")),1),M.value?(C(),u(_,{key:0},[m("("+g(M.value)+")s",1)],64)):y("v-if",!0)])),_:1})],2)],2),p("div",H,[v(l,{name:"exchange"}),p("p",{onClick:X},g(1===Y.value?x(V)("切换为邮箱验证"):x(V)("切换为手机验证")),1)])]),p("div",J,[v(o,{type:"primary",loading:Q.value,onClick:Z},{default:b((()=>[m(g(x(V)("nextStep")),1)])),_:1},8,["loading"])])])}}},[["__scopeId","data-v-815bbfd7"],["__file","C:/Users/DIY/Desktop/源码/H5-商家/src/views/verifyPage/index.vue"]]))}}}));
