import{d as Z,v as J,c as L,a as t,t as p,u as l,b as y,w as P,n as K,_ as Q,o as H,e as R,r as i,f as ee,g as q,h as oe,T as M,i as te,j as se,k as ae,l as le,m as ne,p as ie,I as ce,q as I,F as re,s as de,x as Y,y as ue,G as me,z as ve,A as pe,B as D,C as ge,D as _e}from"./index-754777e9.js";/* empty css              */import{M as fe}from"./vue3-puzzle-vcode.es-d1eef63f.js";import we from"./index-47b86f09.js";import{B as X}from"./index-7c758373.js";import{n as he}from"./login.api-65fa6739.js";const be="/www/png/name-54adb70a.png";const ye={class:"code-content"},Ce={class:"title"},Se={class:"scroll-content"},Ie={class:"btn"},ke=Z({name:"AgreeDialog"}),xe=Object.assign(ke,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(f,{emit:n}){const{t:g}=J.exports.useI18n(),w=n,T=()=>{w("update:modelValue",!1)},h=()=>{w("done"),w("update:modelValue",!1)};return(_,N)=>{const V=X;return H(),L("div",{class:K([{active:f.modelValue},"area-code-dialog"])},[t("div",ye,[t("div",Ce,p(l(g)("\u7528\u6237\u534F\u8BAE")),1),t("div",Se,[y(we)]),t("div",Ie,[y(V,{type:"custom",size:"small",onClick:h},{default:P(()=>[R(p(l(g)("\u6211\u5DF2\u9605\u8BFB")),1)]),_:1})])]),t("div",{class:"code-bg",onClick:T})],2)}}}),Me=Q(xe,[["__scopeId","data-v-4bfed0a1"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/views/login/components/AgreeDialog.vue"]]);const Te={class:"code-content"},Ve={class:"title"},$e={class:"input-content"},Ne={class:"input"},Ue=["placeholder"],De=["width","height"],Le=Z({name:"NumberCodeDialog"}),Pe=Object.assign(Le,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(f,{emit:n}){const{t:g}=J.exports.useI18n(),w=n,T=f,h=i(""),_=i(""),N=i(180),V=i(240),C=i(100),S=i(35),B=i(50),E=i(160),z=i(32),k=i(40),A=i(40),u=i(100),r=(e,s)=>Math.floor(Math.random()*(s-e)+e),b=(e,s)=>{let a=r(e,s),o=r(e,s),m=r(e,s);return"rgb("+a+","+o+","+m+")"},j=()=>{let s=document.getElementById("s-canvas").getContext("2d");s.textBaseline="bottom",s.fillStyle=b(N.value,V.value),s.fillRect(0,0,C.value,S.value);for(let a=0;a<_.value.length;a++)F(s,_.value[a],a);c(s),O(s)},F=(e,s,a)=>{e.fillStyle=b(B.value,E.value),e.font=r(z.value,k.value)+"px SimHei";let o=(a+1)*(C.value/(_.value.length+1)),m=r(k.value,S.value-5);var v=r(-15,15);e.translate(o,m),e.rotate(v*Math.PI/180),e.fillText(s,0,0),e.rotate(-v*Math.PI/180),e.translate(-o,-m)},c=e=>{for(let s=0;s<4;s++)e.strokeStyle=b(A.value,u.value),e.beginPath(),e.moveTo(r(0,C.value),r(0,S.value)),e.lineTo(r(0,C.value),r(0,S.value)),e.stroke()},O=e=>{for(let s=0;s<10;s++)e.fillStyle=b(0,100),e.beginPath(),e.arc(r(0,C.value),r(0,S.value),1,0,2*Math.PI),e.fill()},$=()=>{_.value="",U()},U=()=>{const e=[0,1,2,3,4,5,6,7,8,9];let s="";for(let a=0;a<4;a++){const o=Math.floor(Math.random()*e.length);s+=e[o]}_.value=s,j()};ee(()=>T.modelValue,e=>{e?$():h.value=""});const x=()=>{w("update:modelValue",!1)},G=()=>{if(!h.value){M(g("\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"));return}h.value===_.value?(w("done"),x()):M(g("\u9A8C\u8BC1\u7801\u4E0D\u6B63\u786E"))};return(e,s)=>{const a=X;return H(),L("div",{class:K([{active:f.modelValue},"number-code-dialog"])},[t("div",Te,[t("div",Ve,p(l(g)("entryVerifyCode")),1),t("div",$e,[t("div",Ne,[q(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>h.value=o),placeholder:l(g)("verificationCode")},null,8,Ue),[[oe,h.value]])]),t("div",{onClick:U},[t("canvas",{id:"s-canvas",width:C.value,height:S.value},null,8,De)])]),y(a,{type:"custom",block:"",onClick:G},{default:P(()=>[R(p(l(g)("\u786E\u5B9A")),1)]),_:1})]),t("div",{class:"code-bg",onClick:x})],2)}}}),He=Q(Pe,[["__scopeId","data-v-64e71d2a"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/components/number-code-dialog/index.vue"]]);const Re=f=>(ge("data-v-2bf2fc29"),f=f(),_e(),f),Be={class:"login-page"},Ee={class:"bg-layer"},ze=["src"],Ae={class:"login-card"},je=Re(()=>t("div",{class:"card-logo"},[t("img",{src:be,alt:"Logo"})],-1)),Fe={class:"title"},Oe={class:"type-tabs"},Ge=["onClick"],We={class:"form-area"},qe={class:"input-group"},Je=["type","placeholder"],Ke={class:"input-group"},Qe=["type","placeholder"],Xe={class:"divider"},Ye={__name:"index",setup(f){const{t:n,locale:g}=J.exports.useI18n(),w=te(),T=se(),h=ae(),_="tiktokMall",N=new URL("/www/png/name-ad3f2e46.png",self.location),V=new URL("/www/png/name-593a7e78.png",self.location),C=new URL("/www/png/name-ae6e9405.png",self.location),S=new URL("/www/png/name-8130147b.png",self.location),B=new URL("/www/png/name-dab02cab.png",self.location),E=new URL("/www/png/name-ca360226.png",self.location),z=[V.href,C.href,S.href,B.href,E.href],k=i(!1),A=["email","phoneNum"],u=i(0),r=i(!1),b=i(!1),j=localStorage.getItem("areaCode")?localStorage.getItem("areaCode"):44,F=i(j),c=le({username:"",password:""}),O=a=>{if(a!==u.value){u.value=a;const o=u.value==0?"storeUserName":"storeMobile",m=localStorage.getItem(o);c.username=m||"",c.password=""}},$=i(!1),U=()=>{const a=u.value===0?"entryEmail":"entryPhone";if(c.username=ue(c.username),c.username==="")return M(n(a)),!1;if(c.password==="")return M(n("entryPassword")),!1;if(c.password.length<6||c.password.length>20)return M(n("setPasswordTips")),!1;["hive","argos"].includes(_)?x():["tiktok-wholesale"].includes(_)?$.value=!0:k.value=!0},x=()=>{k.value=!1,r.value=!0,he({username:u.value==0?c.username:`${F.value} ${c.username}`,password:c.password}).then(async a=>{localStorage.removeItem("storeUserName"),localStorage.removeItem("storeMobile");const o=u.value==0?"storeUserName":"storeMobile";localStorage.setItem(o,c.username),localStorage.setItem("loginType",u.value),await w[me](a),await ve().then(v=>{v.id?localStorage.setItem("sellerId",v.id):localStorage.removeItem("sellerId")}).catch(()=>{r.value=!1}),r.value=!1,T.setShowNotic(!0),document.dispatchEvent(new CustomEvent("getMoneyInfoHandle")),pe().setChatHandle(),M.success(n("loginSuc")),h.push("/shop")}).catch(a=>{r.value=!1,console.log(a)})},G=()=>{const{hostname:a,origin:o}=window.location,v=`${a==="localhost"?"https://www.catvg.xyz/promote/#/":`${o}/promote/#/`}?lang=${g.value}`;window.plus?window.plus.runtime.openURL(v):window.webkit?window.webkit.messageHandlers.openWindow.postMessage({url:v}):window.open(v)},e=i(!1),s=i(!1);return ne(()=>{w.logout()}),ie(()=>{const a=localStorage.getItem("loginType");u.value=a?Number(a):0;const o=u.value==0?"storeUserName":"storeMobile",m=localStorage.getItem(o);c.username=m||""}),(a,o)=>{const m=ce,v=X;return H(),L("div",Be,[y(He,{modelValue:$.value,"onUpdate:modelValue":o[0]||(o[0]=d=>$.value=d),onDone:x},null,8,["modelValue"]),y(Me,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=d=>s.value=d),onDone:o[2]||(o[2]=d=>e.value=!0)},null,8,["modelValue"]),y(l(fe),{successText:l(n)("vertifyPass"),failText:l(n)("vertifuFail"),sliderText:l(n)("vertifyTips"),imgs:z,show:k.value,onSuccess:x},null,8,["successText","failText","sliderText","show"]),I(" \u80CC\u666F "),t("div",Ee,[t("img",{src:l(N).href,alt:"",class:"bg-img"},null,8,ze)]),I(" \u767B\u5F55\u5361\u7247 "),t("div",Ae,[I(" Logo "),je,t("h1",Fe,p(l(n)("login")),1),I(" Tab \u5207\u6362 "),t("div",Oe,[(H(),L(re,null,de(A,(d,W)=>t("div",{key:W,class:K(["tab-item",{active:W===u.value}]),onClick:Ze=>O(W)},p(l(n)(d)),11,Ge)),64))]),I(" \u8868\u5355 "),t("div",We,[t("div",qe,[q(t("input",{"onUpdate:modelValue":o[3]||(o[3]=d=>c.username=d),type:u.value===1?"tel":"text",placeholder:u.value===0?l(n)("entryEmail"):l(n)("entryPhone"),class:"input-field"},null,8,Je),[[Y,c.username]])]),t("div",Ke,[q(t("input",{"onUpdate:modelValue":o[4]||(o[4]=d=>c.password=d),type:b.value?"text":"password",placeholder:l(n)("entryPassword"),class:"input-field"},null,8,Qe),[[Y,c.password]]),t("span",{class:"pwd-toggle",onClick:o[5]||(o[5]=d=>b.value=!b.value)},[y(m,{name:b.value?"eye-o":"closed-eye",size:"20",color:"#999"},null,8,["name"])])]),t("div",{class:"forget-link",onClick:o[6]||(o[6]=(...d)=>l(D)&&l(D)(...d))},p(l(n)("forgetPassword")),1),y(v,{class:"btn-continue",loading:r.value,block:"",onClick:U},{default:P(()=>[R(p(l(n)("continue")),1)]),_:1},8,["loading"]),I(" \u5206\u5272\u7EBF "),t("div",Xe,[t("span",null,p(l(n)("or")),1)]),I(" \u6CE8\u518C\u6309\u94AE "),y(v,{class:"btn-register",block:"",onClick:G},{default:P(()=>[R(p(l(n)("registerNow")),1)]),_:1})])]),I(" \u5E95\u90E8\u5E2E\u52A9 "),t("div",{class:"footer-help",onClick:o[7]||(o[7]=(...d)=>l(D)&&l(D)(...d))},p(l(n)("needHelp")),1)])}}},no=Q(Ye,[["__scopeId","data-v-2bf2fc29"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/views/login/index.vue"]]);export{no as default};
