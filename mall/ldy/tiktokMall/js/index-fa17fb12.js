import{d as Ce,v as Ie,j as kt,H as ce,r as n,I as wt,c as d,a as e,t as l,b as A,F as xe,s as Ne,u as s,n as C,o as u,_ as $e,az as m,i as st,a0 as ot,l as xt,f as Nt,q as N,e as J,w as Z,T as k,G as Ct,B as It,J as ue,a1 as $t,$ as Tt,E as zt,p as Me,aA as St,Y as Lt,L as ie,cc as Xe,ce as At,ap as Pt,aw as Vt,C as Dt,D as Mt}from"./index-754777e9.js";import{N as Ht}from"./index-0671a76b.js";/* empty css              */import{u as Et}from"./index-7ba9c7e6.js";import{l as Ze}from"./config-f57d91a6.js";import{l as Ut,a as jt,r as Bt,b as Rt,p as Ot,c as Ft,d as qt}from"./activity.api-0505e219.js";/* empty css              */import{I as He}from"./index-3c6e4fb9.js";import{n as Gt}from"./login.api-65fa6739.js";import{B as at}from"./index-7c758373.js";import{S as Wt,a as Jt}from"./index-aea96d27.js";import"./index-3cc9e254.js";import"./index-b450e8d5.js";import"./use-id-f491a022.js";const Yt={class:"language-container"},Kt={class:"nation"},Qt=["src"],Xt=["onClick"],Zt=["src"],es=Ce({name:"LanguageChange"}),ts=Object.assign(es,{setup(h){const{locale:V}=Ie.exports.useI18n(),L=kt(),p=ce(()=>{const y=V.value||"en";return Ze.find(E=>E.key===y)}),H=ce(()=>V.value||"en"),w=n(!1),O=y=>{const $=y==="ar"?"rtl":"rtr";document.documentElement.setAttribute("dir",$),L.setIsArLang(y==="ar"),L.setNotCnLang(!["cn","tw"].includes(y)),V.value=y,localStorage.setItem("lang",y),document.dispatchEvent(new CustomEvent("langChange")),w.value=!1};return(y,$)=>{const E=wt;return u(),d("div",Yt,[e("div",{class:"current",onClick:$[0]||($[0]=r=>w.value=!w.value)},[e("div",Kt,[e("img",{src:p.value.image.href,alt:""},null,8,Qt)]),e("p",null,l(p.value.title),1),A(E,{name:"arrow-down",class:"icon"})]),e("div",{class:C([{active:w.value},"select-content"])},[(u(!0),d(xe,null,Ne(s(Ze),r=>(u(),d("div",{key:r.key,class:C([{active:r.key===H.value},"item"]),onClick:P=>O(r.key)},[e("img",{src:r.image.href,alt:""},null,8,Zt),e("p",null,l(r.title),1),A(E,{name:"success",class:"icon"})],10,Xt))),128))],2),e("div",{class:C([{active:w.value},"bg"]),onClick:$[1]||($[1]=r=>w.value=!1)},null,2)])}}}),ss=$e(ts,[["__scopeId","data-v-681eb37b"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/components/language-change/index.vue"]]),B=m("activity/turntable/block1.png"),R=m("activity/turntable/block2.png"),et=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],we=[0,1,2,3,4,5,6,7,8,9],tt=["gmail.com","yahoo.com","hotmail.com","outllok.com","qq.com","163.com","126.com","sina.com","sohu.com","139.com","189.com","360.com","21cn.com","139.com","189.cn","wo.cn","aol.com","protonmail.com","zoho.com","icloud.com","mail.ru","t-online.de","orange.fr","yahoo.co.uk","libero.it","yandex.ru","yahoo.com.sg","naver.com","saudi.net","rediffmail.com","indiatimes.com","yahoo.co.in","sify.com","naukri.com"],X=n([{x:0,y:0,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:B,width:"100%",height:"100%",activeSrc:R}]},{x:1,y:0,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:B,width:"100%",height:"100%",activeSrc:R}]},{x:2,y:0,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:B,width:"100%",height:"100%",activeSrc:R}]},{x:2,y:1,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:B,width:"100%",height:"100%",activeSrc:R}]},{x:2,y:2,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:B,width:"100%",height:"100%",activeSrc:R}]},{x:1,y:2,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:B,width:"100%",height:"100%",activeSrc:R}]},{x:0,y:2,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:B,width:"100%",height:"100%",activeSrc:R}]},{x:0,y:1,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:B,width:"100%",height:"100%",activeSrc:R}]},{x:1,y:1,fonts:[{text:"",fontColor:"#ffffff",fontSize:"16px",top:"70%"}],imgs:[{src:B,width:"100%",height:"100%",activeSrc:R}]}]);const os={class:"login-content"},as={class:"dialog-title"},ns={class:"type-tab"},ls=["onClick"],is={class:"form-content"},cs={key:0,class:"item"},us={key:1,class:"item"},rs={class:"item"},ds={class:"btn"},vs=Ce({name:"LoginDialog"}),ms=Object.assign(vs,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(h,{emit:V}){const L=h,{t:p,locale:H}=Ie.exports.useI18n(),w=st(),O=ot(),y=V,$=()=>{y("update:modelValue",!1)},E=["email","phoneNum"],r=n(0),P=n(!1),re=localStorage.getItem("areaCode")?localStorage.getItem("areaCode"):44,D=n(re),o=xt({username:"",password:""}),de=T=>{T!==r.value&&(r.value=T,o.username="",o.password="")},ve=()=>{const{hostname:T,origin:f}=window.location,Y=T==="localhost"?"https://www.catvg.xyz/promote/#/":`${f}/promote/#/`;window.open(`${Y}?lang=${H.value}`)},F=()=>{const T=r.value===0?"entryEmail":"entryPhone";if(o.username==="")return k(p(T)),!1;if(o.password==="")return k(p("entryPassword")),!1;P.value=!0,Gt({username:r.value==0?o.username:`${D.value} ${o.username}`,password:o.password}).then(async f=>{await w[Ct](f),k(p("loginSuc")),P.value=!1,setTimeout(()=>{$(),y("done")},1500)}).catch(f=>{P.value=!1,console.log(f)})};return Nt(()=>L.modelValue,T=>{T||(r.value=0,o.username="",o.password="")}),(T,f)=>{const Y=at;return u(),d("div",{class:C([{active:h.modelValue},"login-dialog"])},[e("div",os,[e("div",as,l(s(p)("\u5356\u5BB6\u767B\u5F55")),1),e("div",ns,[(u(),d(xe,null,Ne(E,(S,q)=>e("div",{key:q,class:C([{active:q===r.value},"item"]),onClick:ee=>de(q)},l(s(p)(S)),11,ls)),64))]),e("div",is,[r.value===0?(u(),d("div",cs,[A(He,{modelValue:o.username,"onUpdate:modelValue":f[0]||(f[0]=S=>o.username=S),type:"text","is-turn":!0,placeholder:s(p)("entryEmail"),clear:""},null,8,["modelValue","placeholder"])])):N("v-if",!0),r.value===1?(u(),d("div",us,[A(He,{modelValue:o.username,"onUpdate:modelValue":f[1]||(f[1]=S=>o.username=S),codeNum:D.value,"onUpdate:codeNum":f[2]||(f[2]=S=>D.value=S),type:"tel","is-turn":!0,placeholder:s(p)("entryPhone"),clear:"","area-code":""},null,8,["modelValue","codeNum","placeholder"])])):N("v-if",!0),e("div",rs,[A(He,{modelValue:o.password,"onUpdate:modelValue":f[3]||(f[3]=S=>o.password=S),type:"password","is-turn":!0,placeholder:s(p)("entryPassword"),clear:"","show-password":""},null,8,["modelValue","placeholder"])]),e("div",{class:C(["link-content",{"is-ar":s(O)}])},[e("p",null,[J(l(s(p)("\u5982\u679C\u60A8\u6CA1\u6709\u8D26\u53F7"))+", ",1),e("span",{class:"link",onClick:ve},l(s(p)("\u70B9\u51FB\u6CE8\u518C")),1)]),e("p",{onClick:f[4]||(f[4]=S=>s(It)(!0)),class:"link"},l(s(p)("forgetPassword")),1)],2),e("div",ds,[A(Y,{type:"custom",loading:P.value,block:"",onClick:F},{default:Z(()=>[J(l(s(p)("login")),1)]),_:1},8,["loading"])])])]),e("div",{class:"login-bg",onClick:$})],2)}}}),fs=$e(ms,[["__scopeId","data-v-88e63e2d"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/views/activityCenter/turntable/components/LoginDialog.vue"]]);const ps={class:"tips-content"},gs={class:"dialog-title"},_s={class:"info-content"},hs={class:"txt-content"},ys={key:0},bs={key:1},ks={class:"btn"},ws=Ce({name:"TipsDialog"}),xs=Object.assign(ws,{props:{modelValue:{type:Boolean,default:!1},tipsTitle:{type:String,default:""},tipsInfo:{type:String,default:""},again:{type:Boolean,default:!1},times:{type:Number,default:0}},emits:["update:modelValue","again"],setup(h,{emit:V}){const{t:L}=Ie.exports.useI18n(),p=h,H=V,w=()=>{H("update:modelValue",!1)},O=()=>{p.times?$():w()},y=()=>{p.times||w()},$=()=>{w(),H("again")};return(E,r)=>{const P=at;return u(),d("div",{class:C([{active:h.modelValue},"tips-dialog"])},[e("div",ps,[e("div",gs,l(s(L)("\u63D0\u793A")),1),e("div",_s,[e("div",hs,[h.tipsTitle?(u(),d("p",ys,l(h.tipsTitle),1)):N("v-if",!0),h.tipsInfo?(u(),d("h2",bs,l(h.tipsInfo),1)):N("v-if",!0)]),e("div",ks,[h.again?(u(),ue(P,{key:0,type:"custom",block:"",onClick:$},{default:Z(()=>[J(l(s(L)("\u518D\u62BD\u4E00\u6B21")),1)]),_:1})):(u(),ue(P,{key:1,type:"custom",block:"",onClick:O},{default:Z(()=>[J(l(h.times?s(L)("\u786E\u5B9A"):s(L)("\u77E5\u9053\u4E86")),1)]),_:1})),h.again?(u(),ue(P,{key:2,type:"cancel",block:"",onClick:w},{default:Z(()=>[J(l(s(L)("\u53D6\u6D88")),1)]),_:1})):N("v-if",!0)])])]),e("div",{class:"tips-bg",onClick:y})],2)}}}),Ns=$e(xs,[["__scopeId","data-v-6ca20a48"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/views/activityCenter/turntable/components/TipsDialog.vue"]]);const v=h=>(Dt("data-v-2b7b83b6"),h=h(),Mt(),h),Cs={class:"turntable-page"},Is={class:"audio-container"},$s=["src"],Ts=["src"],zs=["src"],Ss=["src"],Ls=["src"],As={key:0,class:"turntable-warp"},Ps={class:"language-content"},Vs={class:"play"},Ds=["src"],Ms={class:"img-width light-left"},Hs=["src"],Es={class:"img-width light-right"},Us=["src"],js={class:"img-width cart"},Bs=["src"],Rs={class:"img-height target"},Os=["src"],Fs={class:"img-height trumpet1"},qs=["src"],Gs={class:"img-width trumpet2"},Ws=["src"],Js={class:"shadow-txt"},Ys={class:"title-info"},Ks={class:"turntable-container"},Qs=["src"],Xs={class:"notice-content"},Zs={class:"notice-item"},eo=v(()=>e("div",{class:"item"},null,-1)),to=v(()=>e("div",{class:"item"},null,-1)),so=v(()=>e("div",{class:"item"},null,-1)),oo=[eo,to,so],ao=v(()=>e("div",{class:"item"},null,-1)),no=v(()=>e("div",{class:"item"},null,-1)),lo=v(()=>e("div",{class:"item"},null,-1)),io=[ao,no,lo],co=v(()=>e("div",{class:"item"},null,-1)),uo=v(()=>e("div",{class:"item"},null,-1)),ro=v(()=>e("div",{class:"item"},null,-1)),vo=[co,uo,ro],mo=v(()=>e("div",{class:"item"},null,-1)),fo=v(()=>e("div",{class:"item"},null,-1)),po=v(()=>e("div",{class:"item"},null,-1)),go=[mo,fo,po],_o={key:0,dir:"ltr",class:"lottery-content"},ho={dir:"ltr",class:"btn-content"},yo={key:0},bo={key:0,class:"color"},ko={class:"item"},wo={key:0},xo={class:"item"},No={class:"block-content"},Co=v(()=>e("div",{class:"block-bottom"},null,-1)),Io=v(()=>e("div",{class:"block-line left"},null,-1)),$o=v(()=>e("div",{class:"block-line right"},null,-1)),To={class:"title"},zo={class:"content my-prize"},So={class:"item"},Lo={class:"item"},Ao={key:0,class:"block-content"},Po=v(()=>e("div",{class:"block-bottom"},null,-1)),Vo=v(()=>e("div",{class:"block-line left"},null,-1)),Do=v(()=>e("div",{class:"block-line right"},null,-1)),Mo={class:"title"},Ho={class:"content invite"},Eo={class:"link-content"},Uo={class:"txt"},jo={key:1,dir:"ltr",class:"block-content"},Bo=v(()=>e("div",{class:"block-bottom"},null,-1)),Ro=v(()=>e("div",{class:"block-line left"},null,-1)),Oo=v(()=>e("div",{class:"block-line right"},null,-1)),Fo={class:"title"},qo={class:"prize"},Go=["src"],Wo={key:0,class:"loading"},Jo={key:1,class:"no-data"},Yo={class:"block-content bg2"},Ko=v(()=>e("div",{class:"block-bottom"},null,-1)),Qo=v(()=>e("div",{class:"block-line left"},null,-1)),Xo=v(()=>e("div",{class:"block-line right"},null,-1)),Zo={class:"title"},ea={class:"content intro"},ta=["innerHTML"],sa=Ce({name:"ActivityTurntable"}),oa=Object.assign(sa,{setup(h){const V=$t(),{toClipboard:L}=Et(),p=Tt(),H=st(),w=n(!1),O=ce(()=>({...{username:"",email:""},...H.userInfo})),y=ce(()=>O.value.username||O.value.email||""),$=ce(()=>{const a="tiktokMall";return["argos"].includes(a)?m("activity/turntable/audio/bg1.mp3"):m("activity/turntable/audio/bg.mp3")}),E=ot(),r=n(""),P=m("activity/turntable/default-imgs.png"),re=m("activity/turntable/default-imgs1.png"),D=n(!1),{t:o,locale:de}=Ie.exports.useI18n(),ve=n(!1),F=n(!0),T=n(),f=n(),Y=n(),S=n(),q=n(),ee=n([]),me=n(""),fe=n(""),K=n(!1),te=n(),I=n([]),_=n({}),Ee=async()=>{k.loading({duration:0,forbidClick:!0}),await Ft({activityId:r.value}).then(a=>{ke.value=!0;let t=a.prizeList||[];if(t.length>9&&(t=t.slice(0,9)),I.value=t,_.value=a,I.value.length)for(let i=0;i<I.value.length;i++)X.value[i].id=I.value[i].id,X.value[i].prizeName=I.value[i].prizeName,X.value[i].fonts[0].text=I.value[i].prizeName,X.value[i].imgs.push({src:I.value[i].image||(Number(I.value[i].prizeType)===3?P:re),width:"34%",top:"20%"});nt(),Me(()=>{w.value=!0,k.clear()})}).catch(()=>{ke.value=!1})},nt=()=>{const a=[];for(let t=0;t<50;t++){const i=Math.random()<.5;let b="";if(i){let x="",z="";const c=Math.floor(Math.random()*4),ne=Math.floor(Math.random()*5),yt=Math.floor(Math.random()*tt.length),bt="@"+tt[yt];for(let le=0;le<c;le++){const De=Math.floor(Math.random()*et.length);x+=et[De]}for(let le=0;le<ne;le++){const De=Math.floor(Math.random()*we.length);z+=we[De]}b=`${x}**${z}${bt}`}else{let x="";for(let z=0;z<4;z++){const c=Math.floor(Math.random()*we.length);x+=we[c]}b=`**${x}`}const g=lt();a.push(`${b} ${o("\u62BD\u4E2D\u4E86")} ${g}`)}ee.value=a},lt=()=>{const a=I.value.filter(c=>Number(c.prizeType)!==3),t=[...new Set(a.map(c=>c.odds))].sort((c,ne)=>c-ne),i=t.reduce((c,ne)=>c+ne,0),b=Math.random()*i,g=it(b,t),x=I.value.filter(c=>c.odds===t[g]),z=Math.floor(Math.random()*x.length);return x[z].prizeName},it=(a,t)=>{for(let i=0;i<t.length;i++)if(a<t[i])return i;return t.length-1},ct=()=>{F.value=!F.value,F.value?T.value.play():T.value.pause()},pe=n(!1),M=n(!1),U=n(""),j=n(""),Te=n(!1),Ue=(a=!1)=>{if(D.value){if(!_.value.state)return U.value="",j.value=o("\u6D3B\u52A8\u672A\u5F00\u542F"),M.value=!0,!1;const t=new Date().getTime(),i=new Date(_.value.startTime).getTime(),b=new Date(_.value.endTime).getTime();if(i>t)return U.value=o("\u6D3B\u52A8\u5F00\u59CB\u65F6\u95F4"),j.value=_.value.startTime,M.value=!0,!1;if(!a){if(b<t)return U.value=o("\u672C\u6B21\u6D3B\u52A8\u5DF2\u7ED3\u675F"),j.value=o("\u6B22\u8FCE\u4E0B\u6B21\u518D\u6765\uFF01"),M.value=!0,!1;if(Number(G.value)<Number(_.value.pointsToNumber))return U.value="",j.value=o("\u79EF\u5206\u4E0D\u8DB3"),M.value=!0,!1}return!0}else return w.value?pe.value=!0:k(o("\u8BF7\u7A0D\u540E\u91CD\u8BD5")),!1},je=n(!1),Be=n(0),ze=async a=>{if(Ve(),Ue()){if(!Ke.value){k(o("\u672A\u8BA4\u8BC1\u5546\u5BB6"));return}je.value=a,a?Number(G.value)<Number(_.value.pointsToNumber)*5?(U.value="",j.value=o("\u79EF\u5206\u4E0D\u8DB3"),M.value=!0):Oe(!0):Oe(!1)}},Re=a=>a?I.value.findIndex(t=>t.id===a):I.value.findIndex(t=>Number(t.prizeType)===3),Q=n(!1),se=n([]),Oe=async a=>{Q.value||(Te.value=!1,se.value=[],Q.value=!0,te.value.play(),f.value.play(),K.value=!0,await Ut({drawTimes:a?5:1,activityId:r.value}).then(t=>{let i=null;if(t){const b=a?Number(_.value.pointsToNumber)*5:Number(_.value.pointsToNumber);if(G.value=Number(G.value)-b,a){const g=I.value.find(z=>Number(z.prizeType)===3).id;se.value=t;const x=t.find(z=>z.id!==g);i=x?x.id:g}else i=t[0].id}else k(o("\u7CFB\u7EDF\u9519\u8BEF\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"));te.value.stop(Re(i))}).catch(t=>{te.value.stop(Re()),t==="login"&&window.location.reload()}))},ut=a=>{const t=I.value.find(i=>i.id===a.id);if(f.value.pause(),f.value.currentTime=0,K.value=!1,Q.value=!1,he(!0),se.value.length){Number(t.prizeType)===3?q.value.play():S.value.play();const i=I.value.find(g=>Number(g.prizeType)===3).id,b=se.value.filter(g=>g.id!==i);for(let g=0;g<b.length;g++){let x=I.value.find(c=>c.id===b[g].id);ee.value.push(`${Xe(y.value,!1)} ${o("\u62BD\u4E2D\u4E86")} ${x.prizeName}`);const z={...x,prizeImage:x.image,id:new Date().getTime()};W.value.unshift(z)}U.value=b.length?o("\u606D\u559C\u60A8\uFF0C\u4E2D\u5956\u4E86\uFF01"):o("\u5F88\u9057\u61BE\uFF0C\u6B64\u6B21\u672A\u80FD\u4E2D\u5956"),j.value=se.value.map(g=>g.prizeName).join(`
`),M.value=!0}else if(Te.value=Number(G.value)>Number(_.value.pointsToNumber)&&!je.value&&!Be.value,Number(t.prizeType)===3)q.value.play(),U.value=o("\u5F88\u9057\u61BE\uFF0C\u6B64\u6B21\u672A\u80FD\u4E2D\u5956"),j.value=t.prizeName,M.value=!0;else{S.value.play(),U.value=o("\u606D\u559C\u60A8\uFF0C\u4E2D\u5956\u4E86\uFF01"),j.value=t.prizeName,M.value=!0,ee.value.push(`${Xe(y.value,!1)} ${o("\u62BD\u4E2D\u4E86")} ${t.prizeName}`);const i={...t,prizeImage:t.image,id:new Date().getTime()};W.value.unshift(i)}},Fe=()=>{!ve.value&&ke.value&&(T.value.play(),F.value=!0,ve.value=!0)},oe=n({gutter:20,speed:20}),rt=n({borderRadius:0,lineClamp:1}),dt=n({background:"rgba(0,0,0,0)"}),Se=n(!1),Le=n(!1),qe=a=>{a?Se.value=!0:Le.value=!0},Ge=a=>{a?Se.value=!1:Le.value=!1},G=n(0),We=async(a=!1)=>{a&&k.loading({duration:0,forbidClick:!0}),await qt({activityId:r.value}).then(t=>{D.value=!0,G.value=t||0}).catch(()=>{console.log("need login")})},vt=()=>{D.value=!0,Qe(),We(!0),he(),be(!0),Ye()},ge=n(0),_e=n(0),he=async(a=!1)=>{a||k.loading({duration:0,forbidClick:!0}),await jt({activityId:r.value}).then(t=>{ge.value=t.amount||0,_e.value=t.goodsNum||0})},Je=a=>{if(Ve(),Ue(!0)){if(Number(a)===1){if(!_e.value){k(o("\u6682\u65E0\u5956\u54C1"));return}}else if(ge.value<Number(_.value.minPoints)){k(`${o("\u6700\u5C0F\u9886\u53D6\u91D1\u989D")}\u2265${_.value.minPoints}`);return}k.loading({duration:0,forbidClick:!0}),Bt({activityId:r.value,prizeType:a}).then(async()=>{await he(),k(o("\u9886\u53D6\u6210\u529F"))}).catch(()=>{k.clear()})}},mt=n(0),ft=n(0),ye=n(""),Ye=()=>{At().then(a=>{ye.value=a.download&&a.code?`${a.download}/#?usercode=${a.code}&lang=${de.value}`:""}),Rt({activityId:r.value}).then(a=>{mt.value=a.number||0,ft.value=a.points||0})},pt=async()=>{Ve();try{await L(ye.value),k(o("copySuccess"))}catch(a){console.error(a)}},gt=n(),_t=n(20),Ae=n(1),W=n([]),Pe=n(!0),ae=n(!1),be=(a=!1)=>{a&&(Ae.value=1,Pe.value=!0,W.value=[]),Pe.value&&!ae.value&&(ae.value=!0,Ot({pageNum:Ae.value,pageSize:_t.value,activityId:r.value}).then(t=>{Ae.value+=1,Pe.value=!t.pageInfo.lastPage,W.value=[...W.value,...t.pageList],ae.value=!1}).catch(()=>{ae.value=!1}))},ht=a=>{const t=a.target;Math.ceil(t.scrollLeft+t.clientWidth)>=t.scrollWidth-50&&be()},Ke=n(!1),Qe=()=>{Pt().then(a=>{Ke.value=Number(a.status)===2})};zt(()=>{document.removeEventListener("click",Fe)});const ke=n(!1);Me(async()=>{document.addEventListener("click",Fe,!1),document.addEventListener("langChange",async()=>{await Ee(),be(!0),Me(()=>{te.value.init()})}),V?(me.value="60vw",fe.value="56vw",oe.value.gutter=5,oe.value.speed=50,X.value.forEach(b=>{b.fonts&&b.fonts.forEach(g=>{g.fontSize="2.4vw"})})):(me.value="690px",fe.value="630px",oe.value.gutter=20,oe.value.speed=20),T.value.volume=.25;const{lang:a,token:t,id:i}=p.query;a&&(de.value=a,localStorage.setItem("lang",a)),t&&(k.loading({duration:0}),await H.getUserInfo(!0,t)),i?(r.value=i,r.value&&(await Ee(),w.value&&(await We(!0),D.value&&(Qe(),he(),Ye(),be(!0))))):k(o("\u6682\u65E0\u6D3B\u52A8"))});const Ve=()=>{Y.value.play()};return(a,t)=>{const i=Wt,b=Jt,g=St("LuckyGrid"),x=Ht,z=Lt;return u(),d("div",Cs,[e("div",Is,[N(' <audio :src="bgMp3" autoplay loop="loop" ref="bgAudio"></audio> '),e("audio",{src:$.value,loop:"loop",ref_key:"bgAudio",ref:T},null,8,$s),e("audio",{src:s(m)("activity/turntable/audio/rolling.mp3"),loop:"loop",ref_key:"rollingAudio",ref:f},null,8,Ts),e("audio",{src:s(m)("activity/turntable/audio/click.mp3"),ref_key:"clickAudio",ref:Y},null,8,zs),e("audio",{src:s(m)("activity/turntable/audio/success.mp3"),ref_key:"successAudio",ref:S},null,8,Ss),e("audio",{src:s(m)("activity/turntable/audio/fail.mp3"),ref_key:"failAudio",ref:q},null,8,Ls)]),N(" \u767B\u5F55\u5F39\u7A97 "),A(fs,{modelValue:pe.value,"onUpdate:modelValue":t[0]||(t[0]=c=>pe.value=c),onDone:vt},null,8,["modelValue"]),N(" \u63D0\u793A\u5F39\u7A97 "),A(Ns,{modelValue:M.value,"onUpdate:modelValue":t[1]||(t[1]=c=>M.value=c),"tips-title":U.value,"tips-info":j.value,again:Te.value,times:Be.value,onAgain:t[2]||(t[2]=c=>ze(!1))},null,8,["modelValue","tips-title","tips-info","again","times"]),ke.value?(u(),d("div",As,[e("div",Ps,[A(ss)]),e("div",{class:"play-content",onClick:ct},[e("div",Vs,[e("img",{src:s(m)(F.value?"activity/turntable/icon1.png":"activity/turntable/icon2.png"),alt:""},null,8,Ds)])]),e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/page-header.png")+")"}),class:"page-header"},[e("div",Ms,[e("img",{src:s(m)("activity/turntable/light-left.png"),alt:""},null,8,Hs)]),e("div",Es,[e("img",{src:s(m)("activity/turntable/light-right.png"),alt:""},null,8,Us)]),e("div",js,[e("img",{src:s(m)("activity/turntable/cart.png"),alt:""},null,8,Bs)]),e("div",Rs,[e("img",{src:s(m)("activity/turntable/target.png"),alt:""},null,8,Os)]),e("div",Fs,[e("img",{src:s(m)("activity/turntable/trumpet1.png"),alt:""},null,8,qs)]),e("div",Gs,[e("img",{src:s(m)("activity/turntable/trumpet2.png"),alt:""},null,8,Ws)]),e("h1",null,l(s(o)("\u5F00\u5E97\u8D62\u5927\u5956")),1),e("h1",Js,l(s(o)("\u5F00\u5E97\u8D62\u5927\u5956")),1),e("div",Ys,[e("div",null,l(s(o)("\u5E78\u8FD0\u8F6C\u4E0D\u505C")),1)])],4),e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/page-bg.png")+")"}),class:"page-content"},[e("div",Ks,[e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/machine2.png")+")"}),class:"machine-content"},[e("div",{class:C([{active:Q.value},"img-width rod"])},[e("img",{src:s(m)("activity/turntable/machine1.png"),alt:""},null,8,Qs)],2),e("div",Xs,[A(b,{class:"swiper",autoplay:3e3,"show-indicators":!1,vertical:""},{default:Z(()=>[(u(!0),d(xe,null,Ne(ee.value,c=>(u(),ue(i,{key:c},{default:Z(()=>[e("div",Zs,l(c),1)]),_:2},1024))),128))]),_:1})]),e("div",{class:C(["light-content top left",{active:K.value}])},[...oo],2),e("div",{class:C(["light-content top right",{active:K.value}])},[...io],2),e("div",{class:C(["light-content bottom left",{active:K.value}])},[...vo],2),e("div",{class:C(["light-content bottom right",{active:K.value}])},[...go],2),me.value&&fe.value?(u(),d("div",_o,[A(g,{ref_key:"lotteryCanvas",ref:te,width:me.value,height:fe.value,"default-config":oe.value,"default-style":rt.value,"active-style":dt.value,prizes:s(X),onEnd:ut},null,8,["width","height","default-config","default-style","active-style","prizes"])])):N("v-if",!0),e("div",ho,[e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/start-btn1.png")+")"}),class:C([{active:Se.value,disabled:Q.value},"btn one"]),onClick:t[3]||(t[3]=c=>ze(!1)),onTouchstart:t[4]||(t[4]=c=>qe(!0)),onTouchend:t[5]||(t[5]=c=>Ge(!0))},[e("h3",null,l(s(o)("\u62BDN\u6B21",{times:1})),1),_.value.pointsToNumber?(u(),d("p",yo,l(s(o)("\u6D88\u8017N\u79EF\u5206",{points:_.value.pointsToNumber})),1)):N("v-if",!0)],38),e("div",{style:ie({"background-image":"url("+s(m)("activity/turntable/start-btn2.png")+")"}),class:C([{active:Le.value,disabled:Q.value},"btn two"]),onClick:t[6]||(t[6]=c=>ze(!0)),onTouchstart:t[7]||(t[7]=c=>qe(!1)),onTouchend:t[8]||(t[8]=c=>Ge(!1))},[e("h3",null,l(s(o)("\u62BDN\u6B21",{times:5})),1),_.value.pointsToNumber?(u(),d("p",bo,l(s(o)("\u6D88\u8017N\u79EF\u5206",{points:_.value.pointsToNumber*5})),1)):N("v-if",!0)],38)]),D.value?(u(),d("div",{key:1,class:C([{"is-ar":s(E)},"user-content"])},[e("div",ko,[s(V)?(u(),ue(x,{key:1,color:"#ffffff",background:"rgba(0,0,0,0)",text:y.value+" "+s(o)("\u6B22\u8FCE\u60A8\uFF01")},null,8,["text"])):(u(),d("div",wo,[e("span",null,l(y.value),1),J(" "+l(s(o)("\u6B22\u8FCE\u60A8\uFF01")),1)]))]),e("div",xo,[J(l(s(o)("\u5269\u4F59\u79EF\u5206"))+" ",1),e("span",null,l(G.value),1)])],2)):(u(),d("div",{key:2,class:"user-content login",onClick:t[9]||(t[9]=c=>pe.value=!0)},l(s(o)("\u8BF7\u5148\u767B\u5F55")),1))],4),e("div",No,[Co,Io,$o,e("div",To,l(s(o)("\u6211\u7684\u5956\u54C1")),1),e("div",zo,[e("div",So,[e("h2",null,l(s(Vt)(ge.value)),1),e("p",null,l(s(o)("\u7D2F\u8BA1\u5F69\u91D1")),1),e("div",{class:C({active:ge.value>_.value.minPoints}),onClick:t[10]||(t[10]=c=>Je(2))},l(s(o)("\u9886\u53D6")),3)]),e("div",Lo,[e("h2",null,l(_e.value),1),e("p",null,l(s(o)("\u83B7\u5F97\u5B9E\u7269")),1),e("div",{class:C({active:_e.value}),onClick:t[11]||(t[11]=c=>Je(1))},l(s(o)("\u9886\u53D6")),3)])])]),ye.value?(u(),d("div",Ao,[Po,Vo,Do,e("div",Mo,l(s(o)("\u9080\u8BF7\u597D\u53CB")),1),e("div",Ho,[e("div",Eo,[e("div",Uo,l(ye.value),1),e("div",{class:"btn",onClick:pt},l(s(o)("\u590D\u5236\u94FE\u63A5")),1)]),N(` <p v-html="t('\u6210\u529F\u9080\u8BF7N\u4EBA\uFF0C\u83B7\u5F97N\u79EF\u5206', {num: inviteNumber, points: invitePoints})"></p>
              <p v-html="t('\u6BCF\u9080\u8BF7N\u4E2A\u597D\u53CB\u5F00\u5E97\u53EF\u83B7\u5F97N\u79EF\u5206', {num: 1, points: activityInfo.invitePoints})"></p> `)])])):N("v-if",!0),D.value?(u(),d("div",jo,[Bo,Ro,Oo,e("div",Fo,l(s(o)("\u6211\u7684\u4E2D\u5956")),1),e("div",{class:"content record",onScroll:t[12]||(t[12]=c=>ht(c))},[W.value.length?(u(),d("div",{key:0,class:"record-content",ref_key:"recordContent",ref:gt},[(u(!0),d(xe,null,Ne(W.value,c=>(u(),d("div",{key:c.id,class:"item"},[e("div",qo,[e("img",{src:c.prizeImage||s(re),alt:""},null,8,Go)]),e("p",null,l(c.prizeName),1)]))),128)),ae.value?(u(),d("div",Wo,[A(z,{color:"#ffffff",type:"spinner"})])):N("v-if",!0)],512)):(u(),d("div",Jo,l(s(o)("\u6682\u65E0\u4E2D\u5956\u8BB0\u5F55")),1))],32)])):N("v-if",!0),e("div",Yo,[Ko,Qo,Xo,e("div",Zo,l(s(o)("\u6D3B\u52A8\u89C4\u5219")),1),e("div",ea,[_.value.description?(u(),d("div",{key:0,innerHTML:_.value.description},null,8,ta)):N("v-if",!0)])])])],4)])):N("v-if",!0)])}}}),ha=$e(oa,[["__scopeId","data-v-2b7b83b6"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/views/activityCenter/turntable/index.vue"]]);export{ha as default};
