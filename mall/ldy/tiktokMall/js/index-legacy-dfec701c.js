System.register(["./index-legacy-5ae7697d.js"],(function(o,r){"use strict";var e,a,i,l,n,t,s,d,c,u,v,g,f,h,m,p,y,S,b,w;return{setters:[o=>{e=o.P,a=o.U,i=o.a2,l=o.S,n=o.d,t=o.r,s=o.ak,d=o.H,c=o.ad,u=o.a4,v=o.f,g=o.aU,f=o.a$,h=o.b,m=o.g,p=o.bR,y=o.ai,S=o.p,b=o.I,w=o.Z}],execute:function(){const[r,z]=e("image"),x={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:a,height:a,radius:a,lazyLoad:Boolean,iconSize:a,showError:i,errorIcon:l("photo-fail"),iconPrefix:String,showLoading:i,loadingIcon:l("photo")};var I=n({name:r,props:x,emits:["load","error"],setup(o,{emit:r,slots:e}){const a=t(!1),i=t(!0),l=t(),{$Lazyload:n}=s().proxy,w=d((()=>{const r={width:c(o.width),height:c(o.height)};return u(o.radius)&&(r.overflow="hidden",r.borderRadius=c(o.radius)),r}));v((()=>o.src),(()=>{a.value=!1,i.value=!0}));const x=o=>{i.value=!1,r("load",o)},I=o=>{a.value=!0,i.value=!1,r("error",o)},L=(r,e,a)=>a?a():h(b,{name:r,size:o.iconSize,class:e,classPrefix:o.iconPrefix},null),$=()=>{if(a.value||!o.src)return;const r={alt:o.alt,class:z("img"),style:{objectFit:o.fit,objectPosition:o.position}};return o.lazyLoad?m(h("img",y({ref:l},r),null),[[p("lazy"),o.src]]):h("img",y({src:o.src,onLoad:x,onError:I},r),null)},P=({el:o})=>{const r=()=>{o===l.value&&i.value&&x()};l.value?r():S(r)},k=({el:o})=>{o!==l.value||a.value||I()};return n&&g&&(n.$on("loaded",P),n.$on("error",k),f((()=>{n.$off("loaded",P),n.$off("error",k)}))),()=>{var r;return h("div",{class:z({round:o.round,block:o.block}),style:w.value},[$(),i.value&&o.showLoading?h("div",{class:z("loading")},[L(o.loadingIcon,z("loading-icon"),e.loading)]):a.value&&o.showError?h("div",{class:z("error")},[L(o.errorIcon,z("error-icon"),e.error)]):void 0,null==(r=e.default)?void 0:r.call(e)])}}});o("I",w(I))}}}));
