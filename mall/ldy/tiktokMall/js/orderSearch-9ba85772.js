import{_ as E,a0 as U,v as z,r as l,I as P,b8 as T,c as S,b as g,w as u,q as I,J as y,u as n,n as F,T as h,o as c,b3 as H,a as C,t as j,F as q,s as A,C as J,D as G}from"./index-754777e9.js";import{E as K}from"./index-326b8d79.js";import{P as M}from"./index-9e13e533.js";import{L as O}from"./index-eae9591f.js";import"./index-3cc9e254.js";import"./index-b450e8d5.js";import{S as Q}from"./index-6a96a1dc.js";import{_ as W}from"./search-icon-8ae5f679.js";import{a as X,o as Y}from"./orderItem-06ceac68.js";import"./use-id-f491a022.js";import"./config-22c2c72a.js";import"./index-4a9efcc8.js";const Z=p=>(J("data-v-ae0d1c7a"),p=p(),G(),p),ee=Z(()=>C("img",{class:"search-icon",src:W},null,-1)),ae={key:0,class:"list ml-4 mr-4 mt-4 mb-4"},oe={__name:"orderSearch",setup(p){const V=U(),{t:v}=z.exports.useI18n();let t=l(""),r=l(1);const s=l([]),i=l(!1),d=l(!1),m=l(!1),f=l(!1),b=new URL("/www/png/name-20d65991.png",self.location),N=()=>{r.value=1,t.value="",d.value=!1,i.value=!0,r.value=1,f.value=!1,s.value=[]},w=a=>{t.value?(f.value=!1,d.value=!1,i.value=!0,r.value=1,a&&h.loading({forbidClick:!0,loadingType:"spinner",duration:0}),L()):(h(v("\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7")),i.value=!1,m.value=!1,d.value=!0,s.value=[])},x=()=>{w(!0)},L=()=>{const a={pageNum:r.value,pageSize:20,orderId:t.value};X(a).then(e=>{const{pageInfo:k,pageList:_}=e;s.value=r.value===1?_:[...s.value,..._],i.value=!1,m.value=!1,f.value=!0,d.value=k.lastPage,r.value++,h.clear()}).catch(()=>{h.clear()})};return(a,e)=>{const k=P,_=Q,B=T,R=O,$=M,D=K;return c(),S("div",{class:F(["search-container",{"is-ar":n(V)}])},[g(B,{fixed:"","left-arrow":"",onClickLeft:e[1]||(e[1]=()=>a.$router.back())},{title:u(()=>[g(_,{modelValue:n(t),"onUpdate:modelValue":e[0]||(e[0]=o=>H(t)?t.value=o:t=o),shape:"round",onSearch:x,clearable:!1,placeholder:a.$t("\u8BF7\u8F93\u5165\u8BA2\u5355\u53F7")},{"left-icon":u(()=>[ee]),"right-icon":u(()=>[n(t)?(c(),y(k,{key:0,name:"cross",onClick:N,size:"14",color:"#333333"})):I("v-if",!0)]),_:1},8,["modelValue","placeholder"])]),right:u(()=>[C("div",{onClick:x},j(n(v)("\u641C\u7D22")),1)]),_:1}),s.value.length>0?(c(),S("div",ae,[g($,{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=o=>m.value=o),"loading-text":a.$t("\u52A0\u8F7D\u4E2D"),"loosing-text":a.$t("\u91CA\u653E\u4EE5\u5237\u65B0"),"pulling-text":a.$t("\u4E0B\u62C9\u4EE5\u5237\u65B0"),onRefresh:e[4]||(e[4]=o=>w(!1))},{default:u(()=>[g(R,{loading:i.value,"onUpdate:loading":e[2]||(e[2]=o=>i.value=o),finished:d.value,"finished-text":n(v)("\u6CA1\u6709\u66F4\u591A\u4E86"),onLoad:L},{default:u(()=>[(c(!0),S(q,null,A(s.value,o=>(c(),y(Y,{info:o},null,8,["info"]))),256))]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"])])):I("v-if",!0),!s.value.length&&f.value?(c(),y(D,{key:1,image:n(b).href,description:n(v)("noData")},null,8,["image","description"])):I("v-if",!0)],2)}}},fe=E(oe,[["__scopeId","data-v-ae0d1c7a"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/views/order/orderSearch.vue"]]);export{fe as default};
