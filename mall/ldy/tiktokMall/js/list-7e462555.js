import{_ as ne,a0 as ie,v as ce,$ as ue,k as de,r as o,m as re,z as ve,ap as pe,H as me,I as fe,aQ as ge,c as d,b as h,w as _,a as s,t as c,n as y,u as l,q as m,am as he,T as L,ba as _e,o as u,e as M,F as U,s as T,J as O,aw as ye,C as ke,D as Ae}from"./index-754777e9.js";import{P as be}from"./index-9e13e533.js";import{L as Ie}from"./index-eae9591f.js";import{a as we,g as Se}from"./product.api-954632e9.js";import{e as xe}from"./editProfit-61492b9f.js";import"./index-67619815.js";import"./___vite-browser-external_commonjs-proxy-a1e65de0.js";/* empty css              */import"./index-8b10c6ce.js";import"./index-450e98dc.js";import"./index-3cc9e254.js";import"./index-b450e8d5.js";import"./use-id-f491a022.js";import"./index-48e2f1dc.js";import"./index-7ab10f44.js";import"./function-call-865b2be2.js";import"./index-7c758373.js";const Ze="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2RkExMEI5MkQ1NEMxMUVEQUQ2RDhGQzcyMkRFNDQ2RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2RkExMEI5M0Q1NEMxMUVEQUQ2RDhGQzcyMkRFNDQ2RSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZGQTEwQjkwRDU0QzExRURBRDZEOEZDNzIyREU0NDZFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZGQTEwQjkxRDU0QzExRURBRDZEOEZDNzIyREU0NDZFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++lp+GgAAAvdJREFUeNrUmd1t4kAQxzfWvcepIE4FZwTvcSo4UoFNBSEV4FQQUwFOBXepAHhHiq8Clg7cATcbjXXLZNZe468w0l+KIIYf49n58tXxeBSXZo64QLsaj8dNrvdAAcgHXYNcVA46gCQoA21MH7Db7Wp/6Y8zQBXkFBQioI3lCP4OSvsMDwW7Rj3VABb4v+qHrkB7UNQ1tIveWSN4U/M0eK8LaBWrHxgK3C3fgp5BD6A7dUZQN6AR6BH0hrHNwe8nk8mizYMYGuJPwS5BCf5taxHqnnkvgQP53NTTJuAX9GhcE1jg56nwmjGen4PHV02gfQZY4u0+B5aDV+H0h94J21BxmDj7zQA/YL5tyyTG+5K8HgP4tC50TE50ASw7Km5zPKi6rQDctYWOmCzRJbAOnpEUu7CFXjCHrmtgVcZzDBV6ML0q6IAJi7ivBgjAJTqJ3oFS6Ijxct9G835oim1Hy8u6l9O+iTFM3khs+yZo2k9sBmyVae6e2kK/DwidkRC5N0H7zIWDGIaIJMWOhb5mqtWQ9lePay71OdgAfRfgix1s5SVCezbQ+zoX9GC3zNDxBfrA9NNDml4Fc8woX6AzZuoexDBT+IZMcgJNK+CvAb1sVZ0dpgoFNXcabVpYUdZPssfSti3sMDQC4mkJ8ZyVQSfk9acBMsmrbXvsaGmFtoWrHr08JwdQeTm1KS4xE9vznjLGos4Q4pDy+cLcsrDj6rcmB39b5mWujCdMmkk78ngBTGfT6Jze45FpWl6rxvozUtuHaHFrmhv2HbFovlsuvJsaasHn+2Xrg7IuTwp+FeaJ08W4jadc8X8hv2eqXl4X3OaZS4J5u2yuk9gnSA1UfelPTGWmCrvFHx8wKfbTcbgTqQ0ttA9tq+DkmKmS4kEReDayBbcdAjY4ls0ajmQF7B2twpjmZjahUndySfELR9ivbC2uOeD/qjNyI0p23LbgTZ8j6oODq0kimBQVS3juOWJVqLQF3WTXYSrvJvDRt33MXBIq0T8BBgA0uu1O4qhZPgAAAABJRU5ErkJggg==";const j=S=>(ke("data-v-4cde41b8"),S=S(),Ae(),S),Re={class:"product"},De={class:"dropdown"},Ne={class:"p-2.5 bg-white flex justify-between items-center w-full h-full"},je={class:"text-xs"},Be=j(()=>s("div",{class:"triangle"},null,-1)),Ce={class:"p-2.5 bg-white flex justify-between items-center w-full h-full"},Ee={class:"text-xs"},Ge=j(()=>s("div",{class:"triangle"},null,-1)),Qe={class:"classify-pop-content"},Je={class:"title"},Le={class:"content"},Me=["onClick"],Ue={class:"classify-pop-content"},Te={class:"title"},ze={class:"content"},Fe=["onClick"],Ve={class:"pl-3 pr-3"},We=["onClick"],Xe=j(()=>s("i",{class:"iconfont icon-duigoux"},null,-1)),He=[Xe],Ye={class:"flex-1 flex left"},Oe={class:"product-img-wrap"},Pe=["src"],qe={class:"name"},Ke={class:"Specification"},$e={class:"money"},et=j(()=>s("i",{class:"iconfont icon-duigoux"},null,-1)),tt=[et],st={__name:"list",setup(S){const k=ie(),{t:i}=ce.exports.useI18n();ue();const P=de();o(""),o(!1);let x=o(1),f=o(!1),B=o(!1),A=o([]);const r=o([]),C=o(!1),Z=o(!1),z=o(!1),F=o(!1),v=o(0);re(()=>{sessionStorage.setItem("productReload",!0),q(),X()});const q=async()=>{let e={};await ve().then(g=>{e=g||{}}),await pe().then(g=>{const I=Number(g.status);let w=I;I===2?w=3:I===3&&(w=2),e.authStatus=w});const{avatar:t,name:n,authStatus:p}=e;!t||!n?v.value=1:(p===0||p===1||p===2)&&(v.value=2),F.value=!0},K=()=>{const e=v.value===1?"/shop/settings":"/name";he(e)},$=()=>{B.value=!1},ee=()=>{if(A.value=[],r.value.map(e=>{e.check&&A.value.push(e.id)}),A.value.length>200){L(i("\u4E00\u6B21\u6027\u6700\u591A\u4E0A\u67B6",{maxNum:200}));return}A.value.length?B.value=!0:L(i("\u8BF7\u9009\u62E9\u5546\u54C1"))},V=()=>{x.value=1,r.value=[],E()},E=()=>{let e={pageNum:x.value,pageSize:20};b.value?e.secondaryCategoryId=b.value:e.categoryId=N.value,Se(e).then(t=>{Z.value&&(Z.value=!1),x.value++;for(let n=0;n<t.pageList.length;n++)t.pageList[n].check=!1,r.value.push(t.pageList[n]);C.value=!1,t.pageList.length==0&&(z.value=!0)})},G=o([]),W=o(i("\u4E00\u7EA7\u5206\u7C7B")),Q=o(i("\u4E8C\u7EA7\u5206\u7C7B")),R=o(!1),D=o(!1),N=o(""),b=o(""),X=()=>{we().then(e=>{const t=e||[];t.unshift({name:i("\u5168\u90E8\u5206\u7C7B"),categoryId:"",subList:[]}),G.value=t.filter(n=>n.name)})},te=me(()=>{const e=G.value.find(n=>n.categoryId===N.value);let t=[{name:i("\u5168\u90E8\u5206\u7C7B"),categoryId:""}];if(e&&e.subList&&e.subList.length){const n=e.subList.filter(p=>p.name);t=[...t,...n]}return t}),H=(e,t)=>{t?(W.value=e.name,N.value=e.categoryId,R.value=!1,Q.value=i("\u4E8C\u7EA7\u5206\u7C7B"),b.value=""):(Q.value=e.name,b.value=e.categoryId,D.value=!1),L.loading({duration:0,forbidClick:!0}),f.value=!1,x.value=1,r.value=[],Y(),E()},se=()=>{f.value=!f.value,r.value.map(e=>{f.value?e.check=!0:e.check=!1})},Y=()=>{let e=0;return r.value.map(t=>{t.check&&(e=e+1)}),e},ae=()=>{P.push("/search?id=2")},oe=()=>{f.value=!1,X(),V()},le=e=>{e.check=!e.check;const t=r.value.filter(n=>n.check);f.value=r.value.length===t.length};return(e,t)=>{const n=_e,p=fe,g=ge,I=Ie,w=be;return u(),d("div",Re,[h(n,{fixed:""},{title:_(()=>[M(c(l(i)("product.2")),1)]),right:_(()=>[m(' <img @click="isShow = true" class="nav_filtering_icon" src="@/assets/imgs/product/nav_filtering.png" /> '),s("img",{onClick:ae,class:"nav_filtering_icon",src:Ze})]),_:1}),s("div",De,[s("div",{class:"dropdownitem one h-10.5",onClick:t[0]||(t[0]=a=>R.value=!0)},[s("div",Ne,[s("span",je,c(W.value),1),Be])]),s("div",{class:"dropdownitem one h-10.5",onClick:t[1]||(t[1]=a=>D.value=!0)},[s("div",Ce,[s("span",Ee,c(Q.value),1),Ge])])]),h(g,{show:R.value,"onUpdate:show":t[2]||(t[2]=a=>R.value=a),round:""},{default:_(()=>[s("div",Qe,[s("div",Je,c(l(i)("\u4E00\u7EA7\u5206\u7C7B")),1),s("div",Le,[(u(!0),d(U,null,T(G.value,a=>(u(),d("div",{key:a.categoryId,class:"classify-item",onClick:J=>H(a,!0)},[M(c(a.name)+" ",1),N.value===a.categoryId?(u(),O(p,{key:0,name:"success",class:"yes"})):m("v-if",!0)],8,Me))),128))])])]),_:1},8,["show"]),h(g,{show:D.value,"onUpdate:show":t[3]||(t[3]=a=>D.value=a),round:""},{default:_(()=>[s("div",Ue,[s("div",Te,c(l(i)("\u4E8C\u7EA7\u5206\u7C7B")),1),s("div",ze,[(u(!0),d(U,null,T(te.value,a=>(u(),d("div",{key:a.categoryId,class:"classify-item",onClick:J=>H(a,!1)},[M(c(a.name)+" ",1),b.value===a.categoryId?(u(),O(p,{key:0,name:"success",class:"yes"})):m("v-if",!0)],8,Fe))),128))])])]),_:1},8,["show"]),s("div",{class:y(["list mt-4 mb-4",l(k)?"ml-4":"mr-4"])},[h(w,{"loading-text":e.$t("\u52A0\u8F7D\u4E2D"),"loosing-text":e.$t("\u91CA\u653E\u4EE5\u5237\u65B0"),"pulling-text":e.$t("\u4E0B\u62C9\u4EE5\u5237\u65B0"),modelValue:Z.value,"onUpdate:modelValue":t[5]||(t[5]=a=>Z.value=a),onRefresh:V},{default:_(()=>[h(I,{loading:C.value,"onUpdate:loading":t[4]||(t[4]=a=>C.value=a),"loading-text":e.$t("\u52A0\u8F7D\u4E2D"),finished:z.value,"finished-text":l(i)("product.3"),onLoad:E},{default:_(()=>[(u(!0),d(U,null,T(r.value,(a,J)=>(u(),d("div",{class:"item pb-3 pt-3 flex",key:J},[s("div",Ve,[s("div",{class:y(["check-icon",[a.check?"check-true ":"check"]]),onClick:at=>le(a)},[...He],10,We)]),s("div",Ye,[s("div",Oe,[s("img",{class:"w-20 h-20",style:{"object-fit":"contain"},src:a.imgUrl1},null,8,Pe)]),s("div",{class:y(["product-info",{"is-ar":l(k)}])},[s("div",qe,c(a.name),1),s("div",Ke,[s("span",null,c(a.categoryName),1),m(" <span>{{t('product.4')}}: {{item.unit || '-'}}</span> "),m(" <span>Sales: {{1000}}</span> ")]),s("div",$e,"$"+c(l(ye)(a.systemPrice)),1)],2)])]))),128))]),_:1},8,["loading","loading-text","finished","finished-text"])]),_:1},8,["loading-text","loosing-text","pulling-text","modelValue"]),F.value?(u(),d("div",{key:0,class:y(["flex fixed-wrap",{"pl-3":!l(k)&&!v.value,"pr-3":l(k)&&!v.value}])},[v.value?m("v-if",!0):(u(),d("div",{key:0,class:"flex-1 flex",onClick:se},[s("div",{class:y(["check-icon",[l(f)?"check-true ":"check"]])},[...tt],2),s("div",{class:y(l(k)?"pr-2":"pl-2")},c(l(i)("product.5"))+": "+c(Y()),3)])),v.value?(u(),d("div",{key:2,class:"submit-but disabled",onClick:K},c(v.value===1?l(i)("product.34"):l(i)("product.35")),1)):(u(),d("div",{key:1,class:"submit-but",onClick:ee},c(l(i)("product.6")),1))],2)):m("v-if",!0)],2),m(` <van-action-sheet v-model:show="isShow"  :title="t('product.7')" :actions="categoryOneArry" @select="onSelect" /> `),h(xe,{isEdit:l(B),onUpdate:oe,productArry:l(A),onClose:$},null,8,["isEdit","productArry"])])}}},At=ne(st,[["__scopeId","data-v-4cde41b8"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/views/product/list.vue"]]);export{At as default};
