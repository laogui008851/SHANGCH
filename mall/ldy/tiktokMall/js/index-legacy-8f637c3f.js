System.register(["./index-legacy-5ae7697d.js"],(function(e,t){"use strict";var a,s,n,r,i,l,o,u,d,h,c,p,v,f,g,m=document.createElement("style");return m.textContent=":root{--van-pull-refresh-head-height: 50px;--van-pull-refresh-head-font-size: var(--van-font-size-md);--van-pull-refresh-head-text-color: var(--van-text-color-2);--van-pull-refresh-loading-icon-size: 16px }.van-pull-refresh{overflow:hidden}.van-pull-refresh__track{position:relative;height:100%;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.van-pull-refresh__head{position:absolute;left:0;width:100%;height:var(--van-pull-refresh-head-height);overflow:hidden;color:var(--van-pull-refresh-head-text-color);font-size:var(--van-pull-refresh-head-font-size);line-height:var(--van-pull-refresh-head-height);text-align:center;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.van-pull-refresh__loading .van-loading__spinner{width:var(--van-pull-refresh-loading-icon-size);height:var(--van-pull-refresh-loading-icon-size)}\n",document.head.appendChild(m),{setters:[e=>{a=e.P,s=e.aa,n=e.U,r=e.d,i=e.r,l=e.ab,o=e.l,u=e.aG,d=e.f,h=e.b,c=e.Y,p=e.X,v=e.p,f=e.aH,g=e.Z}],execute:function(){const[t,m,x]=a("pull-refresh"),b=["pulling","loosing","success"],T={disabled:Boolean,modelValue:Boolean,headHeight:s(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:n,successDuration:s(500),animationDuration:s(300)};var w=r({name:t,props:T,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:a}){let s;const n=i(),r=i(),g=l.useScrollParent(n),T=o({status:"normal",distance:0,duration:0}),w=u(),y=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},D=()=>"loading"!==T.status&&"success"!==T.status&&!e.disabled,H=(a,s)=>{const n=+(e.pullDistance||e.headHeight);T.distance=a,T.status=s?"loading":0===a?"normal":a<n?"pulling":"loosing",t("change",{status:T.status,distance:a})},_=()=>{const{status:t}=T;return"normal"===t?"":e[`${t}Text`]||x(t)},k=()=>{const{status:e,distance:t}=T;if(a[e])return a[e]({distance:t});const s=[];return b.includes(e)&&s.push(h("div",{class:m("text")},[_()])),"loading"===e&&s.push(h(c,{class:m("loading")},{default:_})),s},z=e=>{s=0===f(g.value),s&&(T.duration=0,w.start(e))},S=e=>{D()&&z(e)},V=()=>{s&&w.deltaY.value&&D()&&(T.duration=+e.animationDuration,"loosing"===T.status?(H(+e.headHeight,!0),t("update:modelValue",!0),v((()=>t("refresh")))):H(0))};return d((()=>e.modelValue),(t=>{T.duration=+e.animationDuration,t?H(+e.headHeight,!0):a.success||e.successText?(T.status="success",setTimeout((()=>{H(0)}),+e.successDuration)):H(0,!1)})),l.useEventListener("touchmove",(t=>{if(D()){s||z(t);const{deltaY:a}=w;w.move(t),s&&a.value>=0&&w.isVertical()&&(p(t),H((t=>{const a=+(e.pullDistance||e.headHeight);return t>a&&(t=t<2*a?a+(t-a)/2:1.5*a+(t-2*a)/4),Math.round(t)})(a.value)))}}),{target:r}),()=>{var e;const t={transitionDuration:`${T.duration}ms`,transform:T.distance?`translate3d(0,${T.distance}px, 0)`:""};return h("div",{ref:n,class:m()},[h("div",{ref:r,class:m("track"),style:t,onTouchstartPassive:S,onTouchend:V,onTouchcancel:V},[h("div",{class:m("head"),style:y()},[k()]),null==(e=a.default)?void 0:e.call(a)])])}}});e("P",g(w))}}}));
