import{_ as N,d as T,v as V,r as u,i as F,a0 as P,f as D,H as K,p as z,m as A,aw as H,am as L,c as p,b as w,w as f,F as E,s as U,q as $,J as B,T as g,bd as M,be as R,ba as W,o as l,e as c,t as s,a,n as j,C as q,D as J}from"./index-754777e9.js";import{A as G}from"./index-79dc697d.js";import{P as O,N as Q}from"./index-addb63b1.js";import{E as X}from"./index-326b8d79.js";/* empty css              */import{B as Y}from"./index-7c758373.js";import{D as Z}from"./function-call-865b2be2.js";import"./use-id-f491a022.js";const x=T({name:"ShopMarketing",setup(){const{t:e}=V.exports.useI18n(),n=new URL("/www/png/name-20d65991.png",self.location),y=u([]),h=F(),r=u(""),_=u(),d=u(!1),i=u(!1),m=u(!0),b=P();D(d,t=>{t||(r.value="")});const k=K(()=>{const t=r.value;return String(t).length<6}),S=t=>{var I;Boolean(Number((I=h==null?void 0:h.userInfo)==null?void 0:I.safeword))?(_.value=t,d.value=!0,C.value=!0):Z.confirm({title:e("dialogTips"),message:e("shopSafeWord"),cancelButtonText:e("cancel"),confirmButtonText:e("gotoSet"),confirmButtonColor:"#1552F0",cancelButtonColor:"#999"}).then(()=>{L("/fundsPasswordSettings")}).catch(()=>{console.log("cancel")})},o=()=>{g.loading({duration:0,forbidClick:!1}),i.value=!0;const t={id:_.value.id,safeword:r.value};M(t).then(()=>{g.success(e("shopBuySuc")),i.value=!1,d.value=!1,v()}).catch(()=>{i.value=!1})},v=()=>{R().then(t=>{y.value=t.line||[],g.clear(),m.value=!1}).catch(()=>{g.clear(),m.value=!1})},C=u(!0);return D(()=>r.value,t=>{t.length===6&&(o(),d.value=!1,r.value="")}),z(()=>{g.loading({duration:0,message:e("loading"),forbidClick:!0}),v()}),A(()=>{document.addEventListener("langChange",()=>{v()})}),{isArLang:b,listData:y,passwordShow:d,safewordInput:r,computedSafeWord:k,empytImg:n,loading:i,pageLoading:m,t:e,buyHandle:S,buySureHandle:o,numberStrFormat:H,openPage:L,showKeyboard:C}}}),ee=e=>(q("data-v-026fd628"),e=e(),J(),e),oe=ee(()=>a("div",{style:{height:"46px"}},null,-1)),se={key:0,class:"marketing-content"},ae={class:"icon"},ne=["src"],te={key:0},le={key:1},re={style:{height:"22rem"}};function de(e,n,y,h,r,_){const d=W,i=Y,m=X,b=O,k=Q,S=G;return l(),p("div",null,[w(d,{fixed:!0},{title:f(()=>[c(s(e.t("throughCar")),1)]),right:f(()=>[a("p",{onClick:n[0]||(n[0]=o=>e.openPage("/shop/marketing/record"))},s(e.t("shopBuyRecord")),1)]),_:1}),oe,e.listData.length?(l(),p("div",se,[(l(!0),p(E,null,U(e.listData,o=>(l(),p("div",{key:o.id,class:"item"},[a("div",ae,[a("img",{src:o.icon,alt:""},null,8,ne)]),a("div",{class:j(["info",{"is-ar":e.isArLang}])},[a("h3",null,s(o.name),1),a("p",null,[c(s(e.t("\u53EF\u63A8\u5E7F\u4EA7\u54C1\u6570")),1),a("span",null,s(o.count),1)]),a("p",null,s(o.desc1),1),a("div",null,[e.isArLang?(l(),p("p",te,[c("$"+s(e.numberStrFormat(o.prize)),1),a("span",null,"/"+s(e.t("days"))+s(o.per),1)])):(l(),p("p",le,[c("$"+s(e.numberStrFormat(o.prize)),1),a("span",null,"/"+s(o.per)+s(e.t("days")),1)])),o.count?(l(),B(i,{key:2,type:"primary",size:"small",onClick:v=>e.buyHandle(o)},{default:f(()=>[c(s(e.t("shopBuyNow")),1)]),_:2},1032,["onClick"])):(l(),B(i,{key:3,type:"default",disabled:"",size:"small"},{default:f(()=>[c(s(e.t("\u8D2D\u4E70\u8FBE\u4E0A\u9650")),1)]),_:1}))])],2)]))),128))])):$("v-if",!0),!e.listData.length&&!e.pageLoading?(l(),B(m,{key:1,image:e.empytImg.href,description:e.t("noData")},null,8,["image","description"])):$("v-if",!0),w(S,{show:e.passwordShow,"onUpdate:show":n[4]||(n[4]=o=>e.passwordShow=o),title:e.t("shopSafeTips")},{default:f(()=>[a("div",re,[w(b,{length:6,value:e.safewordInput,focused:e.showKeyboard,onFocus:n[1]||(n[1]=o=>e.showKeyboard=!0)},null,8,["value","focused"]),w(k,{modelValue:e.safewordInput,"onUpdate:modelValue":n[2]||(n[2]=o=>e.safewordInput=o),show:e.showKeyboard,onBlur:n[3]||(n[3]=o=>e.showKeyboard=!1)},null,8,["modelValue","show"])])]),_:1},8,["show","title"])])}const we=N(x,[["render",de],["__scopeId","data-v-026fd628"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/views/shop/marketing/index.vue"]]);export{we as default};
