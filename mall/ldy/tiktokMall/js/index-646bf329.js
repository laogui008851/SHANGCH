import{_ as N,d as R,v as V,$ as k,r as l,aA as x,c as f,b as c,w as v,ba as C,o as r,e as S,t as b,F as T,s as $,J as I,q as L,C as B,D as E,a as G}from"./index-754777e9.js";import{P}from"./index-9e13e533.js";import{L as U}from"./index-eae9591f.js";import{E as q}from"./index-326b8d79.js";import{G as F}from"./GoodsItem-e1127465.js";import{m as j}from"./product.api-954632e9.js";import"./use-id-f491a022.js";import"./index-67619815.js";import"./___vite-browser-external_commonjs-proxy-a1e65de0.js";const z=R({name:"ShopClass",components:{GoodsItem:F},setup(){const{t:e}=V.exports.useI18n(),a=k(),g=l(""),{name:d,id:p,sellerId:u}=a.query,m=new URL("/www/png/name-20d65991.png",self.location),i=l([]),s=l(!1),o=l(!0),n=l(!1),t=l({pageNum:1,pageSize:20}),h=()=>{if(d&&p&&u){const w={...t.value,categoryId:p,sellerId:u};j(w).then(_=>{const y=_.pageList||[];i.value=t.value.pageNum===1?y:[...i.value,...y],t.value.pageNum++,o.value=!1,s.value=!1,n.value=_.pageInfo.lastPage}).catch(()=>{n.value=!0,o.value=!1,s.value=!1})}else n.value=!0,o.value=!1,s.value=!1},D=()=>{o.value=!0,t.value.pageNum=1,h()};return d&&p&&u&&(g.value=d),{t:e,pageTitle:g,listData:i,refreshing:s,loading:o,finished:n,empytImg:m,getListData:h,onRefresh:D}}}),A=e=>(B("data-v-7477504b"),e=e(),E(),e),H=A(()=>G("div",{style:{height:"46px"}},null,-1)),J={key:0,class:"list-content"};function K(e,a,g,d,p,u){const m=C,i=x("goods-item"),s=q,o=U,n=P;return r(),f("div",null,[c(m,{fixed:!0},{title:v(()=>[S(b(e.pageTitle),1)]),_:1}),H,c(n,{modelValue:e.refreshing,"onUpdate:modelValue":a[1]||(a[1]=t=>e.refreshing=t),"pulling-text":e.t("pullingText"),"loosing-text":e.t("loosingText"),"loading-text":e.t("loading"),onRefresh:e.onRefresh},{default:v(()=>[c(o,{loading:e.loading,"onUpdate:loading":a[0]||(a[0]=t=>e.loading=t),finished:e.finished,"loading-text":e.t("loading"),"finished-text":e.t("product.3"),onLoad:e.getListData},{default:v(()=>[e.listData.length?(r(),f("div",J,[(r(!0),f(T,null,$(e.listData,t=>(r(),I(i,{key:t.id,"goods-data":t},null,8,["goods-data"]))),128))])):L("v-if",!0),!e.listData.length&&!e.loading?(r(),I(s,{key:1,image:e.empytImg.href,description:e.t("noData")},null,8,["image","description"])):L("v-if",!0)]),_:1},8,["loading","finished","loading-text","finished-text","onLoad"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text","onRefresh"])])}const oe=N(z,[["render",K],["__scopeId","data-v-7477504b"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/views/shop/class/index.vue"]]);export{oe as default};
