import{_ as V,v as k,al as b,r as m,H as D,o as v,c as p,a as o,t as x,u as h,g as w,h as $,F as B,s as H,n as N,p as I,T as g,bZ as S,b as T}from"./index-754777e9.js";import{c as C}from"./countryList-016fc82e.js";const L={class:"code-content"},j={class:"title"},F={class:"search-content"},O={class:"content"},U=["placeholder"],z={class:"scroll-content"},A={class:"countries-content"},E=["onClick"],M={class:"name"},R={__name:"CountryDialog",props:{modelValue:{type:Boolean,default:!1},countries:{type:Array,default:()=>[]}},emits:["update:modelValue","done"],setup(l,{emit:y}){const{t:c}=k.exports.useI18n(),u=y,f=l,{countries:i}=b(f),s=m(""),d=D(()=>{const a=i.value.filter(t=>{const e=s.value.toLowerCase();return t.countryName.toLowerCase().indexOf(e)>-1});return s.value?a:i.value}),n=()=>{u("update:modelValue",!1)},r=a=>{u("done",a),n()};return(a,t)=>(v(),p("div",{class:N([{active:l.modelValue},"area-code-dialog"])},[o("div",L,[o("div",j,x(h(c)("selectNation")),1),o("div",F,[o("div",O,[w(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),type:"text",placeholder:h(c)("entrynational")},null,8,U),[[$,s.value]])])]),o("div",z,[o("div",A,[(v(!0),p(B,null,H(d.value,e=>(v(),p("div",{key:e.code,class:"item",onClick:_=>r(e)},[o("div",M,x(e.countryName),1)],8,E))),128))])])]),o("div",{class:"code-bg",onClick:n})],2))}},Z=V(R,[["__scopeId","data-v-e93d9969"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/components/country-select/components/CountryDialog.vue"]]);const q={__name:"index",props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(l,{emit:y}){const{t:c}=k.exports.useI18n(),u=y,f=l,{modelValue:i}=b(f),s=m([]),d=m(!1),n=m(!1),r=D(()=>{if(d.value){const t=s.value.find(e=>e.id===i.value);if(t)return t.countryName;for(const e in C)if(Number(C[e].dialCode)===Number(i.value))return C[e].name;return""}else return""}),a=t=>{u("update:modelValue",t.id),u("done",t)};return I(async()=>{g.loading({duration:0,message:c("loading"),forbidClick:!0}),await S().then(t=>{s.value=t.data||[],d.value=!0,g.clear()}).catch(()=>{g.clear()})}),(t,e)=>(v(),p("div",null,[T(Z,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=_=>n.value=_),countries:s.value,onDone:a},null,8,["modelValue","countries"]),o("div",{class:N([{empty:!r.value,disabled:l.disabled},"input-item"]),onClick:e[1]||(e[1]=_=>n.value=!0)},x(r.value||h(c)("selectNation")),3)]))}},K=V(q,[["__scopeId","data-v-20a90537"],["__file","/mnt/e/\u7F16\u8BD1\u540E/\u524D\u7AEF/H5-\u5546\u5BB6/src/components/country-select/index.vue"]]);export{K as C};
