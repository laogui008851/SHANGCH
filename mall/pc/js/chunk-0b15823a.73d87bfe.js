(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0b15823a"],{"63c2":function(t,a,e){},bb53:function(t,a,e){e.r(a),e("1a5c"),e("318b");var i=e("365c"),s=e("60d7"),n=e("8209");s={name:"SearchGoods",components:{EsProductView:s.a,EsSortView:n.a},data(){return{keyword:"",pageLoading:!0,pageNum:1,pageSize:12,total:0,listData:[],isSort:!0,isLoad:!1,params:{},key:""}},activated(){var t=this.$route.query.k;this.keyword=t,this.$nextTick(()=>{this.pageInit()})},methods:{sortEvent(t){this.params=t,this.pageNum=1,this.getData(t)},pageInit(){this.keyword?this.isLoad||(this.getData(),this.isSort=!1,setTimeout(()=>{this.isSort=!0},100)):this.$router.push("/")},getData(t=0){var a;this.pageLoading=!0,this.keyword&&(-1!==this.keyword.indexOf("&")||-1!==this.keyword.indexOf("#")?(a=JSON.parse(this.keyword),this.key=String(encodeURIComponent(a)).trim()):(a=JSON.parse(this.keyword),this.key=String(a).trim()),Object(i.N)({keyword:this.key,pageNum:this.pageNum,pageSize:this.pageSize}).then(t=>{var{pageList:t,pageInfo:a}=t.data;this.total=a.totalElements,t.length?this.listData=t:this.listData=[],this.pageLoading=!1}).catch(()=>{this.pageLoading=!1}))},currentChange(t){this.pageNum=t,this.getData(this.params)}},watch:{$route(t,a){this.isLoad="/productDetails"===a.path}}},e("e306"),n=e("cea0"),e=Object(n.a)(s,(function(){var t=this,a=t._self._c;return a("div",[a("EsHeaderView",{on:{reload:t.pageInit}}),a("div",{staticClass:"app-container"},[t.isSort?a("EsSortView",{attrs:{"hide-new":!1},on:{sort:t.sortEvent}}):t._e(),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.pageLoading,expression:"pageLoading"}],staticClass:"store-content-main"},[t.listData.length?a("div",{staticClass:"content"},t._l(t.listData,(function(t){return a("div",{key:t.id,staticClass:"item"},[a("EsProductView",{attrs:{item:t}})],1)})),0):t._e(),t.listData.length?a("div",{staticClass:"content-pagination"},[a("el-pagination",{staticClass:"es-pagination",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.pageNum,total:t.total},on:{"current-change":t.currentChange}})],1):t._e(),t.listData.length||t.pageLoading?t._e():a("el-empty",{attrs:{description:t.$t("message.home.noData")}})],1)],1),a("EsFooterView")],1)}),[],!1,null,"71bc6d69",null);a.default=e.exports},e306:function(t,a,e){e("63c2")}}]);