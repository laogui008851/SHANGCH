(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-945847c0"],{"942e":function(e,t,s){s("e15b")},b325:function(e,t,s){s.r(t),s("247d"),s("6a9f"),s("1a5c"),s("3e8e");var a=s("107a"),i=s("6eef"),r=s("4260"),o=s("49d8"),n=s("f8b7");o={mixins:[o.a],data(){return{orderGoodsList:[],pageNum:1,pageSize:3,total:0}},mounted(){var e;null!=(e=this.$route.query)&&e.orderId?(this.requestData(),this.getList()):this.$message({type:"error",message:this.$t("message.home.paramError")})},watch:{$route:function(e,t){}},computed:{...Object(i.c)({orderDetails:"order/orderDetails",orderGoods:"order/orderGoods"}),getOrderPrefix(){let e=0;return Array.isArray(this.orderGoods)&&this.orderGoods.forEach(t=>{e+=(t.goodsReal+t.fees+t.tax)*t.goodsNum}),Object(r.f)(e)}},methods:{getOrderStatusLable:a.c,numberFormat:r.f,phoneNumber:r.i,...Object(i.b)({requestOrderDetailsList:"order/requestOrderDetailsList",requestOrderGoodsList:"order/requestOrderGoodsList"}),goToDetail(e){1==localStorage.getItem("orderStatus")?this.$router.push({name:"productDetails",query:{id:e}}):this.$message({type:"warning",message:this.$t("message.home.productAvailable")})},async requestData(){try{this.loading=!0,await this.requestOrderDetailsList({orderId:this.orderId,type:1}),await this.requestOrderGoodsList({orderId:this.orderId}),this.currentOrderInfo=this.orderDetails}finally{this.loading=!1}},async getList(){var{pageInfo:e,pageList:t}=(await Object(n.f)({orderId:this.orderId,pageNum:this.pageNum,pageSize:this.pageSize})).data;this.total=e.totalElements,this.orderGoodsList=t},currentChange(e){this.pageNum=e,this.getList()},goBack(){this.$router.push("/userInfo/my-order")},getStatusButtons(e){switch(e){case-1:return[];case 0:return[this.payButton,this.cancelButton];case 1:case 2:return[this.sendInfoButton,this.returnPayButton];case 3:return[this.confirmButton,this.queryLogisticsButton,this.returnPayButton];case 4:return[this.evaluateButton,this.queryLogisticsButton];case 5:case 6:return[this.queryLogisticsButton]}}}},s("942e"),a=s("cea0"),i=Object(a.a)(o,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"detail_container"},[t("div",{staticClass:"page-title",staticStyle:{cursor:"pointer"},on:{click:e.goBack}},[t("i",{staticClass:"el-icon-arrow-left"}),e._v(" "+e._s(e.$t("message.home.myOrder"))+"/"+e._s(e.$t("message.home.orderInfo"))+" ")]),t("div",{staticClass:"detail_container"},[t("div",{staticClass:"left"},[t("div",[t("span",{staticClass:"info_title"},[e._v(e._s(e.$t("message.home.productInfo")))]),e._l(e.orderGoodsList,(function(s){return t("div",{key:s.goodsId+Math.random(),staticClass:"product_info"},[t("el-image",{staticClass:"img",staticStyle:{width:"62px",height:"62px"},attrs:{src:s.goodsIcon,fit:"scale-down"}}),t("div",{staticClass:"prodesc"},[t("span",{staticClass:"tit",on:{click:()=>e.goToDetail(s.goodsId,s.isShelf,s.isValid)}},[e._v(" "+e._s(s.goodsName)+" ")]),t("div",{staticClass:"price"},[t("span",{staticClass:"real_price"},[e._v(" $"+e._s(e.numberFormat(s.sellingPrice))+" ")]),t("span",{staticClass:"num"},[e._v(" x"+e._s(s.goodsNum)+" ")])]),s.attributes&&0<s.attributes.length?t("span",{staticClass:"attr"},[e._v(" "+e._s(s.attributes.map(e=>e.attrName+":"+e.attrValue).join(" "))+" ")]):e._e()]),t("div",{staticClass:"delivery"}),t("div",{staticClass:"fees"},[t("span",{staticClass:"desc"},[e._v(" "+e._s(e.$t("message.home.totalPrice"))+" : "+e._s(e.numberFormat(e.$big(s.sellingPrice).plus(s.tax).plus(s.fees).times(s.goodsNum)))+" ")]),t("span",{staticClass:"desc"},[e._v(" "+e._s(e.$t("message.home.discount"))+" : -$"+e._s(e.numberFormat(e.$big(s.sellingPrice).minus(s.goodsReal).times(s.goodsNum)))+" ")]),t("span",{staticClass:"desc"},[e._v(" "+e._s(e.$t("message.home.tax"))+" : $"+e._s(e.numberFormat(e.$big(s.tax).times(s.goodsNum)))+" ")]),t("span",{staticClass:"desc"},[e._v(" "+e._s(e.$t("message.home.goodsFreight"))+" : $"+e._s(e.numberFormat(e.$big(s.fees).times(s.goodsNum)))+" ")]),t("span",{staticClass:"desc total_Desc"},[e._v(" "+e._s(e.$t("message.home.totalNum"))+" :$"+e._s(e.numberFormat(e.$big(s.goodsReal).plus(s.tax).plus(s.fees).times(s.goodsNum)))+" ")])])],1)}))],2),e.orderGoodsList.length?t("div",{staticClass:"commodity-content-pagination"},[t("el-pagination",{staticClass:"es-pagination",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.pageNum,total:e.total},on:{"current-change":e.currentChange}})],1):e._e()]),t("div",{staticClass:"right"},[t("span",{staticClass:"info_title",staticStyle:{"margin-bottom":"17px"}},[e._v(" "+e._s(e.$t("message.home.orderInfo"))+" ")]),t("div",{staticClass:"order_box boxMargin"},[t("span",{staticClass:"orderFont"},[e._v(e._s(e.$t("message.home.serialNumber"))+" : "+e._s(e.orderDetails.id)+" "),t("i",{staticClass:"el-icon-copy-document",staticStyle:{cursor:"pointer"},on:{click:e.copy}})]),t("span",{staticClass:"orderFont"},[e._v(e._s(e.$t("message.home.orderTime"))+" : "+e._s(e.$formatZoneDate(e.orderDetails.createTime)))]),t("span",{staticClass:"orderFont"},[e._v(e._s(e.$t("message.home.orderStatus"))+" : "),t("span",{staticStyle:{color:"#e4111f"}},[e._v(e._s(e.getOrderStatusLable(e.orderDetails.status)))])])]),t("div",{staticClass:"order_box boxMargin"},[t("span",{staticStyle:{"font-weight":"500","font-size":"14px","margin-bottom":"10px"}},[e._v(e._s(e.$t("message.home.receiver")))]),t("span",{staticStyle:{"font-weight":"500","font-size":"12px"}},[e._v(" "+e._s(e.orderDetails.contacts)+" "+e._s(e.phoneNumber(e.orderDetails.phone)))]),t("span",{staticStyle:{"font-weight":"500","font-size":"12px",color:"#999999","margin-bottom":"10px"}},[e._v(e._s(e.orderDetails.address))])]),t("div",{staticClass:"order_box"},[t("div",{staticClass:"flex_row_between",staticStyle:{"font-weight":"600","font-size":"12px",margin:"20px 14px 0px 14px"}},[t("span",[e._v(e._s(e.$t("message.home.orderPrefix")))]),t("span",[e._v(" $"+e._s(e.numberFormat(e.orderDetails.prizeOriginal))+" ")])]),t("span",{staticClass:"flex_row_between item_line"},[e._v(" "+e._s(e.$t("message.home.discount"))+" "),t("span",[e._v("-$"+e._s(e.numberFormat(e.orderDetails.discount)))])]),t("div",{staticClass:"flex_row_between item_line"},[t("span",[e._v(e._s(e.$t("message.home.tax"))+" ")]),e._v("+$"+e._s(e.orderDetails.tax)+" ")]),t("div",{staticClass:"flex_row_between item_line"},[t("span",[e._v(" "+e._s(e.$t("message.home.goodsFreight"))+" ")]),t("span",[e._v("+$"+e._s(e.orderDetails.fees))])]),t("div",{staticStyle:{"margin-left":"14px","margin-right":"14px"}},[t("el-divider")],1),t("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"flex-end","margin-right":"14px","margin-left":"14px"}},[t("span",{staticStyle:{"font-weight":"400","font-size":"12px"}},[e._v(e._s(e.$t("message.home.totalNum"))+" : "),t("span",{staticClass:"real_price"},[e._v("$"+e._s(e.numberFormat(e.$big(e.orderDetails.prizeReal).plus(e.orderDetails.fees).plus(e.orderDetails.tax))))])])]),t("div",{staticStyle:{display:"flex","justify-content":"space-between","flex-wrap":"wrap",margin:"0 10px","margin-bottom":"24px"}},e._l(e.getStatusButtons(e.orderDetails.status),(function(s){return t("div",{key:s.key,staticClass:"button",class:[s.activity?"active":""],on:{click:s.func}},[e._v(" "+e._s(s.text)+" ")])})),0)])])]),t("order-logistics-dialog",{attrs:{currentOrderInfo:e.currentOrderInfo,refresh:e.requestData},model:{value:e.logisticsDialogVisible,callback:function(t){e.logisticsDialogVisible=t},expression:"logisticsDialogVisible"}}),t("order-payment-dialog",{attrs:{currentOrderInfo:e.currentOrderInfo,refresh:e.requestData},on:{closePay:e.closePayDialog},model:{value:e.paymentDialogVisible,callback:function(t){e.paymentDialogVisible=t},expression:"paymentDialogVisible"}}),t("order-cancel-dialog",{attrs:{currentOrderInfo:e.currentOrderInfo,refresh:e.requestData},model:{value:e.cancelDialogVisible,callback:function(t){e.cancelDialogVisible=t},expression:"cancelDialogVisible"}})],1)}),[],!1,null,"0bdf0645",null);t.default=i.exports},e15b:function(e,t,s){}}]);