"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[125],{80125:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"service-box",style:t.isApp?{height:"93%"}:null},[e("div",{staticClass:"back",on:{click:function(e){return t.$router.go(-1)}}}),e("iframe",{ref:"frame",class:[this.localIsList&&"local_list"],attrs:{src:t.serviceUrl,frameborder:"0",width:"100%",height:"100%"}})])},i=[],r=(s(65825),s(19858)),n=s(63822),a={name:"CustomerService",data(){return{isFirstRequest:!0,token:"",serviceUrl:"",pageHeight:"",lang:"",sellerId:"",storeName:"",isApp:!!window.plus,path:"",localIsList:!1,isShowIcon:!1}},components:{[r.Z.name]:r.Z},computed:{...(0,n.Se)({userInfo:"userInfo"})},mounted(){this.init()},methods:{onClickLeft(){this.$router.push("/")},onClickRight(){const t={NODE_ENV:"production",VUE_APP_ITEM_NAME:"INT Overstock",VUE_APP_MAIN_COLOR:"#1A4E8A",VUE_APP_FOOTER_COLOR:"#0079D2",BASE_URL:"./"}.VUE_APP_IS_APP?this.$store.state.multiItem["INT Overstock"].app_url:location.origin;this.$refs.frame.contentWindow.postMessage("toContacts",t)},init(){this.token=localStorage.getItem("token"),this.lang=localStorage.getItem("lang"),this.pageHeight=document.documentElement.clientHeight-44,this.sellerId=this.$route.query?.path?"":localStorage.getItem("sellerId"),this.storeName=this.$route.query?.path?"":localStorage.getItem("storeName");const t=this.$route.query?.path?this.$t("消息"):sessionStorage.getItem("shopName"),e=this.$route.query?.goodsId,s={NODE_ENV:"production",VUE_APP_ITEM_NAME:"INT Overstock",VUE_APP_MAIN_COLOR:"#1A4E8A",VUE_APP_FOOTER_COLOR:"#0079D2",BASE_URL:"./"}.VUE_APP_IS_APP?this.$store.state.multiItem["INT Overstock"].app_url:location.origin,o=this.sellerId?`?partyid=${this.sellerId}&name=${this.storeName}&token=${this.token}&lang=${this.lang}&height=${this.pageHeight}px`:`?token=${this.token}&lang=${this.lang}&height=100%`;this.serviceUrl=`${s}/chat/#/h5/${this.$route.query?.path||"message"}/yellow${o}&loginType=user&nohead=true&isH5=true&selfimg=${this.userInfo?.avatar||1}${t&&"&shopName="+t}${e&&"undefined"!=e?"&productId="+e:""}`}}},l=a,h=s(1001),u=(0,h.Z)(l,o,i,!1,null,"3bef7b51",null),c=u.exports},65825:function(t,e,s){s(22184),s(14106),s(4127)}}]);