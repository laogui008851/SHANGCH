"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[6286],{40346:function(t,e,n){n.r(e),n.d(e,{default:function(){return B}});var i,a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"merchantSettled"},[e("van-nav-bar",{ref:"header",attrs:{"safe-area-inset-top":"",title:t.$t("预计还款"),"left-arrow":"",fixed:""},on:{"click-left":function(e){return t.$router.go(-1)}}}),e("div",{staticClass:"merchantSettled-wap"},[e("div",{staticClass:"step-div"},[e("div",[e("div",{staticClass:"content content2"},[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-position":t.labelPosition,"label-width":"200px"}},[e("el-form-item",{attrs:{label:t.$t("申请人"),prop:"name"}},[e("el-input",{attrs:{disabled:"",placeholder:t.$t("真实姓名")},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),e("el-form-item",{attrs:{label:t.$t("已贷款天数"),prop:"days"}},[e("el-input",{attrs:{disabled:"",placeholder:"1".concat(t.$t("天"))},model:{value:t.ruleForm.days,callback:function(e){t.$set(t.ruleForm,"days",e)},expression:"ruleForm.days"}})],1),e("el-form-item",{attrs:{label:t.$t("还款金额"),prop:"amount"}},[e("el-input",{attrs:{placeholder:t.$t("请输入还款金额"),disabled:""},model:{value:t.ruleForm.amount,callback:function(e){t.$set(t.ruleForm,"amount",e)},expression:"ruleForm.amount"}})],1),e("el-form-item",{attrs:{label:t.$t("贷款利率"),prop:"interestRate"}},[e("el-input",{attrs:{placeholder:"2%",disabled:""},model:{value:t.ruleForm.interestRate,callback:function(e){t.$set(t.ruleForm,"interestRate",e)},expression:"ruleForm.interestRate"}})],1),e("el-form-item",{attrs:{label:t.$t("还款方式"),prop:"loanMethod"}},[e("el-input",{attrs:{placeholder:"".concat(t.$t("账户余额")),disabled:""},model:{value:t.ruleForm.loanMethod,callback:function(e){t.$set(t.ruleForm,"loanMethod",e)},expression:"ruleForm.loanMethod"}})],1)],1)],1),e("div",{staticClass:"bottom"},[e("van-button",{staticClass:"button",attrs:{type:"primary",color:t.mainColor},on:{click:t.sellerRegister}},[t._v(t._s(t.$t("确认还款"))+" ")])],1)])])]),e("van-popup",{attrs:{position:"bottom"},model:{value:t.pwtStatus,callback:function(e){t.pwtStatus=e},expression:"pwtStatus"}},[e("enter-Password",{attrs:{isPasswordShow:t.pwtStatus},on:{close:function(e){t.pwtStatus=!1},getPassword:t.getPassword}})],1),e("nationality-list",{ref:"controlChild",attrs:{title:t.$t("选择区域码")},on:{getName:function(e){return t.getName(arguments)}}})],1)},r=[],o=n(51907),s=n(85617),l=n(54503),u=(n(55601),n(10521)),c=n(59018),d=n.n(c),h=n(47149),m=n.n(h),f=(n(12144),n(39907)),p=n(92661),g=n.n(p),b=n(20121),v=n.n(b),Z=n(46069),k=n.n(Z),$=(n(78140),n(39661)),y=(n(88850),n(8280)),w=(n(20058),n(36695)),C=n(60091),F=n.n(C),x=n(94364),S=n.n(x),L=n(56024),P=n.n(L),D=n(86080),R=n(90408),I=n(58030),N=n(9426),_=n(53169),M=n(22412),q=n(2598),T=n(81273),V={name:"merchantSettled",data:function(){return{mainColor:"#f89900",screenWidth:document.body.clientWidth,uploadCheckIndex:1,areaCode:1,pwtStatus:!1,ruleForm:{loanMethod:"",term:"",name:"",idimg_1:"",idimg_2:"",idimg_3:"",idname:"身份证",interestRate:"2%",nationality:"",sellerImg:"",username:"",amount:""},labelPosition:"top",isCode:!0,rules:{amount:[{required:!0,message:this.$t("请输入金额"),trigger:"blur"}]},fileList1:[],fileList2:[],fileList3:[],fileList4:[],CountryList:[{label:"中国",value:"cn",icon:n(90876)}],tabList:[this.$t("电子邮箱"),this.$t("手机号")],tabIndex:0,lang:[{title:"简体中文",key:"cn",icon:n(90876)},{title:"English",key:"en",icon:n(75740)},{title:"繁体中文",key:"tw",icon:n(44012)}],pageDiaCode:!0}},computed:(0,D.Z)({languageIcon:function(){var t=this.$store.getters.language||"tw",e={cn:n(90876),en:n(75740),tw:n(44012)};return e[t]}},(0,R.Se)({activeLang:"language"})),components:(i={EnterPassword:M.Z,NationalityList:q.Z},(0,l.Z)(i,P().name,P()),(0,l.Z)(i,S().name,S()),(0,l.Z)(i,F().name,F()),(0,l.Z)(i,w.Z.name,w.Z),(0,l.Z)(i,y.Z.name,y.Z),(0,l.Z)(i,$.Z.name,$.Z),(0,l.Z)(i,k().name,k()),(0,l.Z)(i,v().name,v()),(0,l.Z)(i,g().name,g()),(0,l.Z)(i,f.Z.name,f.Z),(0,l.Z)(i,m().name,m()),(0,l.Z)(i,d().name,d()),(0,l.Z)(i,u.Z.name,u.Z),i),created:function(){this.screenWidth>=500?this.labelPosition="left":this.labelPosition="top",this.requireLoanRepayForward()},watch:{tabIndex:function(t,e){t!==e&&(this.ruleForm.username="")}},methods:(0,D.Z)((0,D.Z)({requireLoanRepayForward:function(){var t=this;return(0,s.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,_.Br)({creditId:t.$route.query.creditId});case 2:n=e.sent,t.ruleForm.name=n.realName,t.ruleForm.days=n.alreadyCreditDays,t.ruleForm.interestRate=100*n.creditRate+"%",t.ruleForm.loanMethod="".concat(t.$t("账户余额"),": ").concat(n.accountAmount),t.ruleForm.amount=n.estimatePayment;case 8:case"end":return e.stop()}}),e)})))()},requireLoanPay:function(t){var e=this;return(0,s.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,_.ur)({creditId:e.$route.query.creditId,safeword:t});case 2:n.sent,e.$router.go(-1),e.$notify(e.$t("还款成功"),"success");case 5:case"end":return n.stop()}}),n)})))()},getPassword:function(t){this.requireLoanPay(t)},handleCutting:function(){this.isCutting=!0},handleCancel:function(){this.isCutting=!1,this.fileList1=[]},handleUpload:function(t){var e=this,n=new File([t],"logo.png");u.Z.loading({duration:0,message:this.$t("上传中"),forbidClick:!0});var i=new FormData;i.append("file",n),i.append("moduleName","selle"),(0,I.VU)(i).then((function(t){e.ruleForm.sellerImg=t,e.isCutting=!1,e.fileList1[0].content=t}))["finally"]((function(){u.Z.clear()}))},handleCropData:function(t){T.log("裁剪数据"),T.log(t)}},(0,R.OI)(["setLanguage"])),{},{handleSetLang:function(t){T.log(t),this.$i18n.locale=this.lang[t].key,this.setLanguage(this.lang[t].key)},handleDelete:function(t){this["fileList".concat(t)]=[]},sellerRegister:function(){var t=this;this.$refs["ruleForm"].validate((function(e){if(!e)return!1;t.handlePay()}))},handlePay:function(){var t=this;(0,N.bM)({}).then((function(e){1==e.safeword?t.pwtStatus=!0:t.$router.push({path:"/FundPasswordSettings"})}))},openNationality:function(t){this.isCode=1===t,this.$refs.controlChild.open()},getName:function(t){this.isCode?this.areaCode=t[2]:this.ruleForm.nationality=t[0]},afterRead1:function(t){this.imgFile=t.content,this.isCutting=!0},afterRead2:function(t){var e=this;u.Z.loading({duration:0,message:this.$t("上传中"),forbidClick:!0});var n=new FormData;n.append("file",t.file),n.append("moduleName","selle"),(0,I.VU)(n).then((function(t){e.ruleForm.idimg_1=t}))["catch"]((function(t){e.fileList2=[],u.Z.fail(e.$t("上传失败"))}))["finally"]((function(){u.Z.clear()}))},afterRead3:function(t){var e=this;u.Z.loading({duration:0,message:this.$t("上传中"),forbidClick:!0});var n=new FormData;n.append("file",t.file),n.append("moduleName","selle"),(0,I.VU)(n).then((function(t){e.ruleForm.idimg_2=t}))["catch"]((function(t){e.fileList3=[],u.Z.fail(e.$t("上传失败"))}))["finally"]((function(){u.Z.clear()}))},afterRead4:function(t){var e=this;u.Z.loading({duration:0,message:this.$t("上传中"),forbidClick:!0});var n=new FormData;n.append("file",t.file),n.append("moduleName","selle"),(0,I.VU)(n).then((function(t){e.ruleForm.idimg_3=t}))["catch"]((function(t){e.fileList4=[],u.Z.fail(e.$t("上传失败"))}))["finally"]((function(){u.Z.clear()}))}})},G=V,U=n(1001),z=(0,U.Z)(G,a,r,!1,null,"4202be6d",null),B=z.exports},8280:function(t,e,n){n.d(e,{Z:function(){return h}});var i=n(92072),a=n(28490),r=n(14683),o=n(24644),s=n(45291),l=function(t){var e=t.parent,n=t.bem,i=t.role;return{mixins:[(0,o.j)(e),r.f],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===i&&!this.checked?-1:0}},methods:{onClick:function(t){var e=this,n=t.target,i=this.$refs.icon,a=i===n||(null==i?void 0:i.contains(n));this.isDisabled||!a&&this.labelDisabled?this.$emit("click",t):(this.toggle(),setTimeout((function(){e.$emit("click",t)})))},genIcon:function(){var t=this.$createElement,e=this.checked,i=this.iconSize||this.parent&&this.parent.iconSize;return t("div",{ref:"icon",class:n("icon",[this.shape,{disabled:this.isDisabled,checked:e}]),style:{fontSize:(0,s.N)(i)}},[this.slots("icon",{checked:e})||t(a.Z,{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var t=this.$createElement,e=this.slots();if(e)return t("span",{class:n("label",[this.labelPosition,{disabled:this.isDisabled}])},[e])}},render:function(){var t=arguments[0],e=[this.genIcon()];return"left"===this.labelPosition?e.unshift(this.genLabel()):e.push(this.genLabel()),t("div",{attrs:{role:i,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:n([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[e])}}},u=(0,i.d)("checkbox"),c=u[0],d=u[1],h=c({mixins:[l({bem:d,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){e.checked=t}))},setParentValue:function(t){var e=this.parent,n=e.value.slice();if(t){if(e.max&&n.length>=e.max)return;-1===n.indexOf(this.name)&&(n.push(this.name),e.$emit("input",n))}else{var i=n.indexOf(this.name);-1!==i&&(n.splice(i,1),e.$emit("input",n))}}}})},88850:function(t,e,n){n(22184),n(14106),n(4127)},58030:function(t,e,n){n.d(e,{Ew:function(){return c},Ko:function(){return o},Mz:function(){return g},S:function(){return m},VU:function(){return d},aN:function(){return s},h2:function(){return l},lR:function(){return h},mh:function(){return a},nT:function(){return f},tr:function(){return r},w:function(){return p},yS:function(){return u}});var i=n(36005),a=function(t){return(0,i.Z)({url:"api/sellerGoods!info.action",method:"post",params:t})},r=function(t){return(0,i.Z)({url:"/api/evaluation!list.action",method:"post",params:t})},o=function(t){return(0,i.Z)({url:"api/seller!info.action",method:"post",params:t})},s=function(t){return(0,i.Z)({url:"api/order!submit.action",method:"post",params:t})},l=function(t){return(0,i.Z)({url:"api/order!pay.action",method:"post",params:t})},u=function(t){return(0,i.Z)({url:"api/order!info.action",method:"post",params:t})},c=function(t){return(0,i.Z)({url:"/seller/version!register.action",method:"post",params:t})},d=function(t){return(0,i.Z)({url:"api/uploadimg!execute.action",method:"post",data:t})},h=function(t){return(0,i.Z)({url:"api/kyc!get.action",method:"post",params:t})},m=function(t){return(0,i.Z)({url:"api/keepGoods!add.action",method:"post",params:t})},f=function(t){return(0,i.Z)({url:"api/keepGoods!del.action",method:"post",params:t})},p=function(t){return(0,i.Z)({url:"api/evaluation!countType.action",method:"post",params:t})},g=function(t){return(0,i.Z)({url:"api/sellerGoods!recommend_like.action",method:"post",params:t})}}}]);